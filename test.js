function ngettext(s, p, n) {
    return (n == 1) ? s : (p instanceof Array) ? p[~~((n == 1) ? 0 : ((n >= 2 && n <= 4) ? 1 : 2)) || 0] : p;
}
var JSON;
if (function(e) {
    if ("object" == typeof exports && "undefined" != typeof module)
        module.exports = e();
    else if ("function" == typeof define && define.amd)
        define([], e);
    else {
        var i;
        if ("undefined" != typeof window)
            i = window;
        else if ("undefined" != typeof global)
            i = global;
        else if ("undefined" != typeof self)
            i = self;
        else
            i = this;
        i.Raven = e()
    }
}(function() {
    return function r(t, n, a) {
        function s(i, e) {
            if (!n[i]) {
                if (!t[i]) {
                    var o = "function" == typeof require && require;
                    if (!e && o)
                        return o(i, !0);
                    if (l)
                        return l(i, !0);
                    e = new Error("Cannot find module '" + i + "'");
                    throw e.code = "MODULE_NOT_FOUND",
                    e
                }
                o = n[i] = {
                    exports: {}
                };
                t[i][0].call(o.exports, function(e) {
                    var n = t[i][1][e];
                    return s(n ? n : e)
                }, o, o.exports, r, t, n, a)
            }
            return n[i].exports
        }
        for (var l = "function" == typeof require && require, e = 0; e < a.length; e++)
            s(a[e]);
        return s
    }({
        1: [function(e, i, o) {
            function r(e) {
                this.name = "RavenConfigError",
                this.message = e
            }
            r.prototype = new Error,
            i.exports = r.prototype.constructor = r
        }
        , {}],
        2: [function(e, i, o) {
            var d = e(5);
            i.exports = {
                wrapMethod: function(e, r, a) {
                    var l = e[r]
                      , u = e;
                    if (!(r in e))
                        ;
                    else {
                        var c = "warn" === r ? "warning" : r;
                        e[r] = function() {
                            var e = [].slice.call(arguments)
                              , i = d.safeJoin(e, " ")
                              , o = {
                                level: c,
                                logger: "console",
                                extra: {
                                    arguments: e
                                }
                            };
                            if ("assert" === r) {
                                if (!1 === e[0])
                                    i = "Assertion failed: " + (d.safeJoin(e.slice(1), " ") || "console.assert"),
                                    o.extra.arguments = e.slice(1),
                                    a && a(i, o)
                            } else
                                a && a(i, o);
                            if (l)
                                Function.prototype.apply.call(l, u, e)
                        }
                    }
                }
            }
        }
        , {
            5: 5
        }],
        3: [function(Y, Q, e) {
            (function(e) {
                var l = Y(6)
                  , u = Y(7)
                  , r = Y(8)
                  , c = Y(1)
                  , i = Y(5)
                  , a = i.isErrorEvent
                  , d = i.isDOMError
                  , h = i.isDOMException
                  , p = i.isError
                  , f = i.isObject
                  , g = i.isPlainObject
                  , o = i.isUndefined
                  , m = i.isFunction
                  , w = i.isString
                  , v = i.isArray
                  , y = i.isEmptyObject
                  , b = i.each
                  , C = i.objectMerge
                  , T = i.truncate
                  , k = i.objectFrozen
                  , x = i.hasKey
                  , S = i.joinRegExp
                  , A = i.urlencode
                  , E = i.uuid4
                  , M = i.htmlTreeAsString
                  , I = i.isSameException
                  , N = i.isSameStacktrace
                  , P = i.parseUrl
                  , O = i.fill
                  , R = i.supportsFetch
                  , $ = i.supportsReferrerPolicy
                  , z = i.serializeKeysForMessage
                  , q = i.serializeException
                  , H = i.sanitize
                  , U = Y(2).wrapMethod
                  , V = "source protocol user pass host port path".split(" ")
                  , j = /^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;
                function G() {
                    return +new Date
                }
                var D = "undefined" != typeof window ? window : void 0 !== e ? e : "undefined" != typeof self ? self : {}
                  , B = D.document
                  , L = D.navigator;
                function W(i, o) {
                    return m(o) ? function(e) {
                        return o(e, i)
                    }
                    : o
                }
                function F() {
                    for (var e in this._hasJSON = !("object" != typeof JSON || !JSON.stringify),
                    this._hasDocument = !o(B),
                    this._hasNavigator = !o(L),
                    this._lastCapturedException = null,
                    this._lastData = null,
                    this._lastEventId = null,
                    this._globalServer = null,
                    this._globalKey = null,
                    this._globalProject = null,
                    this._globalContext = {},
                    this._globalOptions = {
                        release: D.SENTRY_RELEASE && D.SENTRY_RELEASE.id,
                        logger: "javascript",
                        ignoreErrors: [],
                        ignoreUrls: [],
                        whitelistUrls: [],
                        includePaths: [],
                        headers: null,
                        collectWindowErrors: !0,
                        captureUnhandledRejections: !0,
                        maxMessageLength: 0,
                        maxUrlLength: 250,
                        stackTraceLimit: 50,
                        autoBreadcrumbs: !0,
                        instrument: !0,
                        sampleRate: 1,
                        sanitizeKeys: []
                    },
                    this._fetchDefaults = {
                        method: "POST",
                        referrerPolicy: $() ? "origin" : ""
                    },
                    this._ignoreOnError = 0,
                    this._isRavenInstalled = !1,
                    this._originalErrorStackTraceLimit = Error.stackTraceLimit,
                    this._originalConsole = D.console || {},
                    this._originalConsoleMethods = {},
                    this._plugins = [],
                    this._startTime = G(),
                    this._wrappedBuiltIns = [],
                    this._breadcrumbs = [],
                    this._lastCapturedEvent = null,
                    this._keypressTimeout,
                    this._location = D.location,
                    this._lastHref = this._location && this._location.href,
                    this._resetBackoff(),
                    this._originalConsole)
                        this._originalConsoleMethods[e] = this._originalConsole[e]
                }
                (F.prototype = {
                    VERSION: "3.27.0",
                    debug: !1,
                    TraceKit: l,
                    config: function(e, i) {
                        var o = this;
                        if (o._globalServer)
                            this._logDebug("error", "Error: Raven has already been configured");
                        else if (!e)
                            ;
                        else {
                            var r = o._globalOptions;
                            if (i)
                                b(i, function(e, i) {
                                    if ("tags" === e || "extra" === e || "user" === e)
                                        o._globalContext[e] = i;
                                    else
                                        r[e] = i
                                });
                            o.setDSN(e),
                            r.ignoreErrors.push(/^Script error\.?$/),
                            r.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),
                            r.ignoreErrors = S(r.ignoreErrors),
                            r.ignoreUrls = r.ignoreUrls.length ? S(r.ignoreUrls) : !1,
                            r.whitelistUrls = r.whitelistUrls.length ? S(r.whitelistUrls) : !1,
                            r.includePaths = S(r.includePaths),
                            r.maxBreadcrumbs = Math.max(0, Math.min(r.maxBreadcrumbs || 100, 100));
                            i = {
                                xhr: !0,
                                console: !0,
                                dom: !0,
                                location: !0,
                                sentry: !0
                            },
                            e = r.autoBreadcrumbs;
                            if ("[object Object]" === {}.toString.call(e))
                                e = C(i, e);
                            else if (!1 !== e)
                                e = i;
                            r.autoBreadcrumbs = e;
                            i = {
                                tryCatch: !0
                            },
                            e = r.instrument;
                            if ("[object Object]" === {}.toString.call(e))
                                e = C(i, e);
                            else if (!1 !== e)
                                e = i;
                            r.instrument = e,
                            l.collectWindowErrors = !!r.collectWindowErrors
                        }
                        return o
                    },
                    install: function() {
                        var e = this;
                        if (e.isSetup() && !e._isRavenInstalled) {
                            if (l.report.subscribe(function() {
                                e._handleOnErrorStackInfo.apply(e, arguments)
                            }),
                            e._globalOptions.captureUnhandledRejections)
                                e._attachPromiseRejectionHandler();
                            if (e._patchFunctionToString(),
                            e._globalOptions.instrument && e._globalOptions.instrument.tryCatch)
                                e._instrumentTryCatch();
                            if (e._globalOptions.autoBreadcrumbs)
                                e._instrumentBreadcrumbs();
                            e._drainPlugins(),
                            e._isRavenInstalled = !0
                        }
                        return Error.stackTraceLimit = e._globalOptions.stackTraceLimit,
                        this
                    },
                    setDSN: function(e) {
                        var i = this
                          , o = i._parseDSN(e)
                          , r = o.path.lastIndexOf("/")
                          , a = o.path.substr(1, r);
                        i._dsn = e,
                        i._globalKey = o.user,
                        i._globalSecret = o.pass && o.pass.substr(1),
                        i._globalProject = o.path.substr(r + 1),
                        i._globalServer = i._getGlobalServer(o),
                        i._globalEndpoint = i._globalServer + "/" + a + "api/" + i._globalProject + "/store/",
                        this._resetBackoff()
                    },
                    context: function(e, i, o) {
                        if (m(e))
                            o = i || [],
                            i = e,
                            e = {};
                        return this.wrap(e, i).apply(this, o)
                    },
                    wrap: function(r, a, l) {
                        var e, u = this;
                        if (o(a) && !m(r))
                            return r;
                        if (m(r))
                            a = r,
                            r = void 0;
                        if (!m(a))
                            return a;
                        try {
                            if (a.__raven__)
                                return a;
                            if (a.__raven_wrapper__)
                                return a.__raven_wrapper__
                        } catch (e) {
                            return a
                        }
                        function i() {
                            var e = []
                              , i = arguments.length
                              , o = !r || !1 !== r.deep;
                            if (l && m(l))
                                l.apply(this, arguments);
                            for (; i--; )
                                e[i] = o ? u.wrap(r, arguments[i]) : arguments[i];
                            try {
                                return a.apply(this, e)
                            } catch (e) {
                                throw u._ignoreNextOnError(),
                                u.captureException(e, r),
                                e
                            }
                        }
                        for (e in a)
                            if (x(a, e))
                                i[e] = a[e];
                        return i.prototype = a.prototype,
                        (a.__raven_wrapper__ = i).__raven__ = !0,
                        i.__orig__ = a,
                        i
                    },
                    uninstall: function() {
                        return l.report.uninstall(),
                        this._detachPromiseRejectionHandler(),
                        this._unpatchFunctionToString(),
                        this._restoreBuiltIns(),
                        this._restoreConsole(),
                        Error.stackTraceLimit = this._originalErrorStackTraceLimit,
                        this._isRavenInstalled = !1,
                        this
                    },
                    _promiseRejectionHandler: function(e) {
                        this._logDebug("debug", "Raven caught unhandled promise rejection:", e),
                        this.captureException(e.reason, {
                            mechanism: {
                                type: "onunhandledrejection",
                                handled: !1
                            }
                        })
                    },
                    _attachPromiseRejectionHandler: function() {
                        return this._promiseRejectionHandler = this._promiseRejectionHandler.bind(this),
                        D.addEventListener && D.addEventListener("unhandledrejection", this._promiseRejectionHandler),
                        this
                    },
                    _detachPromiseRejectionHandler: function() {
                        return D.removeEventListener && D.removeEventListener("unhandledrejection", this._promiseRejectionHandler),
                        this
                    },
                    captureException: function(i, e) {
                        if (e = C({
                            trimHeadFrames: 0
                        }, e ? e : {}),
                        a(i) && i.error)
                            i = i.error;
                        else if (d(i) || h(i)) {
                            var o = i.name || (d(i) ? "DOMError" : "DOMException")
                              , o = i.message ? o + ": " + i.message : o;
                            return this.captureMessage(o, C(e, {
                                stacktrace: !0,
                                trimHeadFrames: e.trimHeadFrames + 1
                            }))
                        } else if (p(i))
                            ;
                        else if (g(i))
                            e = this._getCaptureExceptionOptionsFromPlainObject(e, i),
                            i = new Error(e.message);
                        else
                            return this.captureMessage(i, C(e, {
                                stacktrace: !0,
                                trimHeadFrames: e.trimHeadFrames + 1
                            }));
                        this._lastCapturedException = i;
                        try {
                            var r = l.computeStackTrace(i);
                            this._handleStackInfo(r, e)
                        } catch (e) {
                            if (i !== e)
                                throw e
                        }
                        return this
                    },
                    _getCaptureExceptionOptionsFromPlainObject: function(e, i) {
                        var o = Object.keys(i).sort()
                          , o = C(e, {
                            message: "Non-Error exception captured with keys: " + z(o),
                            fingerprint: [r(o)],
                            extra: e.extra || {}
                        });
                        return o.extra.__serialized__ = q(i),
                        o
                    },
                    captureMessage: function(e, i) {
                        if (this._globalOptions.ignoreErrors.test && this._globalOptions.ignoreErrors.test(e))
                            ;
                        else {
                            var o = C({
                                message: e += ""
                            }, i = i || {});
                            try {
                                throw new Error(e)
                            } catch (e) {
                                r = e
                            }
                            r.name = null;
                            var r = l.computeStackTrace(r)
                              , a = v(r.stack) && r.stack[1];
                            if (a && "Raven.captureException" === a.func)
                                a = r.stack[2];
                            a = a && a.url || "";
                            if (this._globalOptions.ignoreUrls.test && this._globalOptions.ignoreUrls.test(a))
                                ;
                            else if (this._globalOptions.whitelistUrls.test && !this._globalOptions.whitelistUrls.test(a))
                                ;
                            else {
                                if (this._globalOptions.stacktrace || i.stacktrace || "" === o.message) {
                                    o.fingerprint = null == o.fingerprint ? e : o.fingerprint,
                                    (i = C({
                                        trimHeadFrames: 0
                                    }, i)).trimHeadFrames += 1;
                                    a = this._prepareFrames(r, i);
                                    o.stacktrace = {
                                        frames: a.reverse()
                                    }
                                }
                                if (o.fingerprint)
                                    o.fingerprint = v(o.fingerprint) ? o.fingerprint : [o.fingerprint];
                                return this._send(o),
                                this
                            }
                        }
                    },
                    captureBreadcrumb: function(e) {
                        e = C({
                            timestamp: G() / 1e3
                        }, e);
                        if (m(this._globalOptions.breadcrumbCallback)) {
                            var i = this._globalOptions.breadcrumbCallback(e);
                            if (f(i) && !y(i))
                                e = i;
                            else if (!1 === i)
                                return this
                        }
                        if (this._breadcrumbs.push(e),
                        this._breadcrumbs.length > this._globalOptions.maxBreadcrumbs)
                            this._breadcrumbs.shift();
                        return this
                    },
                    addPlugin: function(e) {
                        var i = [].slice.call(arguments, 1);
                        if (this._plugins.push([e, i]),
                        this._isRavenInstalled)
                            this._drainPlugins();
                        return this
                    },
                    setUserContext: function(e) {
                        return this._globalContext.user = e,
                        this
                    },
                    setExtraContext: function(e) {
                        return this._mergeContext("extra", e),
                        this
                    },
                    setTagsContext: function(e) {
                        return this._mergeContext("tags", e),
                        this
                    },
                    clearContext: function() {
                        return this._globalContext = {},
                        this
                    },
                    getContext: function() {
                        return JSON.parse(u(this._globalContext))
                    },
                    setEnvironment: function(e) {
                        return this._globalOptions.environment = e,
                        this
                    },
                    setRelease: function(e) {
                        return this._globalOptions.release = e,
                        this
                    },
                    setDataCallback: function(e) {
                        var i = this._globalOptions.dataCallback;
                        return this._globalOptions.dataCallback = W(i, e),
                        this
                    },
                    setBreadcrumbCallback: function(e) {
                        var i = this._globalOptions.breadcrumbCallback;
                        return this._globalOptions.breadcrumbCallback = W(i, e),
                        this
                    },
                    setShouldSendCallback: function(e) {
                        var i = this._globalOptions.shouldSendCallback;
                        return this._globalOptions.shouldSendCallback = W(i, e),
                        this
                    },
                    setTransport: function(e) {
                        return this._globalOptions.transport = e,
                        this
                    },
                    lastException: function() {
                        return this._lastCapturedException
                    },
                    lastEventId: function() {
                        return this._lastEventId
                    },
                    isSetup: function() {
                        if (!this._hasJSON)
                            ;
                        else {
                            if (this._globalServer)
                                return !0;
                            if (!this.ravenNotConfiguredError)
                                this.ravenNotConfiguredError = !0,
                                this._logDebug("error", "Error: Raven has not been configured.")
                        }
                        return !1
                    },
                    afterLoad: function() {
                        var e = D.RavenConfig;
                        if (e)
                            this.config(e.dsn, e.config).install()
                    },
                    showReportDialog: function(e) {
                        if (!B)
                            ;
                        else {
                            if (!(e = C({
                                eventId: this.lastEventId(),
                                dsn: this._dsn,
                                user: this._globalContext.user || {}
                            }, e)).eventId)
                                throw new c("Missing eventId");
                            if (!e.dsn)
                                throw new c("Missing DSN");
                            var i, o = encodeURIComponent, r = [];
                            for (i in e)
                                if ("user" === i) {
                                    var a = e.user;
                                    if (a.name)
                                        r.push("name=" + o(a.name));
                                    if (a.email)
                                        r.push("email=" + o(a.email))
                                } else
                                    r.push(o(i) + "=" + o(e[i]));
                            var l = this._getGlobalServer(this._parseDSN(e.dsn))
                              , u = B.createElement("script");
                            u.async = !0,
                            u.src = l + "/api/embed/error-page/?" + r.join("&"),
                            (B.head || B.body).appendChild(u)
                        }
                    },
                    _ignoreNextOnError: function() {
                        var e = this;
                        this._ignoreOnError += 1,
                        setTimeout(function() {
                            --e._ignoreOnError
                        })
                    },
                    _triggerEvent: function(e, i) {
                        var o, r;
                        if (!this._hasDocument)
                            ;
                        else {
                            if (i = i || {},
                            e = "raven" + e.substr(0, 1).toUpperCase() + e.substr(1),
                            B.createEvent)
                                (o = B.createEvent("HTMLEvents")).initEvent(e, !0, !0);
                            else
                                (o = B.createEventObject()).eventType = e;
                            for (r in i)
                                if (x(i, r))
                                    o[r] = i[r];
                            if (B.createEvent)
                                B.dispatchEvent(o);
                            else
                                try {
                                    B.fireEvent("on" + o.eventType.toLowerCase(), o)
                                } catch (e) {}
                        }
                    },
                    _breadcrumbEventHandler: function(o) {
                        var r = this;
                        return function(e) {
                            if (r._keypressTimeout = null,
                            r._lastCapturedEvent === e)
                                ;
                            else {
                                var i;
                                r._lastCapturedEvent = e;
                                try {
                                    i = M(e.target)
                                } catch (e) {
                                    i = "<unknown>"
                                }
                                r.captureBreadcrumb({
                                    category: "ui." + o,
                                    message: i
                                })
                            }
                        }
                    },
                    _keypressEventHandler: function() {
                        var r = this;
                        return function(e) {
                            var i;
                            try {
                                i = e.target
                            } catch (e) {
                                return
                            }
                            var o = i && i.tagName;
                            if (!o || "INPUT" !== o && "TEXTAREA" !== o && !i.isContentEditable)
                                ;
                            else {
                                o = r._keypressTimeout;
                                if (!o)
                                    r._breadcrumbEventHandler("input")(e);
                                clearTimeout(o),
                                r._keypressTimeout = setTimeout(function() {
                                    r._keypressTimeout = null
                                }, 1e3)
                            }
                        }
                    },
                    _captureUrlChange: function(e, i) {
                        var o = P(this._location.href)
                          , r = P(i)
                          , a = P(e);
                        if (this._lastHref = i,
                        o.protocol === r.protocol && o.host === r.host)
                            i = r.relative;
                        if (o.protocol === a.protocol && o.host === a.host)
                            e = a.relative;
                        this.captureBreadcrumb({
                            category: "navigation",
                            data: {
                                to: i,
                                from: e
                            }
                        })
                    },
                    _patchFunctionToString: function() {
                        var e = this;
                        e._originalFunctionToString = Function.prototype.toString,
                        Function.prototype.toString = function() {
                            if ("function" == typeof this && this.__raven__)
                                return e._originalFunctionToString.apply(this.__orig__, arguments);
                            else
                                return e._originalFunctionToString.apply(this, arguments)
                        }
                    },
                    _unpatchFunctionToString: function() {
                        if (this._originalFunctionToString)
                            Function.prototype.toString = this._originalFunctionToString
                    },
                    _instrumentTryCatch: function() {
                        var h = this
                          , i = h._wrappedBuiltIns;
                        function e(a) {
                            return function(e, t) {
                                for (var i = new Array(arguments.length), o = 0; o < i.length; ++o)
                                    i[o] = arguments[o];
                                var r = i[0];
                                if (m(r))
                                    i[0] = h.wrap({
                                        mechanism: {
                                            type: "instrument",
                                            data: {
                                                function: a.name || "<anonymous>"
                                            }
                                        }
                                    }, r);
                                if (a.apply)
                                    return a.apply(this, i);
                                else
                                    return a(i[0], i[1])
                            }
                        }
                        var p = this._globalOptions.autoBreadcrumbs;
                        if (O(D, "setTimeout", e, i),
                        O(D, "setInterval", e, i),
                        D.requestAnimationFrame)
                            O(D, "requestAnimationFrame", function(i) {
                                return function(e) {
                                    return i(h.wrap({
                                        mechanism: {
                                            type: "instrument",
                                            data: {
                                                function: "requestAnimationFrame",
                                                handler: i && i.name || "<anonymous>"
                                            }
                                        }
                                    }, e))
                                }
                            }, i);
                        for (var o = ["EventTarget", "Window", "Node", "ApplicationCache", "AudioTrackList", "ChannelMergerNode", "CryptoOperation", "EventSource", "FileReader", "HTMLUnknownElement", "IDBDatabase", "IDBRequest", "IDBTransaction", "KeyOperation", "MediaController", "MessagePort", "ModalWindow", "Notification", "SVGElementInstance", "Screen", "TextTrack", "TextTrackCue", "TextTrackList", "WebSocket", "WebSocketWorker", "Worker", "XMLHttpRequest", "XMLHttpRequestEventTarget", "XMLHttpRequestUpload"], r = 0; r < o.length; r++)
                            (function(d) {
                                var e = D[d] && D[d].prototype;
                                if (e && e.hasOwnProperty && e.hasOwnProperty("addEventListener"))
                                    O(e, "addEventListener", function(c) {
                                        return function(e, i, o, r) {
                                            try {
                                                if (i && i.handleEvent)
                                                    i.handleEvent = h.wrap({
                                                        mechanism: {
                                                            type: "instrument",
                                                            data: {
                                                                target: d,
                                                                function: "handleEvent",
                                                                handler: i && i.name || "<anonymous>"
                                                            }
                                                        }
                                                    }, i.handleEvent)
                                            } catch (e) {}
                                            var a, l, u;
                                            if (p && p.dom && ("EventTarget" === d || "Node" === d))
                                                l = h._breadcrumbEventHandler("click"),
                                                u = h._keypressEventHandler(),
                                                a = function(e) {
                                                    if (!e)
                                                        ;
                                                    else {
                                                        var i;
                                                        try {
                                                            i = e.type
                                                        } catch (e) {
                                                            return
                                                        }
                                                        if ("click" === i)
                                                            return l(e);
                                                        else if ("keypress" === i)
                                                            return u(e)
                                                    }
                                                }
                                                ;
                                            return c.call(this, e, h.wrap({
                                                mechanism: {
                                                    type: "instrument",
                                                    data: {
                                                        target: d,
                                                        function: "addEventListener",
                                                        handler: i && i.name || "<anonymous>"
                                                    }
                                                }
                                            }, i, a), o, r)
                                        }
                                    }, i),
                                    O(e, "removeEventListener", function(a) {
                                        return function(e, i, o, r) {
                                            try {
                                                i = i && (i.__raven_wrapper__ ? i.__raven_wrapper__ : i)
                                            } catch (e) {}
                                            return a.call(this, e, i, o, r)
                                        }
                                    }, i)
                            }
                            )(o[r])
                    },
                    _instrumentBreadcrumbs: function() {
                        var c = this
                          , e = this._globalOptions.autoBreadcrumbs
                          , i = c._wrappedBuiltIns;
                        if (e.xhr && "XMLHttpRequest"in D) {
                            var o = D.XMLHttpRequest && D.XMLHttpRequest.prototype;
                            O(o, "open", function(o) {
                                return function(e, i) {
                                    if (w(i) && -1 === i.indexOf(c._globalKey))
                                        this.__raven_xhr = {
                                            method: e,
                                            url: i,
                                            status_code: null
                                        };
                                    return o.apply(this, arguments)
                                }
                            }, i),
                            O(o, "send", function(a) {
                                return function() {
                                    var e = this;
                                    function i() {
                                        if (e.__raven_xhr && 4 === e.readyState) {
                                            try {
                                                e.__raven_xhr.status_code = e.status
                                            } catch (e) {}
                                            c.captureBreadcrumb({
                                                type: "http",
                                                category: "xhr",
                                                data: e.__raven_xhr
                                            })
                                        }
                                    }
                                    for (var o = ["onload", "onerror", "onprogress"], r = 0; r < o.length; r++)
                                        (function(i, e) {
                                            if (i in e && m(e[i]))
                                                O(e, i, function(e) {
                                                    return c.wrap({
                                                        mechanism: {
                                                            type: "instrument",
                                                            data: {
                                                                function: i,
                                                                handler: e && e.name || "<anonymous>"
                                                            }
                                                        }
                                                    }, e)
                                                })
                                        }
                                        )(o[r], e);
                                    if ("onreadystatechange"in e && m(e.onreadystatechange))
                                        O(e, "onreadystatechange", function(e) {
                                            return c.wrap({
                                                mechanism: {
                                                    type: "instrument",
                                                    data: {
                                                        function: "onreadystatechange",
                                                        handler: e && e.name || "<anonymous>"
                                                    }
                                                }
                                            }, e, i)
                                        });
                                    else
                                        e.onreadystatechange = i;
                                    return a.apply(this, arguments)
                                }
                            }, i)
                        }
                        if (e.xhr && R())
                            O(D, "fetch", function(u) {
                                return function() {
                                    for (var e = new Array(arguments.length), i = 0; i < e.length; ++i)
                                        e[i] = arguments[i];
                                    var o, r = e[0], a = "GET";
                                    if ("string" == typeof r)
                                        o = r;
                                    else if ("Request"in D && r instanceof D.Request) {
                                        if (o = r.url,
                                        r.method)
                                            a = r.method
                                    } else
                                        o = "" + r;
                                    if (-1 !== o.indexOf(c._globalKey))
                                        return u.apply(this, e);
                                    if (e[1] && e[1].method)
                                        a = e[1].method;
                                    var l = {
                                        method: a,
                                        url: o,
                                        status_code: null
                                    };
                                    return u.apply(this, e).then(function(e) {
                                        return l.status_code = e.status,
                                        c.captureBreadcrumb({
                                            type: "http",
                                            category: "fetch",
                                            data: l
                                        }),
                                        e
                                    }).catch(function(e) {
                                        throw c.captureBreadcrumb({
                                            type: "http",
                                            category: "fetch",
                                            data: l,
                                            level: "error"
                                        }),
                                        e
                                    })
                                }
                            }, i);
                        if (e.dom && this._hasDocument)
                            if (B.addEventListener)
                                B.addEventListener("click", c._breadcrumbEventHandler("click"), !1),
                                B.addEventListener("keypress", c._keypressEventHandler(), !1);
                            else if (B.attachEvent)
                                B.attachEvent("onclick", c._breadcrumbEventHandler("click")),
                                B.attachEvent("onkeypress", c._keypressEventHandler());
                        o = D.chrome,
                        o = !(o && o.app && o.app.runtime) && D.history && D.history.pushState && D.history.replaceState;
                        if (e.location && o) {
                            function r(i) {
                                return function() {
                                    var e = 2 < arguments.length ? arguments[2] : void 0;
                                    if (e)
                                        c._captureUrlChange(c._lastHref, e + "");
                                    return i.apply(this, arguments)
                                }
                            }
                            var a = D.onpopstate;
                            D.onpopstate = function() {
                                var e = c._location.href;
                                if (c._captureUrlChange(c._lastHref, e),
                                a)
                                    return a.apply(this, arguments)
                            }
                            ;
                            O(D.history, "pushState", r, i),
                            O(D.history, "replaceState", r, i)
                        }
                        if (e.console && "console"in D && console.log) {
                            function l(e, i) {
                                c.captureBreadcrumb({
                                    message: e,
                                    level: i.level,
                                    category: "console"
                                })
                            }
                            b(["debug", "info", "warn", "error", "log"], function(_, e) {
                                U(console, e, l)
                            })
                        }
                    },
                    _restoreBuiltIns: function() {
                        for (var e; this._wrappedBuiltIns.length; )
                            (e = this._wrappedBuiltIns.shift())[0][e[1]] = e[2]
                    },
                    _restoreConsole: function() {
                        for (var e in this._originalConsoleMethods)
                            this._originalConsole[e] = this._originalConsoleMethods[e]
                    },
                    _drainPlugins: function() {
                        var i = this;
                        b(this._plugins, function(_, e) {
                            e[0].apply(i, [i].concat(e[1]))
                        })
                    },
                    _parseDSN: function(i) {
                        var e = j.exec(i)
                          , o = {}
                          , r = 7;
                        try {
                            for (; r--; )
                                o[V[r]] = e[r] || ""
                        } catch (e) {
                            throw new c("Invalid DSN: " + i)
                        }
                        if (o.pass && !this._globalOptions.allowSecretKey)
                            throw new c("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");
                        return o
                    },
                    _getGlobalServer: function(e) {
                        var i = "//" + e.host + (e.port ? ":" + e.port : "");
                        if (e.protocol)
                            i = e.protocol + ":" + i;
                        return i
                    },
                    _handleOnErrorStackInfo: function(e, i) {
                        if ((i = i || {}).mechanism = i.mechanism || {
                            type: "onerror",
                            handled: !1
                        },
                        !this._ignoreOnError)
                            this._handleStackInfo(e, i)
                    },
                    _handleStackInfo: function(e, i) {
                        var o = this._prepareFrames(e, i);
                        this._triggerEvent("handle", {
                            stackInfo: e,
                            options: i
                        }),
                        this._processException(e.name, e.message, e.url, e.lineno, o, i)
                    },
                    _prepareFrames: function(o, e) {
                        var r = this
                          , a = [];
                        if (o.stack && o.stack.length)
                            if (b(o.stack, function(e, i) {
                                i = r._normalizeFrame(i, o.url);
                                if (i)
                                    a.push(i)
                            }),
                            e && e.trimHeadFrames)
                                for (var i = 0; i < e.trimHeadFrames && i < a.length; i++)
                                    a[i].in_app = !1;
                        return a = a.slice(0, this._globalOptions.stackTraceLimit)
                    },
                    _normalizeFrame: function(e, i) {
                        var o = {
                            filename: e.url,
                            lineno: e.line,
                            colno: e.column,
                            function: e.func || "?"
                        };
                        if (!e.url)
                            o.filename = i;
                        return o.in_app = !(this._globalOptions.includePaths.test && !this._globalOptions.includePaths.test(o.filename) || /(Raven|TraceKit)\./.test(o.function) || /raven\.(min\.)?js$/.test(o.filename)),
                        o
                    },
                    _processException: function(e, i, o, r, a, l) {
                        var u, c = (e ? e + ": " : "") + (i || "");
                        if (this._globalOptions.ignoreErrors.test && (this._globalOptions.ignoreErrors.test(i) || this._globalOptions.ignoreErrors.test(c)))
                            ;
                        else {
                            if (a && a.length)
                                o = a[0].filename || o,
                                a.reverse(),
                                u = {
                                    frames: a
                                };
                            else if (o)
                                u = {
                                    frames: [{
                                        filename: o,
                                        lineno: r,
                                        in_app: !0
                                    }]
                                };
                            if (this._globalOptions.ignoreUrls.test && this._globalOptions.ignoreUrls.test(o))
                                ;
                            else if (this._globalOptions.whitelistUrls.test && !this._globalOptions.whitelistUrls.test(o))
                                ;
                            else {
                                c = C({
                                    exception: {
                                        values: [{
                                            type: e,
                                            value: i,
                                            stacktrace: u
                                        }]
                                    },
                                    transaction: o
                                }, l),
                                a = c.exception.values[0];
                                if (null == a.type && "" === a.value)
                                    a.value = "Unrecoverable error caught";
                                if (!c.exception.mechanism && c.mechanism)
                                    c.exception.mechanism = c.mechanism,
                                    delete c.mechanism;
                                c.exception.mechanism = C({
                                    type: "generic",
                                    handled: !0
                                }, c.exception.mechanism || {}),
                                this._send(c)
                            }
                        }
                    },
                    _trimPacket: function(e) {
                        var i = this._globalOptions.maxMessageLength;
                        if (e.message)
                            e.message = T(e.message, i);
                        if (e.exception) {
                            var o = e.exception.values[0];
                            o.value = T(o.value, i)
                        }
                        o = e.request;
                        if (o) {
                            if (o.url)
                                o.url = T(o.url, this._globalOptions.maxUrlLength);
                            if (o.Referer)
                                o.Referer = T(o.Referer, this._globalOptions.maxUrlLength)
                        }
                        if (e.breadcrumbs && e.breadcrumbs.values)
                            this._trimBreadcrumbs(e.breadcrumbs);
                        return e
                    },
                    _trimBreadcrumbs: function(e) {
                        for (var i, o, r = ["to", "from", "url"], a = 0; a < e.values.length; ++a)
                            if (!(o = e.values[a]).hasOwnProperty("data") || !f(o.data) || k(o.data))
                                ;
                            else {
                                for (var l = C({}, o.data), u = 0; u < r.length; ++u)
                                    if (l.hasOwnProperty(i = r[u]) && l[i])
                                        l[i] = T(l[i], this._globalOptions.maxUrlLength);
                                e.values[a].data = l
                            }
                    },
                    _getHttpData: function() {
                        if (!this._hasNavigator && !this._hasDocument)
                            ;
                        else {
                            var e = {};
                            if (this._hasNavigator && L.userAgent)
                                e.headers = {
                                    "User-Agent": L.userAgent
                                };
                            if (D.location && D.location.href)
                                e.url = D.location.href;
                            if (this._hasDocument && B.referrer) {
                                if (!e.headers)
                                    e.headers = {};
                                e.headers.Referer = B.referrer
                            }
                            return e
                        }
                    },
                    _resetBackoff: function() {
                        this._backoffDuration = 0,
                        this._backoffStart = null
                    },
                    _shouldBackoff: function() {
                        return this._backoffDuration && G() - this._backoffStart < this._backoffDuration
                    },
                    _isRepeatData: function(e) {
                        var i = this._lastData;
                        if (!i || e.message !== i.message || e.transaction !== i.transaction)
                            return !1;
                        if (e.stacktrace || i.stacktrace)
                            return N(e.stacktrace, i.stacktrace);
                        else if (e.exception || i.exception)
                            return I(e.exception, i.exception);
                        return !0
                    },
                    _setBackoffState: function(e) {
                        if (this._shouldBackoff())
                            ;
                        else {
                            var i, o = e.status;
                            if (400 !== o && 401 !== o && 429 !== o)
                                ;
                            else {
                                try {
                                    if (R())
                                        i = e.headers.get("Retry-After");
                                    else
                                        i = e.getResponseHeader("Retry-After");
                                    i = 1e3 * parseInt(i, 10)
                                } catch (e) {}
                                this._backoffDuration = i ? i : 2 * this._backoffDuration || 1e3,
                                this._backoffStart = G()
                            }
                        }
                    },
                    _send: function(i) {
                        var e = this._globalOptions
                          , o = {
                            project: this._globalProject,
                            logger: e.logger,
                            platform: "javascript"
                        }
                          , r = this._getHttpData();
                        if (r)
                            o.request = r;
                        if (i.trimHeadFrames)
                            delete i.trimHeadFrames;
                        if ((i = C(o, i)).tags = C(C({}, this._globalContext.tags), i.tags),
                        i.extra = C(C({}, this._globalContext.extra), i.extra),
                        i.extra["session:duration"] = G() - this._startTime,
                        this._breadcrumbs && 0 < this._breadcrumbs.length)
                            i.breadcrumbs = {
                                values: [].slice.call(this._breadcrumbs, 0)
                            };
                        if (this._globalContext.user)
                            i.user = this._globalContext.user;
                        if (e.environment)
                            i.environment = e.environment;
                        if (e.release)
                            i.release = e.release;
                        if (e.serverName)
                            i.server_name = e.serverName;
                        if (i = this._sanitizeData(i),
                        Object.keys(i).forEach(function(e) {
                            if (null == i[e] || "" === i[e] || y(i[e]))
                                delete i[e]
                        }),
                        m(e.dataCallback))
                            i = e.dataCallback(i) || i;
                        if (!i || y(i))
                            ;
                        else if (m(e.shouldSendCallback) && !e.shouldSendCallback(i))
                            ;
                        else if (this._shouldBackoff())
                            this._logDebug("warn", "Raven dropped error due to backoff: ", i);
                        else if ("number" == typeof e.sampleRate) {
                            if (Math.random() < e.sampleRate)
                                this._sendProcessedPayload(i)
                        } else
                            this._sendProcessedPayload(i)
                    },
                    _sanitizeData: function(e) {
                        return H(e, this._globalOptions.sanitizeKeys)
                    },
                    _getUuid: function() {
                        return E()
                    },
                    _sendProcessedPayload: function(i, o) {
                        var r = this
                          , e = this._globalOptions;
                        if (!this.isSetup())
                            ;
                        else if (i = this._trimPacket(i),
                        !this._globalOptions.allowDuplicates && this._isRepeatData(i))
                            this._logDebug("warn", "Raven dropped repeat event: ", i);
                        else {
                            this._lastEventId = i.event_id || (i.event_id = this._getUuid()),
                            this._lastData = i,
                            this._logDebug("debug", "Raven about to send:", i);
                            var a = {
                                sentry_version: "7",
                                sentry_client: "raven-js/" + this.VERSION,
                                sentry_key: this._globalKey
                            };
                            if (this._globalSecret)
                                a.sentry_secret = this._globalSecret;
                            var l = i.exception && i.exception.values[0];
                            if (this._globalOptions.autoBreadcrumbs && this._globalOptions.autoBreadcrumbs.sentry)
                                this.captureBreadcrumb({
                                    category: "sentry",
                                    message: l ? (l.type ? l.type + ": " : "") + l.value : i.message,
                                    event_id: i.event_id,
                                    level: i.level || "error"
                                });
                            var u = this._globalEndpoint;
                            (e.transport || this._makeRequest).call(this, {
                                url: u,
                                auth: a,
                                data: i,
                                options: e,
                                onSuccess: function() {
                                    r._resetBackoff(),
                                    r._triggerEvent("success", {
                                        data: i,
                                        src: u
                                    }),
                                    o && o()
                                },
                                onError: function(e) {
                                    if (r._logDebug("error", "Raven transport failed to send: ", e),
                                    e.request)
                                        r._setBackoffState(e.request);
                                    r._triggerEvent("failure", {
                                        data: i,
                                        src: u
                                    }),
                                    e = e || new Error("Raven send failed (no additional details provided)"),
                                    o && o(e)
                                }
                            })
                        }
                    },
                    _makeRequest: function(o) {
                        var e = o.url + "?" + A(o.auth)
                          , i = null
                          , r = {};
                        if (o.options.headers)
                            i = this._evaluateHash(o.options.headers);
                        if (o.options.fetchParameters)
                            r = this._evaluateHash(o.options.fetchParameters);
                        if (R()) {
                            r.body = u(o.data);
                            var a = C({}, this._fetchDefaults)
                              , a = C(a, r);
                            if (i)
                                a.headers = i;
                            return D.fetch(e, a).then(function(e) {
                                if (e.ok)
                                    o.onSuccess && o.onSuccess();
                                else {
                                    var i = new Error("Sentry error code: " + e.status);
                                    i.request = e,
                                    o.onError && o.onError(i)
                                }
                            }).catch(function() {
                                o.onError && o.onError(new Error("Sentry error code: network unavailable"))
                            })
                        }
                        var l = D.XMLHttpRequest && new D.XMLHttpRequest;
                        if (!l)
                            ;
                        else if (!("withCredentials"in l || "undefined" != typeof XDomainRequest))
                            ;
                        else {
                            if ("withCredentials"in l)
                                l.onreadystatechange = function() {
                                    if (4 !== l.readyState)
                                        ;
                                    else if (200 === l.status)
                                        o.onSuccess && o.onSuccess();
                                    else if (o.onError) {
                                        var e = new Error("Sentry error code: " + l.status);
                                        e.request = l,
                                        o.onError(e)
                                    }
                                }
                                ;
                            else {
                                if (l = new XDomainRequest,
                                e = e.replace(/^https?:/, ""),
                                o.onSuccess)
                                    l.onload = o.onSuccess;
                                if (o.onError)
                                    l.onerror = function() {
                                        var e = new Error("Sentry error code: XDomainRequest");
                                        e.request = l,
                                        o.onError(e)
                                    }
                            }
                            if (l.open("POST", e),
                            i)
                                b(i, function(e, i) {
                                    l.setRequestHeader(e, i)
                                });
                            l.send(u(o.data))
                        }
                    },
                    _evaluateHash: function(e) {
                        var i, o = {};
                        for (i in e)
                            if (e.hasOwnProperty(i)) {
                                var r = e[i];
                                o[i] = "function" == typeof r ? r() : r
                            }
                        return o
                    },
                    _logDebug: function(e) {
                        if (this._originalConsoleMethods[e] && (this.debug || this._globalOptions.debug))
                            Function.prototype.apply.call(this._originalConsoleMethods[e], this._originalConsole, [].slice.call(arguments, 1))
                    },
                    _mergeContext: function(e, i) {
                        if (o(i))
                            delete this._globalContext[e];
                        else
                            this._globalContext[e] = C(this._globalContext[e] || {}, i)
                    }
                }).setUser = F.prototype.setUserContext,
                F.prototype.setReleaseContext = F.prototype.setRelease,
                Q.exports = F
            }
            ).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }
        , {
            1: 1,
            2: 2,
            5: 5,
            6: 6,
            7: 7,
            8: 8
        }],
        4: [function(l, u, e) {
            (function(e) {
                var i = l(3)
                  , o = "undefined" != typeof window ? window : void 0 !== e ? e : "undefined" != typeof self ? self : {}
                  , r = o.Raven
                  , a = new i;
                a.noConflict = function() {
                    return o.Raven = r,
                    a
                }
                ,
                a.afterLoad(),
                u.exports = a,
                u.exports.Client = i
            }
            ).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }
        , {
            3: 3
        }],
        5: [function(y, b, e) {
            (function(e) {
                var l = y(7)
                  , r = "undefined" != typeof window ? window : void 0 !== e ? e : "undefined" != typeof self ? self : {};
                function a(e) {
                    return void 0 === e
                }
                function u(e) {
                    return "[object Object]" === Object.prototype.toString.call(e)
                }
                function d(e) {
                    return "[object String]" === Object.prototype.toString.call(e)
                }
                function c(e) {
                    return "[object Array]" === Object.prototype.toString.call(e)
                }
                function i() {
                    if (!("fetch"in r))
                        return !1;
                    try {
                        return new Headers,
                        new Request(""),
                        new Response,
                        !0
                    } catch (e) {
                        return !1
                    }
                }
                function h(e, i) {
                    var o, r;
                    if (a(e.length)) {
                        for (o in e)
                            if (p(e, o))
                                i.call(null, o, e[o])
                    } else if (r = e.length)
                        for (o = 0; o < r; o++)
                            i.call(null, o, e[o])
                }
                function o(e, i) {
                    if ("number" != typeof i)
                        throw new Error("2nd argument to `truncate` function should be a number");
                    if ("string" != typeof e || 0 === i)
                        return e;
                    else
                        return e.length <= i ? e : e.substr(0, i) + "…"
                }
                function p(e, i) {
                    return Object.prototype.hasOwnProperty.call(e, i)
                }
                function f(e) {
                    for (var i, o = [], r = 0, a = e.length; r < a; r++)
                        if (d(i = e[r]))
                            o.push(i.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, "\\$1"));
                        else if (i && i.source)
                            o.push(i.source);
                    return new RegExp(o.join("|"),"i")
                }
                function g(e) {
                    var i, o, r, a, l = [];
                    if (!e || !e.tagName)
                        return "";
                    if (l.push(e.tagName.toLowerCase()),
                    e.id)
                        l.push("#" + e.id);
                    if ((i = e.className) && d(i))
                        for (o = i.split(/\s+/),
                        c = 0; c < o.length; c++)
                            l.push("." + o[c]);
                    for (var u = ["type", "name", "title", "alt"], c = 0; c < u.length; c++)
                        if (a = e.getAttribute(r = u[c]))
                            l.push("[" + r + '="' + a + '"]');
                    return l.join("")
                }
                function m(e, i) {
                    if (!!e ^ !!i)
                        return !1;
                    var o, r, a = e.frames, l = i.frames;
                    if (void 0 === a || void 0 === l)
                        return !1;
                    if (a.length !== l.length)
                        return !1;
                    for (var u = 0; u < a.length; u++)
                        if (o = a[u],
                        r = l[u],
                        o.filename !== r.filename || o.lineno !== r.lineno || o.colno !== r.colno || o.function !== r.function)
                            return !1;
                    return !0
                }
                function w(e) {
                    return e = JSON.stringify(e),
                    ~-encodeURI(e).split(/%..|./).length
                }
                function v(e) {
                    if ("string" == typeof e)
                        return o(e, 40);
                    else if ("number" == typeof e || "boolean" == typeof e || void 0 === e)
                        return e;
                    var i = Object.prototype.toString.call(e);
                    if ("[object Object]" === i)
                        return "[Object]";
                    if ("[object Array]" === i)
                        return "[Array]";
                    if ("[object Function]" === i)
                        return e.name ? "[Function: " + e.name + "]" : "[Function]";
                    else
                        return e
                }
                b.exports = {
                    isObject: function(e) {
                        return "object" == typeof e && null !== e
                    },
                    isError: function(e) {
                        switch (Object.prototype.toString.call(e)) {
                        case "[object Error]":
                        case "[object Exception]":
                        case "[object DOMException]":
                            return !0;
                        default:
                            return e instanceof Error
                        }
                    },
                    isErrorEvent: function(e) {
                        return "[object ErrorEvent]" === Object.prototype.toString.call(e)
                    },
                    isDOMError: function(e) {
                        return "[object DOMError]" === Object.prototype.toString.call(e)
                    },
                    isDOMException: function(e) {
                        return "[object DOMException]" === Object.prototype.toString.call(e)
                    },
                    isUndefined: a,
                    isFunction: function(e) {
                        return "function" == typeof e
                    },
                    isPlainObject: u,
                    isString: d,
                    isArray: c,
                    isEmptyObject: function(e) {
                        if (!u(e))
                            return !1;
                        for (var _ in e)
                            if (e.hasOwnProperty(_))
                                return !1;
                        return !0
                    },
                    supportsErrorEvent: function() {
                        try {
                            return new ErrorEvent(""),
                            !0
                        } catch (e) {
                            return !1
                        }
                    },
                    supportsDOMError: function() {
                        try {
                            return new DOMError(""),
                            !0
                        } catch (e) {
                            return !1
                        }
                    },
                    supportsDOMException: function() {
                        try {
                            return new DOMException(""),
                            !0
                        } catch (e) {
                            return !1
                        }
                    },
                    supportsFetch: i,
                    supportsReferrerPolicy: function() {
                        if (!i())
                            return !1;
                        try {
                            return new Request("pickleRick",{
                                referrerPolicy: "origin"
                            }),
                            !0
                        } catch (e) {
                            return !1
                        }
                    },
                    supportsPromiseRejectionEvent: function() {
                        return "function" == typeof PromiseRejectionEvent
                    },
                    wrappedCallback: function(o) {
                        return function(e, i) {
                            if (e = o(e) || e,
                            i)
                                return i(e) || e;
                            else
                                return e
                        }
                    },
                    each: h,
                    objectMerge: function(o, e) {
                        if (!e)
                            ;
                        else
                            h(e, function(e, i) {
                                o[e] = i
                            });
                        return o
                    },
                    truncate: o,
                    objectFrozen: function(e) {
                        if (Object.isFrozen)
                            return Object.isFrozen(e);
                        else
                            return !1
                    },
                    hasKey: p,
                    joinRegExp: f,
                    urlencode: function(e) {
                        var o = [];
                        return h(e, function(e, i) {
                            o.push(encodeURIComponent(e) + "=" + encodeURIComponent(i))
                        }),
                        o.join("&")
                    },
                    uuid4: function() {
                        var e = r.crypto || r.msCrypto;
                        if (!a(e) && e.getRandomValues) {
                            function i(e) {
                                for (var i = e.toString(16); i.length < 4; )
                                    i = "0" + i;
                                return i
                            }
                            var o = new Uint16Array(8);
                            e.getRandomValues(o),
                            o[3] = 4095 & o[3] | 16384,
                            o[4] = 16383 & o[4] | 32768;
                            return i(o[0]) + i(o[1]) + i(o[2]) + i(o[3]) + i(o[4]) + i(o[5]) + i(o[6]) + i(o[7])
                        } else
                            return "xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g, function(e) {
                                var i = 16 * Math.random() | 0;
                                return ("x" === e ? i : 3 & i | 8).toString(16)
                            })
                    },
                    htmlTreeAsString: function(e) {
                        for (var i, o = [], r = 0, a = 0, l = " > ".length; e && r++ < 5 && !("html" === (i = g(e)) || 1 < r && 80 <= a + o.length * l + i.length); )
                            o.push(i),
                            a += i.length,
                            e = e.parentNode;
                        return o.reverse().join(" > ")
                    },
                    htmlElementAsString: g,
                    isSameException: function(e, i) {
                        if (!!e ^ !!i)
                            return !1;
                        if (e = e.values[0],
                        i = i.values[0],
                        e.type !== i.type || e.value !== i.value)
                            return !1;
                        if (a(e.stacktrace) && a(i.stacktrace))
                            return !1;
                        else
                            return m(e.stacktrace, i.stacktrace)
                    },
                    isSameStacktrace: m,
                    parseUrl: function(e) {
                        if ("string" != typeof e)
                            return {};
                        else {
                            var e = e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/)
                              , i = e[6] || "";
                            return {
                                protocol: e[2],
                                host: e[4],
                                path: e[5],
                                relative: e[5] + i + (e[8] || "")
                            }
                        }
                    },
                    fill: function(e, i, o, r) {
                        if (null == e)
                            ;
                        else {
                            var a = e[i];
                            if (e[i] = o(a),
                            e[i].__raven__ = !0,
                            e[i].__orig__ = a,
                            r)
                                r.push([e, i, a])
                        }
                    },
                    safeJoin: function(e, i) {
                        if (!c(e))
                            return "";
                        for (var o = [], r = 0; r < e.length; r++)
                            try {
                                o.push(String(e[r]))
                            } catch (e) {
                                o.push("[value cannot be serialized]")
                            }
                        return o.join(i)
                    },
                    serializeException: function e(i, o, r) {
                        if (!u(i))
                            return i;
                        r = "number" != typeof (o = "number" != typeof o ? 3 : o) ? 51200 : r;
                        var a = function o(r, a) {
                            if (0 === a)
                                ;
                            else if (u(r))
                                return Object.keys(r).reduce(function(e, i) {
                                    return e[i] = o(r[i], a - 1),
                                    e
                                }, {});
                            else if (Array.isArray(r))
                                return r.map(function(e) {
                                    return o(e, a - 1)
                                });
                            return v(r)
                        }(i, o);
                        if (w(l(a)) > r)
                            return e(i, o - 1);
                        else
                            return a
                    },
                    serializeKeysForMessage: function(e, i) {
                        if ("number" == typeof e || "string" == typeof e)
                            return e.toString();
                        if (!Array.isArray(e))
                            ;
                        else {
                            if (0 === (e = e.filter(function(e) {
                                return "string" == typeof e
                            })).length)
                                return "[object has no keys]";
                            if (e[0].length >= (i = "number" != typeof i ? 40 : i))
                                return e[0];
                            for (var o = e.length; 0 < o; o--) {
                                var r = e.slice(0, o).join(", ");
                                if (r.length > i)
                                    ;
                                else if (o === e.length)
                                    return r;
                                else
                                    return r + "…"
                            }
                        }
                        return ""
                    },
                    sanitize: function(i, e) {
                        if (!c(e) || c(e) && 0 === e.length)
                            return i;
                        var o, a = f(e);
                        try {
                            o = JSON.parse(l(i))
                        } catch (e) {
                            return i
                        }
                        return function o(r) {
                            if (c(r))
                                return r.map(o);
                            if (u(r))
                                return Object.keys(r).reduce(function(e, i) {
                                    if (a.test(i))
                                        e[i] = "********";
                                    else
                                        e[i] = o(r[i]);
                                    return e
                                }, {});
                            else
                                return r
                        }(o)
                    }
                }
            }
            ).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }
        , {
            7: 7
        }],
        6: [function(x, S, e) {
            (function(e) {
                var h, i, a, l, u, p, f = x(5), g = {
                    collectWindowErrors: !0,
                    debug: !1
                }, o = "undefined" != typeof window ? window : void 0 !== e ? e : "undefined" != typeof self ? self : {}, c = [].slice, m = /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;
                function w() {
                    if ("undefined" == typeof document || null == document.location)
                        return "";
                    else
                        return document.location.href
                }
                function v(e, i) {
                    var o = null;
                    if (i && !g.collectWindowErrors)
                        ;
                    else {
                        for (var r in a)
                            if (a.hasOwnProperty(r))
                                try {
                                    a[r].apply(null, [e].concat(c.call(arguments, 2)))
                                } catch (e) {
                                    o = e
                                }
                        if (o)
                            throw o
                    }
                }
                function r(e, i, o, r, a) {
                    var l = f.isErrorEvent(a) ? a.error : a
                      , u = f.isErrorEvent(e) ? e.message : e;
                    if (p)
                        g.computeStackTrace.augmentStackTraceWithInitialElement(p, i, o, u),
                        y();
                    else if (l && f.isError(l))
                        v(g.computeStackTrace(l), !0);
                    else {
                        var c, l = {
                            url: i,
                            line: o,
                            column: r
                        }, d = void 0;
                        if ("[object String]" === {}.toString.call(u))
                            if (c = u.match(m))
                                d = c[1],
                                u = c[2];
                        l.func = "?",
                        v({
                            name: d,
                            message: u,
                            url: w(),
                            stack: [l]
                        }, !0)
                    }
                    if (h)
                        return h.apply(this, arguments);
                    else
                        return !1
                }
                function y() {
                    var e = p
                      , i = l;
                    u = p = l = null,
                    v.apply(null, [e, !1].concat(i))
                }
                function d(e, i) {
                    var o = c.call(arguments, 1);
                    if (p)
                        if (u === e)
                            return;
                        else
                            y();
                    var r = g.computeStackTrace(e);
                    if (p = r,
                    u = e,
                    l = o,
                    setTimeout(function() {
                        if (u === e)
                            y()
                    }, r.incomplete ? 2e3 : 0),
                    !1 !== i)
                        throw e
                }
                function b(e) {
                    if (void 0 === e.stack || !e.stack)
                        ;
                    else {
                        for (var i, o = /^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i, r = /^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i, a = /^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i, l = /(\S+) line (\d+)(?: > eval line \d+)* > eval/i, u = /\((\S*)(?::(\d+))(?::(\d+))\)/, c = e.stack.split("\n"), d = [], h = (/^(.*) is undefined$/.exec(e.message),
                        0), p = c.length; h < p; ++h) {
                            if (g = o.exec(c[h])) {
                                var f = g[2] && 0 === g[2].indexOf("native");
                                if (g[2] && 0 === g[2].indexOf("eval") && (i = u.exec(g[2])))
                                    g[2] = i[1],
                                    g[3] = i[2],
                                    g[4] = i[3];
                                f = {
                                    url: !f ? g[2] : null,
                                    func: g[1] || "?",
                                    args: f ? [g[2]] : [],
                                    line: g[3] ? +g[3] : null,
                                    column: g[4] ? +g[4] : null
                                }
                            } else if (g = r.exec(c[h]))
                                f = {
                                    url: g[2],
                                    func: g[1] || "?",
                                    args: [],
                                    line: +g[3],
                                    column: g[4] ? +g[4] : null
                                };
                            else if (g = a.exec(c[h])) {
                                if (g[3] && -1 < g[3].indexOf(" > eval") && (i = l.exec(g[3])))
                                    g[3] = i[1],
                                    g[4] = i[2],
                                    g[5] = null;
                                else if (0 === h && !g[5] && void 0 !== e.columnNumber)
                                    d[0].column = e.columnNumber + 1;
                                f = {
                                    url: g[3],
                                    func: g[1] || "?",
                                    args: g[2] ? g[2].split(",") : [],
                                    line: g[4] ? +g[4] : null,
                                    column: g[5] ? +g[5] : null
                                }
                            } else
                                continue;
                            if (!f.func && f.line)
                                f.func = "?";
                            if (f.url && "blob:" === f.url.substr(0, 5)) {
                                var g = new XMLHttpRequest;
                                if (g.open("GET", f.url, !1),
                                g.send(null),
                                200 === g.status) {
                                    g = (g.responseText || "").slice(-300).match(/\/\/# sourceMappingURL=(.*)$/);
                                    if (g) {
                                        g = g[1];
                                        if ("~" === g.charAt(0))
                                            g = function() {
                                                if ("undefined" == typeof document || null == document.location)
                                                    return "";
                                                if (document.location.origin)
                                                    return document.location.origin;
                                                else
                                                    return document.location.protocol + "//" + document.location.hostname + (document.location.port ? ":" + document.location.port : "")
                                            }() + g.slice(1);
                                        f.url = g.slice(0, -4)
                                    }
                                }
                            }
                            d.push(f)
                        }
                        if (d.length)
                            return {
                                name: e.name,
                                message: e.message,
                                url: w(),
                                stack: d
                            };
                        else
                            return null
                    }
                }
                function C(e, i, o, r) {
                    i = {
                        url: i,
                        line: o
                    };
                    if (i.url && i.line) {
                        if (e.incomplete = !1,
                        !i.func)
                            i.func = "?";
                        if (0 < e.stack.length)
                            if (e.stack[0].url === i.url)
                                if (e.stack[0].line === i.line)
                                    return !1;
                                else if (!e.stack[0].line && e.stack[0].func === i.func)
                                    return e.stack[0].line = i.line,
                                    !1;
                        return e.stack.unshift(i),
                        e.partial = !0
                    } else
                        e.incomplete = !0;
                    return !1
                }
                function T(e, i) {
                    for (var o, r, a = /function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i, l = [], u = {}, c = !1, d = T.caller; d && !c; d = d.caller)
                        if (d === k || d === g.report)
                            ;
                        else {
                            if (r = {
                                url: null,
                                func: "?",
                                line: null,
                                column: null
                            },
                            d.name)
                                r.func = d.name;
                            else if (o = a.exec(d.toString()))
                                r.func = o[1];
                            if (void 0 === r.func)
                                try {
                                    r.func = o.input.substring(0, o.input.indexOf("{"))
                                } catch (e) {}
                            if (u["" + d])
                                c = !0;
                            else
                                u["" + d] = !0;
                            l.push(r)
                        }
                    if (i)
                        l.splice(0, i);
                    i = {
                        name: e.name,
                        message: e.message,
                        url: w(),
                        stack: l
                    };
                    return C(i, e.sourceURL || e.fileName, e.line || e.lineNumber, e.message || e.description),
                    i
                }
                function k(e, i) {
                    var o = null;
                    i = null == i ? 0 : +i;
                    try {
                        if (o = b(e))
                            return o
                    } catch (e) {
                        if (g.debug)
                            throw e
                    }
                    try {
                        if (o = T(e, i + 1))
                            return o
                    } catch (e) {
                        if (g.debug)
                            throw e
                    }
                    return {
                        name: e.name,
                        message: e.message,
                        url: w()
                    }
                }
                g.report = (a = [],
                p = u = l = null,
                d.subscribe = function(e) {
                    if (i)
                        ;
                    else
                        h = o.onerror,
                        o.onerror = r,
                        i = !0;
                    a.push(e)
                }
                ,
                d.unsubscribe = function(e) {
                    for (var i = a.length - 1; 0 <= i; --i)
                        if (a[i] === e)
                            a.splice(i, 1)
                }
                ,
                d.uninstall = function() {
                    if (!i)
                        ;
                    else
                        o.onerror = h,
                        i = !1,
                        h = void 0;
                    a = []
                }
                ,
                d),
                g.computeStackTrace = (k.augmentStackTraceWithInitialElement = C,
                k.computeStackTraceFromStackProp = b,
                k),
                S.exports = g
            }
            ).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }
        , {
            5: 5
        }],
        7: [function(e, i, o) {
            function p(e, i) {
                for (var o = 0; o < e.length; ++o)
                    if (e[o] === i)
                        return o;
                return -1
            }
            function a(u, c) {
                var d = []
                  , h = [];
                if (null == c)
                    c = function(e, i) {
                        if (d[0] === i)
                            return "[Circular ~]";
                        else
                            return "[Circular ~." + h.slice(0, p(d, i)).join(".") + "]"
                    }
                    ;
                return function(e, i) {
                    if (0 < d.length) {
                        var o = p(d, this);
                        if (~o ? d.splice(o + 1) : d.push(this),
                        ~o ? h.splice(o, 1 / 0, e) : h.push(e),
                        ~p(d, i))
                            i = c.call(this, e, i)
                    } else
                        d.push(i);
                    if (null == u)
                        if (i instanceof Error) {
                            var r = i, a, l = {
                                stack: r.stack,
                                message: r.message,
                                name: r.name
                            };
                            for (a in r)
                                if (Object.prototype.hasOwnProperty.call(r, a))
                                    l[a] = r[a];
                            return l
                        } else
                            return i;
                    else
                        return u.call(this, e, i)
                }
            }
            (o = i.exports = function(e, i, o, r) {
                return JSON.stringify(e, a(i, r), o)
            }
            ).getSerialize = a
        }
        , {}],
        8: [function(e, i, o) {
            function f(e, i) {
                var o = (65535 & e) + (65535 & i);
                return (e >> 16) + (i >> 16) + (o >> 16) << 16 | 65535 & o
            }
            function l(e, i, o, r, s, t) {
                return f((i = f(f(i, e), f(r, t))) << s | i >>> 32 - s, o)
            }
            function g(e, i, o, r, a, s, t) {
                return l(i & o | ~i & r, e, i, a, s, t)
            }
            function m(e, i, o, r, a, s, t) {
                return l(i & r | o & ~r, e, i, a, s, t)
            }
            function w(e, i, o, r, a, s, t) {
                return l(i ^ o ^ r, e, i, a, s, t)
            }
            function v(e, i, o, r, a, s, t) {
                return l(o ^ (i | ~r), e, i, a, s, t)
            }
            function u(e, i) {
                e[i >> 5] |= 128 << i % 32,
                e[14 + (i + 64 >>> 9 << 4)] = i;
                for (var o, r, a, l, u = 1732584193, c = -271733879, d = -1732584194, h = 271733878, p = 0; p < e.length; p += 16)
                    u = g(o = u, r = c, a = d, l = h, e[p], 7, -680876936),
                    h = g(h, u, c, d, e[p + 1], 12, -389564586),
                    d = g(d, h, u, c, e[p + 2], 17, 606105819),
                    c = g(c, d, h, u, e[p + 3], 22, -1044525330),
                    u = g(u, c, d, h, e[p + 4], 7, -176418897),
                    h = g(h, u, c, d, e[p + 5], 12, 1200080426),
                    d = g(d, h, u, c, e[p + 6], 17, -1473231341),
                    c = g(c, d, h, u, e[p + 7], 22, -45705983),
                    u = g(u, c, d, h, e[p + 8], 7, 1770035416),
                    h = g(h, u, c, d, e[p + 9], 12, -1958414417),
                    d = g(d, h, u, c, e[p + 10], 17, -42063),
                    c = g(c, d, h, u, e[p + 11], 22, -1990404162),
                    u = g(u, c, d, h, e[p + 12], 7, 1804603682),
                    h = g(h, u, c, d, e[p + 13], 12, -40341101),
                    d = g(d, h, u, c, e[p + 14], 17, -1502002290),
                    u = m(u, c = g(c, d, h, u, e[p + 15], 22, 1236535329), d, h, e[p + 1], 5, -165796510),
                    h = m(h, u, c, d, e[p + 6], 9, -1069501632),
                    d = m(d, h, u, c, e[p + 11], 14, 643717713),
                    c = m(c, d, h, u, e[p], 20, -373897302),
                    u = m(u, c, d, h, e[p + 5], 5, -701558691),
                    h = m(h, u, c, d, e[p + 10], 9, 38016083),
                    d = m(d, h, u, c, e[p + 15], 14, -660478335),
                    c = m(c, d, h, u, e[p + 4], 20, -405537848),
                    u = m(u, c, d, h, e[p + 9], 5, 568446438),
                    h = m(h, u, c, d, e[p + 14], 9, -1019803690),
                    d = m(d, h, u, c, e[p + 3], 14, -187363961),
                    c = m(c, d, h, u, e[p + 8], 20, 1163531501),
                    u = m(u, c, d, h, e[p + 13], 5, -1444681467),
                    h = m(h, u, c, d, e[p + 2], 9, -51403784),
                    d = m(d, h, u, c, e[p + 7], 14, 1735328473),
                    u = w(u, c = m(c, d, h, u, e[p + 12], 20, -1926607734), d, h, e[p + 5], 4, -378558),
                    h = w(h, u, c, d, e[p + 8], 11, -2022574463),
                    d = w(d, h, u, c, e[p + 11], 16, 1839030562),
                    c = w(c, d, h, u, e[p + 14], 23, -35309556),
                    u = w(u, c, d, h, e[p + 1], 4, -1530992060),
                    h = w(h, u, c, d, e[p + 4], 11, 1272893353),
                    d = w(d, h, u, c, e[p + 7], 16, -155497632),
                    c = w(c, d, h, u, e[p + 10], 23, -1094730640),
                    u = w(u, c, d, h, e[p + 13], 4, 681279174),
                    h = w(h, u, c, d, e[p], 11, -358537222),
                    d = w(d, h, u, c, e[p + 3], 16, -722521979),
                    c = w(c, d, h, u, e[p + 6], 23, 76029189),
                    u = w(u, c, d, h, e[p + 9], 4, -640364487),
                    h = w(h, u, c, d, e[p + 12], 11, -421815835),
                    d = w(d, h, u, c, e[p + 15], 16, 530742520),
                    u = v(u, c = w(c, d, h, u, e[p + 2], 23, -995338651), d, h, e[p], 6, -198630844),
                    h = v(h, u, c, d, e[p + 7], 10, 1126891415),
                    d = v(d, h, u, c, e[p + 14], 15, -1416354905),
                    c = v(c, d, h, u, e[p + 5], 21, -57434055),
                    u = v(u, c, d, h, e[p + 12], 6, 1700485571),
                    h = v(h, u, c, d, e[p + 3], 10, -1894986606),
                    d = v(d, h, u, c, e[p + 10], 15, -1051523),
                    c = v(c, d, h, u, e[p + 1], 21, -2054922799),
                    u = v(u, c, d, h, e[p + 8], 6, 1873313359),
                    h = v(h, u, c, d, e[p + 15], 10, -30611744),
                    d = v(d, h, u, c, e[p + 6], 15, -1560198380),
                    c = v(c, d, h, u, e[p + 13], 21, 1309151649),
                    u = v(u, c, d, h, e[p + 4], 6, -145523070),
                    h = v(h, u, c, d, e[p + 11], 10, -1120210379),
                    d = v(d, h, u, c, e[p + 2], 15, 718787259),
                    c = v(c, d, h, u, e[p + 9], 21, -343485551),
                    u = f(u, o),
                    c = f(c, r),
                    d = f(d, a),
                    h = f(h, l);
                return [u, c, d, h]
            }
            function c(e) {
                for (var i = "", o = 32 * e.length, r = 0; r < o; r += 8)
                    i += String.fromCharCode(e[r >> 5] >>> r % 32 & 255);
                return i
            }
            function d(e) {
                var i = [];
                for (i[(e.length >> 2) - 1] = void 0,
                r = 0; r < i.length; r += 1)
                    i[r] = 0;
                for (var o = 8 * e.length, r = 0; r < o; r += 8)
                    i[r >> 5] |= (255 & e.charCodeAt(r / 8)) << r % 32;
                return i
            }
            function r(e) {
                for (var i, o = "0123456789abcdef", r = "", a = 0; a < e.length; a += 1)
                    i = e.charCodeAt(a),
                    r += o.charAt(i >>> 4 & 15) + o.charAt(15 & i);
                return r
            }
            function h(e) {
                return unescape(encodeURIComponent(e))
            }
            function a(s) {
                return function(s) {
                    return c(u(d(s), 8 * s.length))
                }(h(s))
            }
            function p(e, i) {
                var o, e = h(e), i = h(i), r = d(e), a = [], l = [];
                if (a[15] = l[15] = void 0,
                16 < r.length)
                    r = u(r, 8 * e.length);
                for (o = 0; o < 16; o += 1)
                    a[o] = 909522486 ^ r[o],
                    l[o] = 1549556828 ^ r[o];
                return e = u(a.concat(d(i)), 512 + 8 * i.length),
                c(u(l.concat(e), 640))
            }
            i.exports = function(e, i, o) {
                if (!i)
                    if (o)
                        return a(e);
                    else
                        return r(a(e));
                if (o)
                    return p(i, e);
                else
                    return r(p(i, e))
            }
        }
        , {}]
    }, {}, [4])(4)
}),
function(e, i) {
    if (!(e && e.config && i && i.sentry && i.sentry.enabled && i.sentry.dsn))
        ;
    else if (i.dev)
        i.sentry.enabled = !1;
    else {
        e.config(i.sentry.dsn, {
            tags: {
                world: i.world_id,
                market: i.market_id
            },
            ignoreErrors: ["RepConv"],
            ignoreUrls: [/extension(s?)(:?)\//i, /^chrome:\/\//i, /grmh\.pl/i]
        }).install(),
        e.setRelease(i.version.branch.replace("/", "-")),
        e.setUserContext({
            id: i.player_id,
            name: i.player_name,
            market: i.market_id
        });
        i = {
            is_admin_login: i.admin || i.is_admin_mode_with_premium,
            is_dev: i.dev,
            market_id: i.market_id,
            player_id: i.player_id,
            current_town_id: i.townId,
            world_id: i.world_id,
            is_premium_user: i.premium_user,
            maintenance: "no",
            git_commit: i.version.revision
        };
        e.setExtraContext(i)
    }
}(window.Raven, window.Game),
function(e, i) {
    "use strict";
    if ("object" == typeof module && "object" == typeof module.exports)
        module.exports = e.document ? i(e, !0) : function(e) {
            if (e.document)
                return i(e);
            throw new Error("jQuery requires a window with a document")
        }
        ;
    else
        i(e)
}(void 0 !== window ? window : this, function(k, F) {
    "use strict";
    function C(e) {
        return "function" == typeof e && "number" != typeof e.nodeType && "function" != typeof e.item
    }
    function v(e) {
        return null != e && e === e.window
    }
    var i = []
      , N = Object.getPrototypeOf
      , c = i.slice
      , $ = i.flat ? function(e) {
        return i.flat.call(e)
    }
    : function(e) {
        return i.concat.apply([], e)
    }
      , z = i.push
      , q = i.indexOf
      , H = {}
      , U = H.toString
      , V = H.hasOwnProperty
      , j = V.toString
      , Y = j.call(Object)
      , y = {}
      , x = k.document
      , Q = {
        type: !0,
        src: !0,
        nonce: !0,
        noModule: !0
    };
    function K(e, i, o) {
        var r, a, l = (o = o || x).createElement("script");
        if (l.text = e,
        i)
            for (r in Q)
                if (a = i[r] || i.getAttribute && i.getAttribute(r))
                    l.setAttribute(r, a);
        o.head.appendChild(l).parentNode.removeChild(l)
    }
    function w(e) {
        if (null == e)
            return e + "";
        else
            return "object" == typeof e || "function" == typeof e ? H[U.call(e)] || "object" : typeof e
    }
    var jQuery = function(e, i) {
        return new jQuery.fn.init(e,i)
    };
    if (jQuery.fn = jQuery.prototype = {
        jquery: "3.6.0",
        constructor: jQuery,
        length: 0,
        toArray: function() {
            return c.call(this)
        },
        get: function(e) {
            if (null == e)
                return c.call(this);
            else
                return e < 0 ? this[e + this.length] : this[e]
        },
        pushStack: function(e) {
            e = jQuery.merge(this.constructor(), e);
            return e.prevObject = this,
            e
        },
        each: function(e) {
            return jQuery.each(this, e)
        },
        map: function(o) {
            return this.pushStack(jQuery.map(this, function(e, i) {
                return o.call(e, i, e)
            }))
        },
        slice: function() {
            return this.pushStack(c.apply(this, arguments))
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq(-1)
        },
        even: function() {
            return this.pushStack(jQuery.grep(this, function(e, i) {
                return (i + 1) % 2
            }))
        },
        odd: function() {
            return this.pushStack(jQuery.grep(this, function(e, i) {
                return i % 2
            }))
        },
        eq: function(e) {
            var i = this.length
              , e = +e + (e < 0 ? i : 0);
            return this.pushStack(0 <= e && e < i ? [this[e]] : [])
        },
        end: function() {
            return this.prevObject || this.constructor()
        },
        push: z,
        sort: i.sort,
        splice: i.splice
    },
    jQuery.extend = jQuery.fn.extend = function() {
        var e, i, o, r, a, l, u = arguments[0] || {}, c = 1, d = arguments.length, h = !1;
        if ("boolean" == typeof u)
            h = u,
            u = arguments[c] || {},
            c++;
        if ("object" != typeof u && !C(u))
            u = {};
        if (c === d)
            u = this,
            c--;
        for (; c < d; c++)
            if (null != (e = arguments[c]))
                for (i in e)
                    if (r = e[i],
                    "__proto__" === i || u === r)
                        ;
                    else if (h && r && (jQuery.isPlainObject(r) || (a = Array.isArray(r)))) {
                        if (o = u[i],
                        a && !Array.isArray(o))
                            l = [];
                        else if (!a && !jQuery.isPlainObject(o))
                            l = {};
                        else
                            l = o;
                        a = !1,
                        u[i] = jQuery.extend(h, l, r)
                    } else if (void 0 !== r)
                        u[i] = r;
        return u
    }
    ,
    jQuery.extend({
        expando: "jQuery" + ("3.6.0" + Math.random()).replace(/\D/g, ""),
        isReady: !0,
        error: function(e) {
            throw new Error(e)
        },
        noop: function() {},
        isPlainObject: function(e) {
            if (!e || "[object Object]" !== U.call(e))
                return !1;
            if (e = N(e))
                return "function" == typeof (e = V.call(e, "constructor") && e.constructor) && j.call(e) === Y;
            else
                return !0
        },
        isEmptyObject: function(e) {
            for (var i in e)
                return !1;
            return !0
        },
        globalEval: function(e, i, o) {
            K(e, {
                nonce: i && i.nonce
            }, o)
        },
        each: function(e, i) {
            var o, r = 0;
            if (J(e))
                for (o = e.length; r < o && !1 !== i.call(e[r], r, e[r]); r++)
                    ;
            else
                for (r in e)
                    if (!1 === i.call(e[r], r, e[r]))
                        break;
            return e
        },
        makeArray: function(e, i) {
            i = i || [];
            if (null != e)
                if (J(Object(e)))
                    jQuery.merge(i, "string" == typeof e ? [e] : e);
                else
                    z.call(i, e);
            return i
        },
        inArray: function(e, i, o) {
            return null == i ? -1 : q.call(i, e, o)
        },
        merge: function(e, i) {
            for (var o = +i.length, r = 0, a = e.length; r < o; r++)
                e[a++] = i[r];
            return e.length = a,
            e
        },
        grep: function(e, i, o) {
            for (var r = [], a = 0, l = e.length, u = !o; a < l; a++)
                if (!i(e[a], a) != u)
                    r.push(e[a]);
            return r
        },
        map: function(e, i, o) {
            var r, a, l = 0, u = [];
            if (J(e)) {
                for (r = e.length; l < r; l++)
                    if (null != (a = i(e[l], l, o)))
                        u.push(a)
            } else
                for (l in e)
                    if (null != (a = i(e[l], l, o)))
                        u.push(a);
            return $(u)
        },
        guid: 1,
        support: y
    }),
    "function" == typeof Symbol)
        jQuery.fn[Symbol.iterator] = i[Symbol.iterator];
    function J(e) {
        var i = !!e && "length"in e && e.length
          , o = w(e);
        if (C(e) || v(e))
            ;
        else
            return "array" === o || 0 === i || "number" == typeof i && 0 < i && i - 1 in e
    }
    jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function(e, i) {
        H["[object " + i + "]"] = i.toLowerCase()
    });
    function r(e, i, o) {
        for (var r = [], a = void 0 !== o; (e = e[i]) && 9 !== e.nodeType; )
            if (1 === e.nodeType) {
                if (a && jQuery(e).is(o))
                    break;
                r.push(e)
            }
        return r
    }
    function X(n, e) {
        for (var i = []; n; n = n.nextSibling)
            if (1 === n.nodeType && n !== e)
                i.push(n);
        return i
    }
    var e = function(N) {
        function f(e, i) {
            return e = "0x" + e.slice(1) - 65536,
            i ? i : e < 0 ? String.fromCharCode(65536 + e) : String.fromCharCode(e >> 10 | 55296, 1023 & e | 56320)
        }
        function $(e, i) {
            if (i)
                if ("\0" === e)
                    return "�";
                else
                    return e.slice(0, -1) + "\\" + e.charCodeAt(e.length - 1).toString(16) + " ";
            return "\\" + e
        }
        function z() {
            S()
        }
        var e, g, k, l, q, m, H, U, x, d, h, S, A, o, E, w, r, a, v, M = "sizzle" + +new Date, p = N.document, I = 0, V = 0, j = D(), Y = D(), Q = D(), y = D(), K = function(e, i) {
            if (e === i)
                h = !0;
            return 0
        }, J = {}.hasOwnProperty, i = [], X = i.pop, Z = i.push, P = i.push, ee = i.slice, C = function(e, i) {
            for (var o = 0, r = e.length; o < r; o++)
                if (e[o] === i)
                    return o;
            return -1
        }, te = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", u = "[\\x20\\t\\r\\n\\f]", c = "(?:\\\\[\\da-fA-F]{1,6}" + u + "?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+", ie = "\\[" + u + "*(" + c + ")(?:" + u + "*([*^$|!~]?=)" + u + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + c + "))|)" + u + "*\\]", ne = ":(" + c + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + ie + ")*)|.*)\\)|)", oe = new RegExp(u + "+","g"), b = new RegExp("^" + u + "+|((?:^|[^\\\\])(?:\\\\.)*)" + u + "+$","g"), re = new RegExp("^" + u + "*," + u + "*"), se = new RegExp("^" + u + "*([>+~]|" + u + ")" + u + "*"), ae = new RegExp(u + "|>"), le = new RegExp(ne), ue = new RegExp("^" + c + "$"), T = {
            ID: new RegExp("^#(" + c + ")"),
            CLASS: new RegExp("^\\.(" + c + ")"),
            TAG: new RegExp("^(" + c + "|[*])"),
            ATTR: new RegExp("^" + ie),
            PSEUDO: new RegExp("^" + ne),
            CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + u + "*(even|odd|(([+-]|)(\\d*)n|)" + u + "*(?:([+-]|)" + u + "*(\\d+)|))" + u + "*\\)|)","i"),
            bool: new RegExp("^(?:" + te + ")$","i"),
            needsContext: new RegExp("^" + u + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + u + "*((?:-\\d)?\\d*)" + u + "*\\)|)(?=[^-]|$)","i")
        }, ce = /HTML$/i, de = /^(?:input|select|textarea|button)$/i, he = /^h\d$/i, O = /^[^{]+\{\s*\[native \w/, pe = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, _e = /[+~]/, R = new RegExp("\\\\[\\da-fA-F]{1,6}" + u + "?|\\\\([^\\r\\n\\f])","g"), fe = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g, ge = Ce(function(e) {
            return !0 === e.disabled && "fieldset" === e.nodeName.toLowerCase()
        }, {
            dir: "parentNode",
            next: "legend"
        });
        try {
            P.apply(i = ee.call(p.childNodes), p.childNodes),
            i[p.childNodes.length].nodeType
        } catch (e) {
            P = {
                apply: i.length ? function(e, i) {
                    Z.apply(e, ee.call(i))
                }
                : function(e, i) {
                    for (var o = e.length, r = 0; e[o++] = i[r++]; )
                        ;
                    e.length = o - 1
                }
            }
        }
        function G(i, e, o, r) {
            var a, l, u, c, d, h, p = e && e.ownerDocument, f = e ? e.nodeType : 9;
            if (o = o || [],
            "string" != typeof i || !i || 1 !== f && 9 !== f && 11 !== f)
                return o;
            if (!r)
                if (S(e),
                e = e || A,
                E) {
                    if (11 !== f && (c = pe.exec(i)))
                        if (a = c[1]) {
                            if (9 === f)
                                if (h = e.getElementById(a)) {
                                    if (h.id === a)
                                        return o.push(h),
                                        o
                                } else
                                    return o;
                            else if (p && (h = p.getElementById(a)) && v(e, h) && h.id === a)
                                return o.push(h),
                                o
                        } else if (c[2])
                            return P.apply(o, e.getElementsByTagName(i)),
                            o;
                        else if ((a = c[3]) && g.getElementsByClassName && e.getElementsByClassName)
                            return P.apply(o, e.getElementsByClassName(a)),
                            o;
                    if (g.qsa && !y[i + " "] && (!w || !w.test(i)) && (1 !== f || "object" !== e.nodeName.toLowerCase())) {
                        if (h = i,
                        p = e,
                        1 === f && (ae.test(i) || se.test(i))) {
                            if ((p = _e.test(i) && ye(e.parentNode) || e) !== e || !g.scope)
                                if (u = e.getAttribute("id"))
                                    u = u.replace(fe, $);
                                else
                                    e.setAttribute("id", u = M);
                            for (l = (d = m(i)).length; l--; )
                                d[l] = (u ? "#" + u : ":scope") + " " + F(d[l]);
                            h = d.join(",")
                        }
                        try {
                            return P.apply(o, p.querySelectorAll(h)),
                            o
                        } catch (e) {
                            y(i, !0)
                        } finally {
                            if (u === M)
                                e.removeAttribute("id")
                        }
                    }
                }
            return U(i.replace(b, "$1"), e, o, r)
        }
        function D() {
            var o = [];
            function r(e, i) {
                if (o.push(e + " ") > k.cacheLength)
                    delete r[o.shift()];
                return r[e + " "] = i
            }
            return r
        }
        function B(e) {
            return e[M] = !0,
            e
        }
        function L(e) {
            var i = A.createElement("fieldset");
            try {
                return !!e(i)
            } catch (e) {
                return !1
            } finally {
                if (i.parentNode)
                    i.parentNode.removeChild(i)
            }
        }
        function me(e, i) {
            for (var o = e.split("|"), r = o.length; r--; )
                k.attrHandle[o[r]] = i
        }
        function we(e, i) {
            var o = i && e
              , r = o && 1 === e.nodeType && 1 === i.nodeType && e.sourceIndex - i.sourceIndex;
            if (r)
                return r;
            if (o)
                for (; o = o.nextSibling; )
                    if (o === i)
                        return -1;
            return e ? 1 : -1
        }
        function ve(i) {
            return function(e) {
                if ("form"in e) {
                    if (e.parentNode && !1 === e.disabled) {
                        if ("label"in e)
                            if ("label"in e.parentNode)
                                return e.parentNode.disabled === i;
                            else
                                return e.disabled === i;
                        return e.isDisabled === i || e.isDisabled !== !i && ge(e) === i
                    }
                    return e.disabled === i
                } else if ("label"in e)
                    return e.disabled === i;
                return !1
            }
        }
        function W(u) {
            return B(function(l) {
                return l = +l,
                B(function(e, i) {
                    for (var o, r = u([], e.length, l), a = r.length; a--; )
                        if (e[o = r[a]])
                            e[o] = !(i[o] = e[o])
                })
            })
        }
        function ye(e) {
            return e && void 0 !== e.getElementsByTagName && e
        }
        for (e in g = G.support = {},
        q = G.isXML = function(e) {
            var i = e && e.namespaceURI
              , e = e && (e.ownerDocument || e).documentElement;
            return !ce.test(i || e && e.nodeName || "HTML")
        }
        ,
        S = G.setDocument = function(e) {
            var i, e = e ? e.ownerDocument || e : p;
            if (e == A || 9 !== e.nodeType || !e.documentElement)
                ;
            else {
                if (o = (A = e).documentElement,
                E = !q(A),
                p != A && (i = A.defaultView) && i.top !== i)
                    if (i.addEventListener)
                        i.addEventListener("unload", z, !1);
                    else if (i.attachEvent)
                        i.attachEvent("onunload", z);
                if (g.scope = L(function(e) {
                    return o.appendChild(e).appendChild(A.createElement("div")),
                    void 0 !== e.querySelectorAll && !e.querySelectorAll(":scope fieldset div").length
                }),
                g.attributes = L(function(e) {
                    return e.className = "i",
                    !e.getAttribute("className")
                }),
                g.getElementsByTagName = L(function(e) {
                    return e.appendChild(A.createComment("")),
                    !e.getElementsByTagName("*").length
                }),
                g.getElementsByClassName = O.test(A.getElementsByClassName),
                g.getById = L(function(e) {
                    return o.appendChild(e).id = M,
                    !A.getElementsByName || !A.getElementsByName(M).length
                }),
                g.getById)
                    k.filter.ID = function(e) {
                        var i = e.replace(R, f);
                        return function(e) {
                            return e.getAttribute("id") === i
                        }
                    }
                    ,
                    k.find.ID = function(e, i) {
                        if (void 0 !== i.getElementById && E) {
                            i = i.getElementById(e);
                            return i ? [i] : []
                        }
                    }
                    ;
                else
                    k.filter.ID = function(e) {
                        var i = e.replace(R, f);
                        return function(e) {
                            e = void 0 !== e.getAttributeNode && e.getAttributeNode("id");
                            return e && e.value === i
                        }
                    }
                    ,
                    k.find.ID = function(e, i) {
                        if (void 0 !== i.getElementById && E) {
                            var o, r, a, l = i.getElementById(e);
                            if (l) {
                                if ((o = l.getAttributeNode("id")) && o.value === e)
                                    return [l];
                                for (a = i.getElementsByName(e),
                                r = 0; l = a[r++]; )
                                    if ((o = l.getAttributeNode("id")) && o.value === e)
                                        return [l]
                            }
                            return []
                        }
                    }
                    ;
                if (k.find.TAG = g.getElementsByTagName ? function(e, i) {
                    if (void 0 !== i.getElementsByTagName)
                        return i.getElementsByTagName(e);
                    else if (g.qsa)
                        return i.querySelectorAll(e)
                }
                : function(e, i) {
                    var o, r = [], a = 0, l = i.getElementsByTagName(e);
                    if ("*" !== e)
                        return l;
                    for (; o = l[a++]; )
                        if (1 === o.nodeType)
                            r.push(o);
                    return r
                }
                ,
                k.find.CLASS = g.getElementsByClassName && function(e, i) {
                    if (void 0 !== i.getElementsByClassName && E)
                        return i.getElementsByClassName(e)
                }
                ,
                r = [],
                w = [],
                g.qsa = O.test(A.querySelectorAll))
                    L(function(e) {
                        var i;
                        if (o.appendChild(e).innerHTML = "<a id='" + M + "'></a><select id='" + M + "-\r\\' msallowcapture=''><option selected=''></option></select>",
                        e.querySelectorAll("[msallowcapture^='']").length)
                            w.push("[*^$]=" + u + "*(?:''|\"\")");
                        if (!e.querySelectorAll("[selected]").length)
                            w.push("\\[" + u + "*(?:value|" + te + ")");
                        if (!e.querySelectorAll("[id~=" + M + "-]").length)
                            w.push("~=");
                        if ((i = A.createElement("input")).setAttribute("name", ""),
                        e.appendChild(i),
                        !e.querySelectorAll("[name='']").length)
                            w.push("\\[" + u + "*name" + u + "*=" + u + "*(?:''|\"\")");
                        if (!e.querySelectorAll(":checked").length)
                            w.push(":checked");
                        if (!e.querySelectorAll("a#" + M + "+*").length)
                            w.push(".#.+[+~]");
                        e.querySelectorAll("\\\f"),
                        w.push("[\\r\\n\\f]")
                    }),
                    L(function(e) {
                        e.innerHTML = "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
                        var i = A.createElement("input");
                        if (i.setAttribute("type", "hidden"),
                        e.appendChild(i).setAttribute("name", "D"),
                        e.querySelectorAll("[name=d]").length)
                            w.push("name" + u + "*[*^$|!~]?=");
                        if (2 !== e.querySelectorAll(":enabled").length)
                            w.push(":enabled", ":disabled");
                        if (o.appendChild(e).disabled = !0,
                        2 !== e.querySelectorAll(":disabled").length)
                            w.push(":enabled", ":disabled");
                        e.querySelectorAll("*,:x"),
                        w.push(",.*:")
                    });
                if (g.matchesSelector = O.test(a = o.matches || o.webkitMatchesSelector || o.mozMatchesSelector || o.oMatchesSelector || o.msMatchesSelector))
                    L(function(e) {
                        g.disconnectedMatch = a.call(e, "*"),
                        a.call(e, "[s!='']:x"),
                        r.push("!=", ne)
                    });
                w = w.length && new RegExp(w.join("|")),
                r = r.length && new RegExp(r.join("|")),
                e = O.test(o.compareDocumentPosition),
                v = e || O.test(o.contains) ? function(e, i) {
                    var o = 9 === e.nodeType ? e.documentElement : e
                      , i = i && i.parentNode;
                    return e === i || !(!i || 1 !== i.nodeType || !(o.contains ? o.contains(i) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(i)))
                }
                : function(e, i) {
                    if (i)
                        for (; i = i.parentNode; )
                            if (i === e)
                                return !0;
                    return !1
                }
                ,
                K = e ? function(e, i) {
                    if (e === i)
                        return h = !0,
                        0;
                    var o = !e.compareDocumentPosition - !i.compareDocumentPosition;
                    if (o)
                        return o;
                    if (1 & (o = (e.ownerDocument || e) == (i.ownerDocument || i) ? e.compareDocumentPosition(i) : 1) || !g.sortDetached && i.compareDocumentPosition(e) === o) {
                        if (e == A || e.ownerDocument == p && v(p, e))
                            return -1;
                        if (i == A || i.ownerDocument == p && v(p, i))
                            return 1;
                        else
                            return d ? C(d, e) - C(d, i) : 0
                    }
                    return 4 & o ? -1 : 1
                }
                : function(e, i) {
                    if (e === i)
                        return h = !0,
                        0;
                    var o, r = 0, a = e.parentNode, l = i.parentNode, u = [e], c = [i];
                    if (!a || !l)
                        return e == A ? -1 : i == A ? 1 : a ? -1 : l ? 1 : d ? C(d, e) - C(d, i) : 0;
                    else if (a === l)
                        return we(e, i);
                    for (o = e; o = o.parentNode; )
                        u.unshift(o);
                    for (o = i; o = o.parentNode; )
                        c.unshift(o);
                    for (; u[r] === c[r]; )
                        r++;
                    return r ? we(u[r], c[r]) : u[r] == p ? -1 : c[r] == p ? 1 : 0
                }
            }
            return A
        }
        ,
        G.matches = function(e, i) {
            return G(e, null, null, i)
        }
        ,
        G.matchesSelector = function(e, i) {
            if (S(e),
            g.matchesSelector && E && !y[i + " "] && (!r || !r.test(i)) && (!w || !w.test(i)))
                try {
                    var o = a.call(e, i);
                    if (o || g.disconnectedMatch || e.document && 11 !== e.document.nodeType)
                        return o
                } catch (e) {
                    y(i, !0)
                }
            return 0 < G(i, A, null, [e]).length
        }
        ,
        G.contains = function(e, i) {
            if ((e.ownerDocument || e) != A)
                S(e);
            return v(e, i)
        }
        ,
        G.attr = function(e, i) {
            if ((e.ownerDocument || e) != A)
                S(e);
            var o = k.attrHandle[i.toLowerCase()]
              , o = o && J.call(k.attrHandle, i.toLowerCase()) ? o(e, i, !E) : void 0;
            return void 0 !== o ? o : g.attributes || !E ? e.getAttribute(i) : (o = e.getAttributeNode(i)) && o.specified ? o.value : null
        }
        ,
        G.escape = function(e) {
            return (e + "").replace(fe, $)
        }
        ,
        G.error = function(e) {
            throw new Error("Syntax error, unrecognized expression: " + e)
        }
        ,
        G.uniqueSort = function(e) {
            var i, o = [], r = 0, a = 0;
            if (h = !g.detectDuplicates,
            d = !g.sortStable && e.slice(0),
            e.sort(K),
            h) {
                for (; i = e[a++]; )
                    if (i === e[a])
                        r = o.push(a);
                for (; r--; )
                    e.splice(o[r], 1)
            }
            return d = null,
            e
        }
        ,
        l = G.getText = function(e) {
            var i, o = "", r = 0, a = e.nodeType;
            if (!a)
                for (; i = e[r++]; )
                    o += l(i);
            else if (1 === a || 9 === a || 11 === a)
                if ("string" == typeof e.textContent)
                    return e.textContent;
                else
                    for (e = e.firstChild; e; e = e.nextSibling)
                        o += l(e);
            else if (3 === a || 4 === a)
                return e.nodeValue;
            return o
        }
        ,
        (k = G.selectors = {
            cacheLength: 50,
            createPseudo: B,
            match: T,
            attrHandle: {},
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(e) {
                    if (e[1] = e[1].replace(R, f),
                    e[3] = (e[3] || e[4] || e[5] || "").replace(R, f),
                    "~=" === e[2])
                        e[3] = " " + e[3] + " ";
                    return e.slice(0, 4)
                },
                CHILD: function(e) {
                    if (e[1] = e[1].toLowerCase(),
                    "nth" === e[1].slice(0, 3)) {
                        if (!e[3])
                            G.error(e[0]);
                        e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])),
                        e[5] = +(e[7] + e[8] || "odd" === e[3])
                    } else if (e[3])
                        G.error(e[0]);
                    return e
                },
                PSEUDO: function(e) {
                    var i, o = !e[6] && e[2];
                    if (T.CHILD.test(e[0]))
                        return null;
                    if (e[3])
                        e[2] = e[4] || e[5] || "";
                    else if (o && le.test(o) && (i = m(o, !0)) && (i = o.indexOf(")", o.length - i) - o.length))
                        e[0] = e[0].slice(0, i),
                        e[2] = o.slice(0, i);
                    return e.slice(0, 3)
                }
            },
            filter: {
                TAG: function(e) {
                    var i = e.replace(R, f).toLowerCase();
                    return "*" === e ? function() {
                        return !0
                    }
                    : function(e) {
                        return e.nodeName && e.nodeName.toLowerCase() === i
                    }
                },
                CLASS: function(e) {
                    var i = j[e + " "];
                    return i || (i = new RegExp("(^|" + u + ")" + e + "(" + u + "|$)")) && j(e, function(e) {
                        return i.test("string" == typeof e.className && e.className || void 0 !== e.getAttribute && e.getAttribute("class") || "")
                    })
                },
                ATTR: function(i, o, r) {
                    return function(e) {
                        e = G.attr(e, i);
                        if (null == e)
                            return "!=" === o;
                        if (o)
                            return e += "",
                            "=" === o ? e === r : "!=" === o ? e !== r : "^=" === o ? r && 0 === e.indexOf(r) : "*=" === o ? r && -1 < e.indexOf(r) : "$=" === o ? r && e.slice(-r.length) === r : "~=" === o ? -1 < (" " + e.replace(oe, " ") + " ").indexOf(r) : "|=" === o ? e === r || e.slice(0, r.length + 1) === r + "-" : !1;
                        else
                            return !0
                    }
                },
                CHILD: function(w, e, i, v, y) {
                    var b = "nth" !== w.slice(0, 3)
                      , C = "last" !== w.slice(-4)
                      , T = "of-type" === e;
                    return 1 === v && 0 === y ? function(e) {
                        return !!e.parentNode
                    }
                    : function(e, i, o) {
                        var r, a, l, u, c, d, h = b != C ? "nextSibling" : "previousSibling", p = e.parentNode, f = T && e.nodeName.toLowerCase(), g = !o && !T, m = !1;
                        if (p) {
                            if (b) {
                                for (; h; ) {
                                    for (u = e; u = u[h]; )
                                        if (T ? u.nodeName.toLowerCase() === f : 1 === u.nodeType)
                                            return !1;
                                    d = h = "only" === w && !d && "nextSibling"
                                }
                                return !0
                            }
                            if (d = [C ? p.firstChild : p.lastChild],
                            C && g) {
                                for (m = (c = (r = (a = (l = (u = p)[M] || (u[M] = {}))[u.uniqueID] || (l[u.uniqueID] = {}))[w] || [])[0] === I && r[1]) && r[2],
                                u = c && p.childNodes[c]; u = ++c && u && u[h] || (m = c = 0) || d.pop(); )
                                    if (1 === u.nodeType && ++m && u === e) {
                                        a[w] = [I, c, m];
                                        break
                                    }
                            } else {
                                if (g)
                                    m = c = (r = (a = (l = (u = e)[M] || (u[M] = {}))[u.uniqueID] || (l[u.uniqueID] = {}))[w] || [])[0] === I && r[1];
                                if (!1 === m)
                                    for (; u = ++c && u && u[h] || (m = c = 0) || d.pop(); )
                                        if ((T ? u.nodeName.toLowerCase() === f : 1 === u.nodeType) && ++m) {
                                            if (g)
                                                (a = (l = u[M] || (u[M] = {}))[u.uniqueID] || (l[u.uniqueID] = {}))[w] = [I, m];
                                            if (u === e)
                                                break
                                        }
                            }
                            return (m -= y) === v || m % v == 0 && 0 <= m / v
                        }
                    }
                },
                PSEUDO: function(e, l) {
                    var i, u = k.pseudos[e] || k.setFilters[e.toLowerCase()] || G.error("unsupported pseudo: " + e);
                    if (u[M])
                        return u(l);
                    if (1 < u.length)
                        return i = [e, e, "", l],
                        k.setFilters.hasOwnProperty(e.toLowerCase()) ? B(function(e, i) {
                            for (var o, r = u(e, l), a = r.length; a--; )
                                e[o = C(e, r[a])] = !(i[o] = r[a])
                        }) : function(e) {
                            return u(e, 0, i)
                        }
                        ;
                    else
                        return u
                }
            },
            pseudos: {
                not: B(function(e) {
                    var r = []
                      , a = []
                      , c = H(e.replace(b, "$1"));
                    return c[M] ? B(function(e, i, o, r) {
                        for (var a, l = c(e, null, r, []), u = e.length; u--; )
                            if (a = l[u])
                                e[u] = !(i[u] = a)
                    }) : function(e, i, o) {
                        return r[0] = e,
                        c(r, null, o, a),
                        r[0] = null,
                        !a.pop()
                    }
                }),
                has: B(function(i) {
                    return function(e) {
                        return 0 < G(i, e).length
                    }
                }),
                contains: B(function(i) {
                    return i = i.replace(R, f),
                    function(e) {
                        return -1 < (e.textContent || l(e)).indexOf(i)
                    }
                }),
                lang: B(function(o) {
                    if (!ue.test(o || ""))
                        G.error("unsupported lang: " + o);
                    return o = o.replace(R, f).toLowerCase(),
                    function(e) {
                        var i;
                        do {
                            if (i = E ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang"))
                                return (i = i.toLowerCase()) === o || 0 === i.indexOf(o + "-")
                        } while ((e = e.parentNode) && 1 === e.nodeType);
                        return !1
                    }
                }),
                target: function(e) {
                    var i = N.location && N.location.hash;
                    return i && i.slice(1) === e.id
                },
                root: function(e) {
                    return e === o
                },
                focus: function(e) {
                    return e === A.activeElement && (!A.hasFocus || A.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                },
                enabled: ve(!1),
                disabled: ve(!0),
                checked: function(e) {
                    var i = e.nodeName.toLowerCase();
                    return "input" === i && !!e.checked || "option" === i && !!e.selected
                },
                selected: function(e) {
                    if (e.parentNode)
                        e.parentNode.selectedIndex;
                    return !0 === e.selected
                },
                empty: function(e) {
                    for (e = e.firstChild; e; e = e.nextSibling)
                        if (e.nodeType < 6)
                            return !1;
                    return !0
                },
                parent: function(e) {
                    return !k.pseudos.empty(e)
                },
                header: function(e) {
                    return he.test(e.nodeName)
                },
                input: function(e) {
                    return de.test(e.nodeName)
                },
                button: function(e) {
                    var i = e.nodeName.toLowerCase();
                    return "input" === i && "button" === e.type || "button" === i
                },
                text: function(e) {
                    return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (e = e.getAttribute("type")) || "text" === e.toLowerCase())
                },
                first: W(function() {
                    return [0]
                }),
                last: W(function(e, i) {
                    return [i - 1]
                }),
                eq: W(function(e, i, o) {
                    return [o < 0 ? o + i : o]
                }),
                even: W(function(e, i) {
                    for (var o = 0; o < i; o += 2)
                        e.push(o);
                    return e
                }),
                odd: W(function(e, i) {
                    for (var o = 1; o < i; o += 2)
                        e.push(o);
                    return e
                }),
                lt: W(function(e, i, o) {
                    for (var r = o < 0 ? o + i : i < o ? i : o; 0 <= --r; )
                        e.push(r);
                    return e
                }),
                gt: W(function(e, i, o) {
                    for (var r = o < 0 ? o + i : o; ++r < i; )
                        e.push(r);
                    return e
                })
            }
        }).pseudos.nth = k.pseudos.eq,
        {
            radio: !0,
            checkbox: !0,
            file: !0,
            password: !0,
            image: !0
        })
            k.pseudos[e] = function(i) {
                return function(e) {
                    return "input" === e.nodeName.toLowerCase() && e.type === i
                }
            }(e);
        for (e in {
            submit: !0,
            reset: !0
        })
            k.pseudos[e] = function(o) {
                return function(e) {
                    var i = e.nodeName.toLowerCase();
                    return ("input" === i || "button" === i) && e.type === o
                }
            }(e);
        function be() {}
        function F(e) {
            for (var i = 0, o = e.length, r = ""; i < o; i++)
                r += e[i].value;
            return r
        }
        function Ce(u, e, i) {
            var c = e.dir
              , d = e.next
              , h = d || c
              , p = i && "parentNode" === h
              , f = V++;
            return e.first ? function(e, i, o) {
                for (; e = e[c]; )
                    if (1 === e.nodeType || p)
                        return u(e, i, o);
                return !1
            }
            : function(e, i, o) {
                var r, a, l = [I, f];
                if (o) {
                    for (; e = e[c]; )
                        if (1 === e.nodeType || p)
                            if (u(e, i, o))
                                return !0
                } else
                    for (; e = e[c]; )
                        if (1 === e.nodeType || p)
                            if (a = (a = e[M] || (e[M] = {}))[e.uniqueID] || (a[e.uniqueID] = {}),
                            d && d === e.nodeName.toLowerCase())
                                e = e[c] || e;
                            else if ((r = a[h]) && r[0] === I && r[1] === f)
                                return l[2] = r[2];
                            else if ((a[h] = l)[2] = u(e, i, o))
                                return !0;
                return !1
            }
        }
        function Te(a) {
            return 1 < a.length ? function(e, i, o) {
                for (var r = a.length; r--; )
                    if (!a[r](e, i, o))
                        return !1;
                return !0
            }
            : a[0]
        }
        function ke(e, i, o, r, a) {
            for (var l, u = [], c = 0, d = e.length, h = null != i; c < d; c++)
                if (l = e[c])
                    if (!o || o(l, r, a))
                        if (u.push(l),
                        h)
                            i.push(c);
            return u
        }
        function xe(m, w, v, y, b, e) {
            if (y && !y[M])
                y = xe(y);
            if (b && !b[M])
                b = xe(b, e);
            return B(function(e, i, o, r) {
                var a, l, u, c = [], d = [], h = i.length, p = e || function(e, i, o) {
                    for (var r = 0, a = i.length; r < a; r++)
                        G(e, i[r], o);
                    return o
                }(w || "*", o.nodeType ? [o] : o, []), f = m && (e || !w) ? ke(p, c, m, o, r) : p, g = v ? b || (e ? m : h || y) ? [] : i : f;
                if (v)
                    v(f, g, o, r);
                if (y)
                    for (a = ke(g, d),
                    y(a, [], o, r),
                    l = a.length; l--; )
                        if (u = a[l])
                            g[d[l]] = !(f[d[l]] = u);
                if (e) {
                    if (b || m) {
                        if (b) {
                            for (a = [],
                            l = g.length; l--; )
                                if (u = g[l])
                                    a.push(f[l] = u);
                            b(null, g = [], a, r)
                        }
                        for (l = g.length; l--; )
                            if ((u = g[l]) && -1 < (a = b ? C(e, u) : c[l]))
                                e[a] = !(i[a] = u)
                    }
                } else if (g = ke(g === i ? g.splice(h, g.length) : g),
                b)
                    b(null, i, g, r);
                else
                    P.apply(i, g)
            })
        }
        function Se(y, b) {
            function e(e, i, o, r, a) {
                var l, u, c, d = 0, h = "0", p = e && [], f = [], g = x, m = e || T && k.find.TAG("*", a), w = I += null == g ? 1 : Math.random() || .1, v = m.length;
                if (a)
                    x = i == A || i || a;
                for (; h !== v && null != (l = m[h]); h++) {
                    if (T && l) {
                        if (u = 0,
                        !i && l.ownerDocument != A)
                            S(l),
                            o = !E;
                        for (; c = y[u++]; )
                            if (c(l, i || A, o)) {
                                r.push(l);
                                break
                            }
                        if (a)
                            I = w
                    }
                    if (C) {
                        if (l = !c && l)
                            d--;
                        if (e)
                            p.push(l)
                    }
                }
                if (d += h,
                C && h !== d) {
                    for (u = 0; c = b[u++]; )
                        c(p, f, i, o);
                    if (e) {
                        if (0 < d)
                            for (; h--; )
                                if (!p[h] && !f[h])
                                    f[h] = X.call(r);
                        f = ke(f)
                    }
                    if (P.apply(r, f),
                    a && !e && 0 < f.length && 1 < d + b.length)
                        G.uniqueSort(r)
                }
                if (a)
                    I = w,
                    x = g;
                return p
            }
            var C = 0 < b.length
              , T = 0 < y.length;
            return C ? B(e) : e
        }
        if (be.prototype = k.filters = k.pseudos,
        k.setFilters = new be,
        m = G.tokenize = function(e, i) {
            var o, r, a, l, u, c, d, h = Y[e + " "];
            if (h)
                return i ? 0 : h.slice(0);
            for (u = e,
            c = [],
            d = k.preFilter; u; ) {
                if (!o || (r = re.exec(u))) {
                    if (r)
                        u = u.slice(r[0].length) || u;
                    c.push(a = [])
                }
                if (o = !1,
                r = se.exec(u))
                    o = r.shift(),
                    a.push({
                        value: o,
                        type: r[0].replace(b, " ")
                    }),
                    u = u.slice(o.length);
                for (l in k.filter)
                    if ((r = T[l].exec(u)) && (!d[l] || (r = d[l](r))))
                        o = r.shift(),
                        a.push({
                            value: o,
                            type: l,
                            matches: r
                        }),
                        u = u.slice(o.length);
                if (!o)
                    break
            }
            return i ? u.length : u ? G.error(e) : Y(e, c).slice(0)
        }
        ,
        H = G.compile = function(e, i) {
            var o, r = [], a = [], l = Q[e + " "];
            if (!l) {
                if (!i)
                    i = m(e);
                for (o = i.length; o--; )
                    if ((l = function e(i) {
                        for (var r, o, a, l = i.length, u = k.relative[i[0].type], c = u || k.relative[" "], d = u ? 1 : 0, h = Ce(function(e) {
                            return e === r
                        }, c, !0), p = Ce(function(e) {
                            return -1 < C(r, e)
                        }, c, !0), f = [function(e, i, o) {
                            return e = !u && (o || i !== x) || ((r = i).nodeType ? h(e, i, o) : p(e, i, o)),
                            r = null,
                            e
                        }
                        ]; d < l; d++)
                            if (o = k.relative[i[d].type])
                                f = [Ce(Te(f), o)];
                            else {
                                if ((o = k.filter[i[d].type].apply(null, i[d].matches))[M]) {
                                    for (a = ++d; a < l && !k.relative[i[a].type]; a++)
                                        ;
                                    return xe(1 < d && Te(f), 1 < d && F(i.slice(0, d - 1).concat({
                                        value: " " === i[d - 2].type ? "*" : ""
                                    })).replace(b, "$1"), o, d < a && e(i.slice(d, a)), a < l && e(i = i.slice(a)), a < l && F(i))
                                }
                                f.push(o)
                            }
                        return Te(f)
                    }(i[o]))[M])
                        r.push(l);
                    else
                        a.push(l);
                (l = Q(e, Se(a, r))).selector = e
            }
            return l
        }
        ,
        U = G.select = function(e, i, o, r) {
            var a, l, u, c, d, h = "function" == typeof e && e, p = !r && m(e = h.selector || e);
            if (o = o || [],
            1 === p.length) {
                if (2 < (l = p[0] = p[0].slice(0)).length && "ID" === (u = l[0]).type && 9 === i.nodeType && E && k.relative[l[1].type]) {
                    if (!(i = (k.find.ID(u.matches[0].replace(R, f), i) || [])[0]))
                        return o;
                    else if (h)
                        i = i.parentNode;
                    e = e.slice(l.shift().value.length)
                }
                for (a = T.needsContext.test(e) ? 0 : l.length; a-- && (u = l[a],
                !k.relative[c = u.type]); )
                    if (d = k.find[c])
                        if (r = d(u.matches[0].replace(R, f), _e.test(l[0].type) && ye(i.parentNode) || i)) {
                            if (l.splice(a, 1),
                            e = r.length && F(l))
                                break;
                            return P.apply(o, r),
                            o
                        }
            }
            return (h || H(e, p))(r, i, !E, o, !i || _e.test(e) && ye(i.parentNode) || i),
            o
        }
        ,
        g.sortStable = M.split("").sort(K).join("") === M,
        g.detectDuplicates = !!h,
        S(),
        g.sortDetached = L(function(e) {
            return 1 & e.compareDocumentPosition(A.createElement("fieldset"))
        }),
        !L(function(e) {
            return e.innerHTML = "<a href='#'></a>",
            "#" === e.firstChild.getAttribute("href")
        }))
            me("type|href|height|width", function(e, i, o) {
                if (!o)
                    return e.getAttribute(i, "type" === i.toLowerCase() ? 1 : 2)
            });
        if (!g.attributes || !L(function(e) {
            return e.innerHTML = "<input/>",
            e.firstChild.setAttribute("value", ""),
            "" === e.firstChild.getAttribute("value")
        }))
            me("value", function(e, i, o) {
                if (!o && "input" === e.nodeName.toLowerCase())
                    return e.defaultValue
            });
        if (!L(function(e) {
            return null == e.getAttribute("disabled")
        }))
            me(te, function(e, i, o) {
                if (!o)
                    return !0 === e[i] ? i.toLowerCase() : (o = e.getAttributeNode(i)) && o.specified ? o.value : null
            });
        return G
    }(k)
      , Z = (jQuery.find = e,
    jQuery.expr = e.selectors,
    jQuery.expr[":"] = jQuery.expr.pseudos,
    jQuery.uniqueSort = jQuery.unique = e.uniqueSort,
    jQuery.text = e.getText,
    jQuery.isXMLDoc = e.isXML,
    jQuery.contains = e.contains,
    jQuery.escapeSelector = e.escape,
    jQuery.expr.match.needsContext);
    function d(e, i) {
        return e.nodeName && e.nodeName.toLowerCase() === i.toLowerCase()
    }
    var ee = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;
    function te(e, o, r) {
        if (C(o))
            return jQuery.grep(e, function(e, i) {
                return !!o.call(e, i, e) !== r
            });
        if (o.nodeType)
            return jQuery.grep(e, function(e) {
                return e === o !== r
            });
        if ("string" != typeof o)
            return jQuery.grep(e, function(e) {
                return -1 < q.call(o, e) !== r
            });
        else
            return jQuery.filter(o, e, r)
    }
    jQuery.filter = function(e, i, o) {
        var r = i[0];
        if (o)
            e = ":not(" + e + ")";
        if (1 === i.length && 1 === r.nodeType)
            return jQuery.find.matchesSelector(r, e) ? [r] : [];
        else
            return jQuery.find.matches(e, jQuery.grep(i, function(e) {
                return 1 === e.nodeType
            }))
    }
    ,
    jQuery.fn.extend({
        find: function(e) {
            var i, o, r = this.length, a = this;
            if ("string" != typeof e)
                return this.pushStack(jQuery(e).filter(function() {
                    for (i = 0; i < r; i++)
                        if (jQuery.contains(a[i], this))
                            return !0
                }));
            for (o = this.pushStack([]),
            i = 0; i < r; i++)
                jQuery.find(e, a[i], o);
            return 1 < r ? jQuery.uniqueSort(o) : o
        },
        filter: function(e) {
            return this.pushStack(te(this, e || [], !1))
        },
        not: function(e) {
            return this.pushStack(te(this, e || [], !0))
        },
        is: function(e) {
            return !!te(this, "string" == typeof e && Z.test(e) ? jQuery(e) : e || [], !1).length
        }
    });
    var ie, ne = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/, oe = ((jQuery.fn.init = function(e, i, o) {
        var r, a;
        if (!e)
            return this;
        if (o = o || ie,
        "string" == typeof e) {
            if ("<" === e[0] && ">" === e[e.length - 1] && 3 <= e.length)
                r = [null, e, null];
            else
                r = ne.exec(e);
            if (r && (r[1] || !i))
                if (r[1]) {
                    if (i = i instanceof jQuery ? i[0] : i,
                    jQuery.merge(this, jQuery.parseHTML(r[1], i && i.nodeType ? i.ownerDocument || i : x, !0)),
                    ee.test(r[1]) && jQuery.isPlainObject(i))
                        for (r in i)
                            if (C(this[r]))
                                this[r](i[r]);
                            else
                                this.attr(r, i[r]);
                    return this
                } else {
                    if (a = x.getElementById(r[2]))
                        this[0] = a,
                        this.length = 1;
                    return this
                }
            else if (!i || i.jquery)
                return (i || o).find(e);
            else
                return this.constructor(i).find(e)
        } else if (e.nodeType)
            return this[0] = e,
            this.length = 1,
            this;
        else if (C(e))
            return void 0 !== o.ready ? o.ready(e) : e(jQuery);
        return jQuery.makeArray(e, this)
    }
    ).prototype = jQuery.fn,
    ie = jQuery(x),
    /^(?:parents|prev(?:Until|All))/), re = {
        children: !0,
        contents: !0,
        next: !0,
        prev: !0
    };
    function se(e, i) {
        for (; (e = e[i]) && 1 !== e.nodeType; )
            ;
        return e
    }
    jQuery.fn.extend({
        has: function(e) {
            var i = jQuery(e, this)
              , o = i.length;
            return this.filter(function() {
                for (var e = 0; e < o; e++)
                    if (jQuery.contains(this, i[e]))
                        return !0
            })
        },
        closest: function(e, i) {
            var o, r = 0, a = this.length, l = [], u = "string" != typeof e && jQuery(e);
            if (!Z.test(e))
                for (; r < a; r++)
                    for (o = this[r]; o && o !== i; o = o.parentNode)
                        if (o.nodeType < 11 && (u ? -1 < u.index(o) : 1 === o.nodeType && jQuery.find.matchesSelector(o, e))) {
                            l.push(o);
                            break
                        }
            return this.pushStack(1 < l.length ? jQuery.uniqueSort(l) : l)
        },
        index: function(e) {
            if (!e)
                return this[0] && this[0].parentNode ? this.first().prevAll().length : -1;
            if ("string" == typeof e)
                return q.call(jQuery(e), this[0]);
            else
                return q.call(this, e.jquery ? e[0] : e)
        },
        add: function(e, i) {
            return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(), jQuery(e, i))))
        },
        addBack: function(e) {
            return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
        }
    }),
    jQuery.each({
        parent: function(e) {
            e = e.parentNode;
            return e && 11 !== e.nodeType ? e : null
        },
        parents: function(e) {
            return r(e, "parentNode")
        },
        parentsUntil: function(e, i, o) {
            return r(e, "parentNode", o)
        },
        next: function(e) {
            return se(e, "nextSibling")
        },
        prev: function(e) {
            return se(e, "previousSibling")
        },
        nextAll: function(e) {
            return r(e, "nextSibling")
        },
        prevAll: function(e) {
            return r(e, "previousSibling")
        },
        nextUntil: function(e, i, o) {
            return r(e, "nextSibling", o)
        },
        prevUntil: function(e, i, o) {
            return r(e, "previousSibling", o)
        },
        siblings: function(e) {
            return X((e.parentNode || {}).firstChild, e)
        },
        children: function(e) {
            return X(e.firstChild)
        },
        contents: function(e) {
            if (null != e.contentDocument && N(e.contentDocument))
                return e.contentDocument;
            if (d(e, "template"))
                e = e.content || e;
            return jQuery.merge([], e.childNodes)
        }
    }, function(r, a) {
        jQuery.fn[r] = function(e, i) {
            var o = jQuery.map(this, a, e);
            if ("Until" !== r.slice(-5))
                i = e;
            if (i && "string" == typeof i)
                o = jQuery.filter(i, o);
            if (1 < this.length) {
                if (!re[r])
                    jQuery.uniqueSort(o);
                if (oe.test(r))
                    o.reverse()
            }
            return this.pushStack(o)
        }
    });
    var S = /[^\x20\t\r\n\f]+/g;
    function p(e) {
        return e
    }
    function ae(e) {
        throw e
    }
    function le(e, i, o, r) {
        var a;
        try {
            if (e && C(a = e.promise))
                a.call(e).done(i).fail(o);
            else if (e && C(a = e.then))
                a.call(e, i, o);
            else
                i.apply(void 0, [e].slice(r))
        } catch (e) {
            o.apply(void 0, [e])
        }
    }
    jQuery.Callbacks = function(o) {
        var e, i;
        o = "string" == typeof o ? (e = o,
        i = {},
        jQuery.each(e.match(S) || [], function(_, e) {
            i[e] = !0
        }),
        i) : jQuery.extend({}, o);
        function r() {
            for (c = c || o.once,
            u = a = !0; h.length; p = -1)
                for (l = h.shift(); ++p < d.length; )
                    if (!1 === d[p].apply(l[0], l[1]) && o.stopOnFalse)
                        p = d.length,
                        l = !1;
            if (!o.memory)
                l = !1;
            if (a = !1,
            c)
                if (l)
                    d = [];
                else
                    d = ""
        }
        var a, l, u, c, d = [], h = [], p = -1, f = {
            add: function() {
                if (d) {
                    if (l && !a)
                        p = d.length - 1,
                        h.push(l);
                    if (function i(e) {
                        jQuery.each(e, function(_, e) {
                            if (C(e)) {
                                if (!o.unique || !f.has(e))
                                    d.push(e)
                            } else if (e && e.length && "string" !== w(e))
                                i(e)
                        })
                    }(arguments),
                    l && !a)
                        r()
                }
                return this
            },
            remove: function() {
                return jQuery.each(arguments, function(_, e) {
                    for (var i; -1 < (i = jQuery.inArray(e, d, i)); )
                        if (d.splice(i, 1),
                        i <= p)
                            p--
                }),
                this
            },
            has: function(e) {
                return e ? -1 < jQuery.inArray(e, d) : 0 < d.length
            },
            empty: function() {
                if (d)
                    d = [];
                return this
            },
            disable: function() {
                return c = h = [],
                d = l = "",
                this
            },
            disabled: function() {
                return !d
            },
            lock: function() {
                if (c = h = [],
                !l && !a)
                    d = l = "";
                return this
            },
            locked: function() {
                return !!c
            },
            fireWith: function(e, i) {
                if (!c)
                    if (i = [e, (i = i || []).slice ? i.slice() : i],
                    h.push(i),
                    !a)
                        r();
                return this
            },
            fire: function() {
                return f.fireWith(this, arguments),
                this
            },
            fired: function() {
                return !!u
            }
        };
        return f
    }
    ,
    jQuery.extend({
        Deferred: function(e) {
            var l = [["notify", "progress", jQuery.Callbacks("memory"), jQuery.Callbacks("memory"), 2], ["resolve", "done", jQuery.Callbacks("once memory"), jQuery.Callbacks("once memory"), 0, "resolved"], ["reject", "fail", jQuery.Callbacks("once memory"), jQuery.Callbacks("once memory"), 1, "rejected"]]
              , a = "pending"
              , u = {
                state: function() {
                    return a
                },
                always: function() {
                    return c.done(arguments).fail(arguments),
                    this
                },
                catch: function(e) {
                    return u.then(null, e)
                },
                pipe: function() {
                    var a = arguments;
                    return jQuery.Deferred(function(r) {
                        jQuery.each(l, function(e, i) {
                            var o = C(a[i[4]]) && a[i[4]];
                            c[i[1]](function() {
                                var e = o && o.apply(this, arguments);
                                if (e && C(e.promise))
                                    e.promise().progress(r.notify).done(r.resolve).fail(r.reject);
                                else
                                    r[i[0] + "With"](this, o ? [e] : arguments)
                            })
                        }),
                        a = null
                    }).promise()
                },
                then: function(i, o, r) {
                    var d = 0;
                    function h(a, l, u, c) {
                        return function() {
                            function e() {
                                var e, i;
                                if (a < d)
                                    ;
                                else {
                                    if ((e = u.apply(o, r)) === l.promise())
                                        throw new TypeError("Thenable self-resolution");
                                    if (i = e && ("object" == typeof e || "function" == typeof e) && e.then,
                                    C(i))
                                        if (c)
                                            i.call(e, h(d, l, p, c), h(d, l, ae, c));
                                        else
                                            d++,
                                            i.call(e, h(d, l, p, c), h(d, l, ae, c), h(d, l, p, l.notifyWith));
                                    else {
                                        if (u !== p)
                                            o = void 0,
                                            r = [e];
                                        (c || l.resolveWith)(o, r)
                                    }
                                }
                            }
                            var o = this
                              , r = arguments
                              , i = c ? e : function() {
                                try {
                                    e()
                                } catch (e) {
                                    if (jQuery.Deferred.exceptionHook)
                                        jQuery.Deferred.exceptionHook(e, i.stackTrace);
                                    if (d <= a + 1) {
                                        if (u !== ae)
                                            o = void 0,
                                            r = [e];
                                        l.rejectWith(o, r)
                                    }
                                }
                            }
                            ;
                            if (a)
                                i();
                            else {
                                if (jQuery.Deferred.getStackHook)
                                    i.stackTrace = jQuery.Deferred.getStackHook();
                                k.setTimeout(i)
                            }
                        }
                    }
                    return jQuery.Deferred(function(e) {
                        l[0][3].add(h(0, e, C(r) ? r : p, e.notifyWith)),
                        l[1][3].add(h(0, e, C(i) ? i : p)),
                        l[2][3].add(h(0, e, C(o) ? o : ae))
                    }).promise()
                },
                promise: function(e) {
                    return null != e ? jQuery.extend(e, u) : u
                }
            }
              , c = {};
            if (jQuery.each(l, function(e, i) {
                var o = i[2]
                  , r = i[5];
                if (u[i[1]] = o.add,
                r)
                    o.add(function() {
                        a = r
                    }, l[3 - e][2].disable, l[3 - e][3].disable, l[0][2].lock, l[0][3].lock);
                o.add(i[3].fire),
                c[i[0]] = function() {
                    return c[i[0] + "With"](this === c ? void 0 : this, arguments),
                    this
                }
                ,
                c[i[0] + "With"] = o.fireWith
            }),
            u.promise(c),
            e)
                e.call(c, c);
            return c
        },
        when: function(e) {
            function i(i) {
                return function(e) {
                    if (a[i] = this,
                    l[i] = 1 < arguments.length ? c.call(arguments) : e,
                    !--o)
                        u.resolveWith(a, l)
                }
            }
            var o = arguments.length
              , r = o
              , a = Array(r)
              , l = c.call(arguments)
              , u = jQuery.Deferred();
            if (o <= 1)
                if (le(e, u.done(i(r)).resolve, u.reject, !o),
                "pending" === u.state() || C(l[r] && l[r].then))
                    return u.then();
            for (; r--; )
                le(l[r], i(r), u.reject);
            return u.promise()
        }
    });
    var ue = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/
      , ce = (jQuery.Deferred.exceptionHook = function(e, i) {
        if (k.console && k.console.warn && e && ue.test(e.name))
            k.console.warn("jQuery.Deferred exception: " + e.message, e.stack, i)
    }
    ,
    jQuery.readyException = function(e) {
        k.setTimeout(function() {
            throw e
        })
    }
    ,
    jQuery.Deferred());
    function de() {
        x.removeEventListener("DOMContentLoaded", de),
        k.removeEventListener("load", de),
        jQuery.ready()
    }
    if (jQuery.fn.ready = function(e) {
        return ce.then(e).catch(function(e) {
            jQuery.readyException(e)
        }),
        this
    }
    ,
    jQuery.extend({
        isReady: !1,
        readyWait: 1,
        ready: function(e) {
            if (!0 === e ? --jQuery.readyWait : jQuery.isReady)
                ;
            else if ((jQuery.isReady = !0) !== e && 0 < --jQuery.readyWait)
                ;
            else
                ce.resolveWith(x, [jQuery])
        }
    }),
    jQuery.ready.then = ce.then,
    "complete" === x.readyState || "loading" !== x.readyState && !x.documentElement.doScroll)
        k.setTimeout(jQuery.ready);
    else
        x.addEventListener("DOMContentLoaded", de),
        k.addEventListener("load", de);
    function f(e, i, o, r, a, l, u) {
        var c = 0
          , d = e.length
          , h = null == o;
        if ("object" === w(o))
            for (c in a = !0,
            o)
                f(e, i, c, o[c], !0, l, u);
        else if (void 0 !== r) {
            if (a = !0,
            !C(r))
                u = !0;
            if (h)
                if (u)
                    i.call(e, r),
                    i = null;
                else
                    h = i,
                    i = function(e, i, o) {
                        return h.call(jQuery(e), o)
                    }
                    ;
            if (i)
                for (; c < d; c++)
                    i(e[c], o, u ? r : r.call(e[c], c, i(e[c], o)))
        }
        if (a)
            return e;
        if (h)
            return i.call(e);
        else
            return d ? i(e[0], o) : l
    }
    var he = /^-ms-/
      , pe = /-([a-z])/g;
    function _e(e, i) {
        return i.toUpperCase()
    }
    function T(e) {
        return e.replace(he, "ms-").replace(pe, _e)
    }
    function b(e) {
        return 1 === e.nodeType || 9 === e.nodeType || !+e.nodeType
    }
    function fe() {
        this.expando = jQuery.expando + fe.uid++
    }
    fe.uid = 1,
    fe.prototype = {
        cache: function(e) {
            var i = e[this.expando];
            if (!i)
                if (i = {},
                b(e))
                    if (e.nodeType)
                        e[this.expando] = i;
                    else
                        Object.defineProperty(e, this.expando, {
                            value: i,
                            configurable: !0
                        });
            return i
        },
        set: function(e, i, o) {
            var r, a = this.cache(e);
            if ("string" == typeof i)
                a[T(i)] = o;
            else
                for (r in i)
                    a[T(r)] = i[r];
            return a
        },
        get: function(e, i) {
            return void 0 === i ? this.cache(e) : e[this.expando] && e[this.expando][T(i)]
        },
        access: function(e, i, o) {
            if (void 0 === i || i && "string" == typeof i && void 0 === o)
                return this.get(e, i);
            else
                return this.set(e, i, o),
                void 0 !== o ? o : i
        },
        remove: function(e, i) {
            var o, r = e[this.expando];
            if (void 0 === r)
                ;
            else {
                if (void 0 !== i) {
                    if (Array.isArray(i))
                        i = i.map(T);
                    else
                        i = (i = T(i))in r ? [i] : i.match(S) || [];
                    for (o = i.length; o--; )
                        delete r[i[o]]
                }
                if (void 0 === i || jQuery.isEmptyObject(r))
                    if (e.nodeType)
                        e[this.expando] = void 0;
                    else
                        delete e[this.expando]
            }
        },
        hasData: function(e) {
            e = e[this.expando];
            return void 0 !== e && !jQuery.isEmptyObject(e)
        }
    };
    var A = new fe
      , h = new fe
      , ge = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/
      , me = /[A-Z]/g;
    function we(e, i, o) {
        var r;
        if (void 0 === o && 1 === e.nodeType)
            if (r = "data-" + i.replace(me, "-$&").toLowerCase(),
            "string" == typeof (o = e.getAttribute(r))) {
                try {
                    o = function(e) {
                        if ("true" === e)
                            return !0;
                        if ("false" === e)
                            return !1;
                        if ("null" === e)
                            return null;
                        if (e === +e + "")
                            return +e;
                        if (ge.test(e))
                            return JSON.parse(e);
                        else
                            return e
                    }(o)
                } catch (e) {}
                h.set(e, i, o)
            } else
                o = void 0;
        return o
    }
    jQuery.extend({
        hasData: function(e) {
            return h.hasData(e) || A.hasData(e)
        },
        data: function(e, i, o) {
            return h.access(e, i, o)
        },
        removeData: function(e, i) {
            h.remove(e, i)
        },
        _data: function(e, i, o) {
            return A.access(e, i, o)
        },
        _removeData: function(e, i) {
            A.remove(e, i)
        }
    }),
    jQuery.fn.extend({
        data: function(o, e) {
            var i, r, a, l = this[0], u = l && l.attributes;
            if (void 0 === o) {
                if (this.length)
                    if (a = h.get(l),
                    1 === l.nodeType && !A.get(l, "hasDataAttrs")) {
                        for (i = u.length; i--; )
                            if (u[i])
                                if (0 === (r = u[i].name).indexOf("data-"))
                                    r = T(r.slice(5)),
                                    we(l, r, a[r]);
                        A.set(l, "hasDataAttrs", !0)
                    }
                return a
            }
            if ("object" == typeof o)
                return this.each(function() {
                    h.set(this, o)
                });
            else
                return f(this, function(e) {
                    var i;
                    if (l && void 0 === e) {
                        if (void 0 !== (i = h.get(l, o)))
                            return i;
                        if (void 0 !== (i = we(l, o)))
                            return i;
                        else
                            return
                    }
                    this.each(function() {
                        h.set(this, o, e)
                    })
                }, null, e, 1 < arguments.length, null, !0)
        },
        removeData: function(e) {
            return this.each(function() {
                h.remove(this, e)
            })
        }
    }),
    jQuery.extend({
        queue: function(e, i, o) {
            var r;
            if (e) {
                if (r = A.get(e, i = (i || "fx") + "queue"),
                o)
                    if (!r || Array.isArray(o))
                        r = A.access(e, i, jQuery.makeArray(o));
                    else
                        r.push(o);
                return r || []
            }
        },
        dequeue: function(e, i) {
            i = i || "fx";
            var o = jQuery.queue(e, i)
              , r = o.length
              , a = o.shift()
              , l = jQuery._queueHooks(e, i);
            if ("inprogress" === a)
                a = o.shift(),
                r--;
            if (a) {
                if ("fx" === i)
                    o.unshift("inprogress");
                delete l.stop,
                a.call(e, function() {
                    jQuery.dequeue(e, i)
                }, l)
            }
            if (!r && l)
                l.empty.fire()
        },
        _queueHooks: function(e, i) {
            var o = i + "queueHooks";
            return A.get(e, o) || A.access(e, o, {
                empty: jQuery.Callbacks("once memory").add(function() {
                    A.remove(e, [i + "queue", o])
                })
            })
        }
    }),
    jQuery.fn.extend({
        queue: function(i, o) {
            var e = 2;
            if ("string" != typeof i)
                o = i,
                i = "fx",
                e--;
            if (arguments.length < e)
                return jQuery.queue(this[0], i);
            else
                return void 0 === o ? this : this.each(function() {
                    var e = jQuery.queue(this, i, o);
                    if (jQuery._queueHooks(this, i),
                    "fx" === i && "inprogress" !== e[0])
                        jQuery.dequeue(this, i)
                })
        },
        dequeue: function(e) {
            return this.each(function() {
                jQuery.dequeue(this, e)
            })
        },
        clearQueue: function(e) {
            return this.queue(e || "fx", [])
        },
        promise: function(e, i) {
            function o() {
                if (!--a)
                    l.resolveWith(u, [u])
            }
            var r, a = 1, l = jQuery.Deferred(), u = this, c = this.length;
            if ("string" != typeof e)
                i = e,
                e = void 0;
            for (e = e || "fx"; c--; )
                if ((r = A.get(u[c], e + "queueHooks")) && r.empty)
                    a++,
                    r.empty.add(o);
            return o(),
            l.promise(i)
        }
    });
    var e = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source
      , ve = new RegExp("^(?:([+-])=|)(" + e + ")([a-z%]*)$","i")
      , g = ["Top", "Right", "Bottom", "Left"]
      , E = x.documentElement
      , M = function(e) {
        return jQuery.contains(e.ownerDocument, e)
    }
      , ye = {
        composed: !0
    };
    if (E.getRootNode)
        M = function(e) {
            return jQuery.contains(e.ownerDocument, e) || e.getRootNode(ye) === e.ownerDocument
        }
        ;
    function be(e, i) {
        return "none" === (e = i || e).style.display || "" === e.style.display && M(e) && "none" === jQuery.css(e, "display")
    }
    function Ce(e, i, o, r) {
        var a, l, u = 20, c = r ? function() {
            return r.cur()
        }
        : function() {
            return jQuery.css(e, i, "")
        }
        , d = c(), h = o && o[3] || (jQuery.cssNumber[i] ? "" : "px"), p = e.nodeType && (jQuery.cssNumber[i] || "px" !== h && +d) && ve.exec(jQuery.css(e, i));
        if (p && p[3] !== h) {
            for (h = h || p[3],
            p = +(d /= 2) || 1; u--; ) {
                if (jQuery.style(e, i, p + h),
                (1 - l) * (1 - (l = c() / d || .5)) <= 0)
                    u = 0;
                p /= l
            }
            jQuery.style(e, i, (p *= 2) + h),
            o = o || []
        }
        if (o)
            if (p = +p || +d || 0,
            a = o[1] ? p + (o[1] + 1) * o[2] : +o[2],
            r)
                r.unit = h,
                r.start = p,
                r.end = a;
        return a
    }
    var Te = {};
    function I(e, i) {
        for (var o, r, a = [], l = 0, u = e.length; l < u; l++)
            if (!(r = e[l]).style)
                ;
            else if (o = r.style.display,
            i) {
                if ("none" === o)
                    if (a[l] = A.get(r, "display") || null,
                    !a[l])
                        r.style.display = "";
                if ("" === r.style.display && be(r))
                    a[l] = function(e) {
                        var i = e.ownerDocument
                          , o = Te[e = e.nodeName];
                        if (o)
                            ;
                        else {
                            if (i = i.body.appendChild(i.createElement(e)),
                            o = jQuery.css(i, "display"),
                            i.parentNode.removeChild(i),
                            "none" === o)
                                o = "block";
                            Te[e] = o
                        }
                        return o
                    }(r)
            } else if ("none" !== o)
                a[l] = "none",
                A.set(r, "display", o);
        for (l = 0; l < u; l++)
            if (null != a[l])
                e[l].style.display = a[l];
        return e
    }
    jQuery.fn.extend({
        show: function() {
            return I(this, !0)
        },
        hide: function() {
            return I(this)
        },
        toggle: function(e) {
            if ("boolean" == typeof e)
                return e ? this.show() : this.hide();
            else
                return this.each(function() {
                    if (be(this))
                        jQuery(this).show();
                    else
                        jQuery(this).hide()
                })
        }
    });
    var ke = /^(?:checkbox|radio)$/i
      , xe = /<([a-z][^\/\0>\x20\t\r\n\f]*)/i
      , Se = /^$|^module$|\/(?:java|ecma)script/i
      , P = (D = x.createDocumentFragment().appendChild(x.createElement("div")),
    (u = x.createElement("input")).setAttribute("type", "radio"),
    u.setAttribute("checked", "checked"),
    u.setAttribute("name", "t"),
    D.appendChild(u),
    y.checkClone = D.cloneNode(!0).cloneNode(!0).lastChild.checked,
    D.innerHTML = "<textarea>x</textarea>",
    y.noCloneChecked = !!D.cloneNode(!0).lastChild.defaultValue,
    D.innerHTML = "<option></option>",
    y.option = !!D.lastChild,
    {
        thead: [1, "<table>", "</table>"],
        col: [2, "<table><colgroup>", "</colgroup></table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        _default: [0, "", ""]
    });
    if (P.tbody = P.tfoot = P.colgroup = P.caption = P.thead,
    P.th = P.td,
    !y.option)
        P.optgroup = P.option = [1, "<select multiple='multiple'>", "</select>"];
    function O(e, i) {
        var o;
        if (void 0 !== e.getElementsByTagName)
            o = e.getElementsByTagName(i || "*");
        else if (void 0 !== e.querySelectorAll)
            o = e.querySelectorAll(i || "*");
        else
            o = [];
        if (void 0 === i || i && d(e, i))
            return jQuery.merge([e], o);
        else
            return o
    }
    function Ae(e, i) {
        for (var o = 0, r = e.length; o < r; o++)
            A.set(e[o], "globalEval", !i || A.get(i[o], "globalEval"))
    }
    var Ee = /<|&#?\w+;/;
    function Me(e, i, o, r, a) {
        for (var l, u, c, d, h, p = i.createDocumentFragment(), f = [], g = 0, m = e.length; g < m; g++)
            if ((l = e[g]) || 0 === l)
                if ("object" === w(l))
                    jQuery.merge(f, l.nodeType ? [l] : l);
                else if (!Ee.test(l))
                    f.push(i.createTextNode(l));
                else {
                    for (u = u || p.appendChild(i.createElement("div")),
                    c = (xe.exec(l) || ["", ""])[1].toLowerCase(),
                    c = P[c] || P._default,
                    u.innerHTML = c[1] + jQuery.htmlPrefilter(l) + c[2],
                    h = c[0]; h--; )
                        u = u.lastChild;
                    jQuery.merge(f, u.childNodes),
                    (u = p.firstChild).textContent = ""
                }
        for (p.textContent = "",
        g = 0; l = f[g++]; )
            if (r && -1 < jQuery.inArray(l, r)) {
                if (a)
                    a.push(l)
            } else {
                if (d = M(l),
                u = O(p.appendChild(l), "script"),
                d)
                    Ae(u);
                if (o)
                    for (h = 0; l = u[h++]; )
                        if (Se.test(l.type || ""))
                            o.push(l)
            }
        return p
    }
    var Ie = /^([^.]*)(?:\.(.+)|)/;
    function o() {
        return !0
    }
    function m() {
        return !1
    }
    function Pe(e, i) {
        return e === function() {
            try {
                return x.activeElement
            } catch (e) {}
        }() == ("focus" === i)
    }
    function Oe(e, i, o, r, a, l) {
        var u, c;
        if ("object" == typeof i) {
            if ("string" != typeof o)
                r = r || o,
                o = void 0;
            for (c in i)
                Oe(e, c, o, r, i[c], l);
            return e
        }
        if (null == r && null == a)
            a = o,
            r = o = void 0;
        else if (null == a)
            if ("string" == typeof o)
                a = r,
                r = void 0;
            else
                a = r,
                r = o,
                o = void 0;
        if (!1 === a)
            a = m;
        else if (!a)
            return e;
        if (1 === l)
            u = a,
            (a = function(e) {
                return jQuery().off(e),
                u.apply(this, arguments)
            }
            ).guid = u.guid || (u.guid = jQuery.guid++);
        return e.each(function() {
            jQuery.event.add(this, i, a, r, o)
        })
    }
    function Re(e, a, l) {
        if (!l) {
            if (void 0 === A.get(e, a))
                jQuery.event.add(e, a, o)
        } else
            A.set(e, a, !1),
            jQuery.event.add(e, a, {
                namespace: !1,
                handler: function(e) {
                    var i, o, r = A.get(this, a);
                    if (1 & e.isTrigger && this[a]) {
                        if (!r.length) {
                            if (r = c.call(arguments),
                            A.set(this, a, r),
                            i = l(this, a),
                            this[a](),
                            r !== (o = A.get(this, a)) || i)
                                A.set(this, a, !1);
                            else
                                o = {};
                            if (r !== o)
                                return e.stopImmediatePropagation(),
                                e.preventDefault(),
                                o && o.value
                        } else if ((jQuery.event.special[a] || {}).delegateType)
                            e.stopPropagation()
                    } else if (r.length)
                        A.set(this, a, {
                            value: jQuery.event.trigger(jQuery.extend(r[0], jQuery.Event.prototype), r.slice(1), this)
                        }),
                        e.stopImmediatePropagation()
                }
            })
    }
    jQuery.event = {
        global: {},
        add: function(i, e, o, r, a) {
            var l, u, c, t, d, h, p, f, g, m = A.get(i);
            if (!b(i))
                ;
            else {
                if (o.handler)
                    o = (l = o).handler,
                    a = l.selector;
                if (a)
                    jQuery.find.matchesSelector(E, a);
                if (!o.guid)
                    o.guid = jQuery.guid++;
                if (!(c = m.events))
                    c = m.events = Object.create(null);
                if (!(u = m.handle))
                    u = m.handle = function(e) {
                        return void 0 !== jQuery && jQuery.event.triggered !== e.type ? jQuery.event.dispatch.apply(i, arguments) : void 0
                    }
                    ;
                for (t = (e = (e || "").match(S) || [""]).length; t--; )
                    if (p = g = (f = Ie.exec(e[t]) || [])[1],
                    f = (f[2] || "").split(".").sort(),
                    !p)
                        ;
                    else {
                        if (d = jQuery.event.special[p] || {},
                        p = (a ? d.delegateType : d.bindType) || p,
                        d = jQuery.event.special[p] || {},
                        g = jQuery.extend({
                            type: p,
                            origType: g,
                            data: r,
                            handler: o,
                            guid: o.guid,
                            selector: a,
                            needsContext: a && jQuery.expr.match.needsContext.test(a),
                            namespace: f.join(".")
                        }, l),
                        !(h = c[p]))
                            if ((h = c[p] = []).delegateCount = 0,
                            !d.setup || !1 === d.setup.call(i, r, f, u))
                                if (i.addEventListener)
                                    i.addEventListener(p, u);
                        if (d.add)
                            if (d.add.call(i, g),
                            !g.handler.guid)
                                g.handler.guid = o.guid;
                        if (a)
                            h.splice(h.delegateCount++, 0, g);
                        else
                            h.push(g);
                        jQuery.event.global[p] = !0
                    }
            }
        },
        remove: function(e, i, o, r, a) {
            var l, u, c, d, t, h, p, f, g, m, w, v = A.hasData(e) && A.get(e);
            if (!v || !(d = v.events))
                ;
            else {
                for (t = (i = (i || "").match(S) || [""]).length; t--; )
                    if (g = w = (c = Ie.exec(i[t]) || [])[1],
                    m = (c[2] || "").split(".").sort(),
                    !g)
                        for (g in d)
                            jQuery.event.remove(e, g + i[t], o, r, !0);
                    else {
                        for (p = jQuery.event.special[g] || {},
                        f = d[g = (r ? p.delegateType : p.bindType) || g] || [],
                        c = c[2] && new RegExp("(^|\\.)" + m.join("\\.(?:.*\\.|)") + "(\\.|$)"),
                        u = l = f.length; l--; )
                            if (h = f[l],
                            (a || w === h.origType) && (!o || o.guid === h.guid) && (!c || c.test(h.namespace)) && (!r || r === h.selector || "**" === r && h.selector)) {
                                if (f.splice(l, 1),
                                h.selector)
                                    f.delegateCount--;
                                if (p.remove)
                                    p.remove.call(e, h)
                            }
                        if (u && !f.length) {
                            if (!p.teardown || !1 === p.teardown.call(e, m, v.handle))
                                jQuery.removeEvent(e, g, v.handle);
                            delete d[g]
                        }
                    }
                if (jQuery.isEmptyObject(d))
                    A.remove(e, "handle events")
            }
        },
        dispatch: function(e) {
            var i, o, r, a, l, u = new Array(arguments.length), c = jQuery.event.fix(e), e = (A.get(this, "events") || Object.create(null))[c.type] || [], d = jQuery.event.special[c.type] || {};
            for (u[0] = c,
            i = 1; i < arguments.length; i++)
                u[i] = arguments[i];
            if (c.delegateTarget = this,
            d.preDispatch && !1 === d.preDispatch.call(this, c))
                ;
            else {
                for (l = jQuery.event.handlers.call(this, c, e),
                i = 0; (r = l[i++]) && !c.isPropagationStopped(); )
                    for (c.currentTarget = r.elem,
                    o = 0; (a = r.handlers[o++]) && !c.isImmediatePropagationStopped(); )
                        if (!c.rnamespace || !1 === a.namespace || c.rnamespace.test(a.namespace))
                            if (c.handleObj = a,
                            c.data = a.data,
                            void 0 !== (a = ((jQuery.event.special[a.origType] || {}).handle || a.handler).apply(r.elem, u)))
                                if (!1 === (c.result = a))
                                    c.preventDefault(),
                                    c.stopPropagation();
                if (d.postDispatch)
                    d.postDispatch.call(this, c);
                return c.result
            }
        },
        handlers: function(e, i) {
            var o, r, a, l, u, c = [], d = i.delegateCount, h = e.target;
            if (d && h.nodeType && !("click" === e.type && 1 <= e.button))
                for (; h !== this; h = h.parentNode || this)
                    if (1 === h.nodeType && ("click" !== e.type || !0 !== h.disabled)) {
                        for (l = [],
                        u = {},
                        o = 0; o < d; o++) {
                            if (void 0 === u[a = (r = i[o]).selector + " "])
                                u[a] = r.needsContext ? -1 < jQuery(a, this).index(h) : jQuery.find(a, this, null, [h]).length;
                            if (u[a])
                                l.push(r)
                        }
                        if (l.length)
                            c.push({
                                elem: h,
                                handlers: l
                            })
                    }
            if (h = this,
            d < i.length)
                c.push({
                    elem: h,
                    handlers: i.slice(d)
                });
            return c
        },
        addProp: function(i, e) {
            Object.defineProperty(jQuery.Event.prototype, i, {
                enumerable: !0,
                configurable: !0,
                get: C(e) ? function() {
                    if (this.originalEvent)
                        return e(this.originalEvent)
                }
                : function() {
                    if (this.originalEvent)
                        return this.originalEvent[i]
                }
                ,
                set: function(e) {
                    Object.defineProperty(this, i, {
                        enumerable: !0,
                        configurable: !0,
                        writable: !0,
                        value: e
                    })
                }
            })
        },
        fix: function(e) {
            return e[jQuery.expando] ? e : new jQuery.Event(e)
        },
        special: {
            load: {
                noBubble: !0
            },
            click: {
                setup: function(e) {
                    e = this || e;
                    if (ke.test(e.type) && e.click && d(e, "input"))
                        Re(e, "click", o);
                    return !1
                },
                trigger: function(e) {
                    e = this || e;
                    if (ke.test(e.type) && e.click && d(e, "input"))
                        Re(e, "click");
                    return !0
                },
                _default: function(e) {
                    e = e.target;
                    return ke.test(e.type) && e.click && d(e, "input") && A.get(e, "click") || d(e, "a")
                }
            },
            beforeunload: {
                postDispatch: function(e) {
                    if (void 0 !== e.result && e.originalEvent)
                        e.originalEvent.returnValue = e.result
                }
            }
        }
    },
    jQuery.removeEvent = function(e, i, o) {
        if (e.removeEventListener)
            e.removeEventListener(i, o)
    }
    ,
    jQuery.Event = function(e, i) {
        if (!(this instanceof jQuery.Event))
            return new jQuery.Event(e,i);
        if (e && e.type)
            this.originalEvent = e,
            this.type = e.type,
            this.isDefaultPrevented = e.defaultPrevented || void 0 === e.defaultPrevented && !1 === e.returnValue ? o : m,
            this.target = e.target && 3 === e.target.nodeType ? e.target.parentNode : e.target,
            this.currentTarget = e.currentTarget,
            this.relatedTarget = e.relatedTarget;
        else
            this.type = e;
        if (i)
            jQuery.extend(this, i);
        this.timeStamp = e && e.timeStamp || Date.now(),
        this[jQuery.expando] = !0
    }
    ,
    jQuery.Event.prototype = {
        constructor: jQuery.Event,
        isDefaultPrevented: m,
        isPropagationStopped: m,
        isImmediatePropagationStopped: m,
        isSimulated: !1,
        preventDefault: function() {
            var e = this.originalEvent;
            if (this.isDefaultPrevented = o,
            e && !this.isSimulated)
                e.preventDefault()
        },
        stopPropagation: function() {
            var e = this.originalEvent;
            if (this.isPropagationStopped = o,
            e && !this.isSimulated)
                e.stopPropagation()
        },
        stopImmediatePropagation: function() {
            var e = this.originalEvent;
            if (this.isImmediatePropagationStopped = o,
            e && !this.isSimulated)
                e.stopImmediatePropagation();
            this.stopPropagation()
        }
    },
    jQuery.each({
        altKey: !0,
        bubbles: !0,
        cancelable: !0,
        changedTouches: !0,
        ctrlKey: !0,
        detail: !0,
        eventPhase: !0,
        metaKey: !0,
        pageX: !0,
        pageY: !0,
        shiftKey: !0,
        view: !0,
        char: !0,
        code: !0,
        charCode: !0,
        key: !0,
        keyCode: !0,
        button: !0,
        buttons: !0,
        clientX: !0,
        clientY: !0,
        offsetX: !0,
        offsetY: !0,
        pointerId: !0,
        pointerType: !0,
        screenX: !0,
        screenY: !0,
        targetTouches: !0,
        toElement: !0,
        touches: !0,
        which: !0
    }, jQuery.event.addProp),
    jQuery.each({
        focus: "focusin",
        blur: "focusout"
    }, function(e, i) {
        jQuery.event.special[e] = {
            setup: function() {
                return Re(this, e, Pe),
                !1
            },
            trigger: function() {
                return Re(this, e),
                !0
            },
            _default: function() {
                return !0
            },
            delegateType: i
        }
    }),
    jQuery.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout"
    }, function(e, a) {
        jQuery.event.special[e] = {
            delegateType: a,
            bindType: a,
            handle: function(e) {
                var i, o = e.relatedTarget, r = e.handleObj;
                if (!o || o !== this && !jQuery.contains(this, o))
                    e.type = r.origType,
                    i = r.handler.apply(this, arguments),
                    e.type = a;
                return i
            }
        }
    }),
    jQuery.fn.extend({
        on: function(e, i, o, r) {
            return Oe(this, e, i, o, r)
        },
        one: function(e, i, o, r) {
            return Oe(this, e, i, o, r, 1)
        },
        off: function(e, i, o) {
            var r, a;
            if (e && e.preventDefault && e.handleObj)
                return r = e.handleObj,
                jQuery(e.delegateTarget).off(r.namespace ? r.origType + "." + r.namespace : r.origType, r.selector, r.handler),
                this;
            if ("object" == typeof e) {
                for (a in e)
                    this.off(a, i, e[a]);
                return this
            }
            if (!1 === i || "function" == typeof i)
                o = i,
                i = void 0;
            if (!1 === o)
                o = m;
            return this.each(function() {
                jQuery.event.remove(this, e, o, i)
            })
        }
    });
    var Ge = /<script|<style|<link/i
      , De = /checked\s*(?:[^=]|=\s*.checked.)/i
      , Be = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;
    function Le(e, i) {
        if (d(e, "table") && d(11 !== i.nodeType ? i : i.firstChild, "tr"))
            return jQuery(e).children("tbody")[0] || e;
        else
            return e
    }
    function We(e) {
        return e.type = (null !== e.getAttribute("type")) + "/" + e.type,
        e
    }
    function Fe(e) {
        if ("true/" === (e.type || "").slice(0, 5))
            e.type = e.type.slice(5);
        else
            e.removeAttribute("type");
        return e
    }
    function Ne(e, i) {
        var o, r, a, l;
        if (1 !== i.nodeType)
            ;
        else {
            if (A.hasData(e))
                if (l = A.get(e).events)
                    for (a in A.remove(i, "handle events"),
                    l)
                        for (o = 0,
                        r = l[a].length; o < r; o++)
                            jQuery.event.add(i, a, l[a][o]);
            if (h.hasData(e))
                e = h.access(e),
                e = jQuery.extend({}, e),
                h.set(i, e)
        }
    }
    function R(o, r, a, l) {
        r = $(r);
        var e, i, u, c, d, h, p = 0, f = o.length, g = f - 1, m = r[0], w = C(m);
        if (w || 1 < f && "string" == typeof m && !y.checkClone && De.test(m))
            return o.each(function(e) {
                var i = o.eq(e);
                if (w)
                    r[0] = m.call(this, e, i.html());
                R(i, r, a, l)
            });
        if (f) {
            if (i = (e = Me(r, o[0].ownerDocument, !1, o, l)).firstChild,
            1 === e.childNodes.length)
                e = i;
            if (i || l) {
                for (c = (u = jQuery.map(O(e, "script"), We)).length; p < f; p++) {
                    if (d = e,
                    p !== g)
                        if (d = jQuery.clone(d, !0, !0),
                        c)
                            jQuery.merge(u, O(d, "script"));
                    a.call(o[p], d, p)
                }
                if (c)
                    for (h = u[u.length - 1].ownerDocument,
                    jQuery.map(u, Fe),
                    p = 0; p < c; p++)
                        if (d = u[p],
                        Se.test(d.type || "") && !A.access(d, "globalEval") && jQuery.contains(h, d))
                            if (d.src && "module" !== (d.type || "").toLowerCase()) {
                                if (jQuery._evalUrl && !d.noModule)
                                    jQuery._evalUrl(d.src, {
                                        nonce: d.nonce || d.getAttribute("nonce")
                                    }, h)
                            } else
                                K(d.textContent.replace(Be, ""), d, h)
            }
        }
        return o
    }
    function $e(e, i, o) {
        for (var r, a = i ? jQuery.filter(i, e) : e, l = 0; null != (r = a[l]); l++) {
            if (!o && 1 === r.nodeType)
                jQuery.cleanData(O(r));
            if (r.parentNode) {
                if (o && M(r))
                    Ae(O(r, "script"));
                r.parentNode.removeChild(r)
            }
        }
        return e
    }
    jQuery.extend({
        htmlPrefilter: function(e) {
            return e
        },
        clone: function(e, i, o) {
            var r, a, l, u, c = e.cloneNode(!0), d = M(e);
            if (!(y.noCloneChecked || 1 !== e.nodeType && 11 !== e.nodeType || jQuery.isXMLDoc(e)))
                for (u = O(c),
                r = 0,
                a = (l = O(e)).length; r < a; r++) {
                    f = p = h = void 0;
                    var h = l[r]
                      , p = u[r]
                      , f = p.nodeName.toLowerCase();
                    if ("input" === f && ke.test(h.type))
                        p.checked = h.checked;
                    else if ("input" === f || "textarea" === f)
                        p.defaultValue = h.defaultValue
                }
            if (i)
                if (o)
                    for (l = l || O(e),
                    u = u || O(c),
                    r = 0,
                    a = l.length; r < a; r++)
                        Ne(l[r], u[r]);
                else
                    Ne(e, c);
            if (0 < (u = O(c, "script")).length)
                Ae(u, !d && O(e, "script"));
            return c
        },
        cleanData: function(e) {
            for (var i, o, r, a = jQuery.event.special, l = 0; void 0 !== (o = e[l]); l++)
                if (b(o)) {
                    if (i = o[A.expando]) {
                        if (i.events)
                            for (r in i.events)
                                if (a[r])
                                    jQuery.event.remove(o, r);
                                else
                                    jQuery.removeEvent(o, r, i.handle);
                        o[A.expando] = void 0
                    }
                    if (o[h.expando])
                        o[h.expando] = void 0
                }
        }
    }),
    jQuery.fn.extend({
        detach: function(e) {
            return $e(this, e, !0)
        },
        remove: function(e) {
            return $e(this, e)
        },
        text: function(e) {
            return f(this, function(e) {
                return void 0 === e ? jQuery.text(this) : this.empty().each(function() {
                    if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType)
                        this.textContent = e
                })
            }, null, e, arguments.length)
        },
        append: function() {
            return R(this, arguments, function(e) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType)
                    Le(this, e).appendChild(e)
            })
        },
        prepend: function() {
            return R(this, arguments, function(e) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var i = Le(this, e);
                    i.insertBefore(e, i.firstChild)
                }
            })
        },
        before: function() {
            return R(this, arguments, function(e) {
                if (this.parentNode)
                    this.parentNode.insertBefore(e, this)
            })
        },
        after: function() {
            return R(this, arguments, function(e) {
                if (this.parentNode)
                    this.parentNode.insertBefore(e, this.nextSibling)
            })
        },
        empty: function() {
            for (var e, i = 0; null != (e = this[i]); i++)
                if (1 === e.nodeType)
                    jQuery.cleanData(O(e, !1)),
                    e.textContent = "";
            return this
        },
        clone: function(e, i) {
            return e = null == e ? !1 : e,
            i = null == i ? e : i,
            this.map(function() {
                return jQuery.clone(this, e, i)
            })
        },
        html: function(e) {
            return f(this, function(e) {
                var i = this[0] || {}
                  , o = 0
                  , r = this.length;
                if (void 0 === e && 1 === i.nodeType)
                    return i.innerHTML;
                if ("string" == typeof e && !Ge.test(e) && !P[(xe.exec(e) || ["", ""])[1].toLowerCase()]) {
                    e = jQuery.htmlPrefilter(e);
                    try {
                        for (; o < r; o++)
                            if (1 === (i = this[o] || {}).nodeType)
                                jQuery.cleanData(O(i, !1)),
                                i.innerHTML = e;
                        i = 0
                    } catch (e) {}
                }
                if (i)
                    this.empty().append(e)
            }, null, e, arguments.length)
        },
        replaceWith: function() {
            var o = [];
            return R(this, arguments, function(e) {
                var i = this.parentNode;
                if (jQuery.inArray(this, o) < 0)
                    if (jQuery.cleanData(O(this)),
                    i)
                        i.replaceChild(e, this)
            }, o)
        }
    }),
    jQuery.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function(e, u) {
        jQuery.fn[e] = function(e) {
            for (var i, o = [], r = jQuery(e), a = r.length - 1, l = 0; l <= a; l++)
                i = l === a ? this : this.clone(!0),
                jQuery(r[l])[u](i),
                z.apply(o, i.get());
            return this.pushStack(o)
        }
    });
    function ze(e) {
        var i = e.ownerDocument.defaultView;
        if (!i || !i.opener)
            i = k;
        return i.getComputedStyle(e)
    }
    function qe(e, i, o) {
        var r, a = {};
        for (r in i)
            a[r] = e.style[r],
            e.style[r] = i[r];
        for (r in o = o.call(e),
        i)
            e.style[r] = a[r];
        return o
    }
    var He = new RegExp("^(" + e + ")(?!px)[a-z%]+$","i")
      , Ue = new RegExp(g.join("|"),"i");
    function Ve() {
        if (!a)
            ;
        else {
            et.style.cssText = "position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",
            a.style.cssText = "position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",
            E.appendChild(et).appendChild(a);
            var e = k.getComputedStyle(a);
            Ye = "1%" !== e.top,
            Ze = 12 === je(e.marginLeft),
            a.style.right = "60%",
            Je = 36 === je(e.right),
            Qe = 36 === je(e.width),
            a.style.position = "absolute",
            Ke = 12 === je(a.offsetWidth / 3),
            E.removeChild(et),
            a = null
        }
    }
    function je(e) {
        return Math.round(parseFloat(e))
    }
    var Ye, Qe, Ke, Je, Xe, Ze, et = x.createElement("div"), a = x.createElement("div");
    if (!a.style)
        ;
    else
        a.style.backgroundClip = "content-box",
        a.cloneNode(!0).style.backgroundClip = "",
        y.clearCloneStyle = "content-box" === a.style.backgroundClip,
        jQuery.extend(y, {
            boxSizingReliable: function() {
                return Ve(),
                Qe
            },
            pixelBoxStyles: function() {
                return Ve(),
                Je
            },
            pixelPosition: function() {
                return Ve(),
                Ye
            },
            reliableMarginLeft: function() {
                return Ve(),
                Ze
            },
            scrollboxSize: function() {
                return Ve(),
                Ke
            },
            reliableTrDimensions: function() {
                var e, i, o;
                if (null == Xe)
                    e = x.createElement("table"),
                    i = x.createElement("tr"),
                    o = x.createElement("div"),
                    e.style.cssText = "position:absolute;left:-11111px;border-collapse:separate",
                    i.style.cssText = "border:1px solid",
                    i.style.height = "1px",
                    o.style.height = "9px",
                    o.style.display = "block",
                    E.appendChild(e).appendChild(i).appendChild(o),
                    o = k.getComputedStyle(i),
                    Xe = parseInt(o.height, 10) + parseInt(o.borderTopWidth, 10) + parseInt(o.borderBottomWidth, 10) === i.offsetHeight,
                    E.removeChild(e);
                return Xe
            }
        });
    function tt(e, i, o) {
        var r, a, l = e.style;
        if (o = o || ze(e)) {
            if ("" === (a = o.getPropertyValue(i) || o[i]) && !M(e))
                a = jQuery.style(e, i);
            if (!y.pixelBoxStyles() && He.test(a) && Ue.test(i))
                e = l.width,
                i = l.minWidth,
                r = l.maxWidth,
                l.minWidth = l.maxWidth = l.width = a,
                a = o.width,
                l.width = e,
                l.minWidth = i,
                l.maxWidth = r
        }
        return void 0 !== a ? a + "" : a
    }
    function it(e, i) {
        return {
            get: function() {
                if (e())
                    delete this.get;
                else
                    return (this.get = i).apply(this, arguments)
            }
        }
    }
    var nt = ["Webkit", "Moz", "ms"]
      , ot = x.createElement("div").style
      , rt = {};
    function st(e) {
        var i = jQuery.cssProps[e] || rt[e];
        if (i)
            return i;
        if (e in ot)
            return e;
        else
            return rt[e] = function(e) {
                for (var i = e[0].toUpperCase() + e.slice(1), o = nt.length; o--; )
                    if ((e = nt[o] + i)in ot)
                        return e
            }(e) || e
    }
    var at = /^(none|table(?!-c[ea]).+)/
      , lt = /^--/
      , ut = {
        position: "absolute",
        visibility: "hidden",
        display: "block"
    }
      , ct = {
        letterSpacing: "0",
        fontWeight: "400"
    };
    function dt(e, i, o) {
        var r = ve.exec(i);
        return r ? Math.max(0, r[2] - (o || 0)) + (r[3] || "px") : i
    }
    function ht(e, i, o, r, a, l) {
        var u = "width" === i ? 1 : 0
          , c = 0
          , d = 0;
        if (o === (r ? "border" : "content"))
            return 0;
        for (; u < 4; u += 2) {
            if ("margin" === o)
                d += jQuery.css(e, o + g[u], !0, a);
            if (!r)
                if (d += jQuery.css(e, "padding" + g[u], !0, a),
                "padding" !== o)
                    d += jQuery.css(e, "border" + g[u] + "Width", !0, a);
                else
                    c += jQuery.css(e, "border" + g[u] + "Width", !0, a);
            else {
                if ("content" === o)
                    d -= jQuery.css(e, "padding" + g[u], !0, a);
                if ("margin" !== o)
                    d -= jQuery.css(e, "border" + g[u] + "Width", !0, a)
            }
        }
        if (!r && 0 <= l)
            d += Math.max(0, Math.ceil(e["offset" + i[0].toUpperCase() + i.slice(1)] - l - d - c - .5)) || 0;
        return d
    }
    function pt(e, i, o) {
        var r = ze(e)
          , a = (!y.boxSizingReliable() || o) && "border-box" === jQuery.css(e, "boxSizing", !1, r)
          , l = a
          , u = tt(e, i, r)
          , c = "offset" + i[0].toUpperCase() + i.slice(1);
        if (He.test(u)) {
            if (!o)
                return u;
            u = "auto"
        }
        if ((!y.boxSizingReliable() && a || !y.reliableTrDimensions() && d(e, "tr") || "auto" === u || !parseFloat(u) && "inline" === jQuery.css(e, "display", !1, r)) && e.getClientRects().length)
            if (a = "border-box" === jQuery.css(e, "boxSizing", !1, r),
            l = c in e)
                u = e[c];
        return (u = parseFloat(u) || 0) + ht(e, i, o || (a ? "border" : "content"), l, r, u) + "px"
    }
    function l(e, i, o, r, a) {
        return new l.prototype.init(e,i,o,r,a)
    }
    jQuery.extend({
        cssHooks: {
            opacity: {
                get: function(e, i) {
                    if (i) {
                        i = tt(e, "opacity");
                        return "" === i ? "1" : i
                    }
                }
            }
        },
        cssNumber: {
            animationIterationCount: !0,
            columnCount: !0,
            fillOpacity: !0,
            flexGrow: !0,
            flexShrink: !0,
            fontWeight: !0,
            gridArea: !0,
            gridColumn: !0,
            gridColumnEnd: !0,
            gridColumnStart: !0,
            gridRow: !0,
            gridRowEnd: !0,
            gridRowStart: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {},
        style: function(e, i, o, r) {
            if (!e || 3 === e.nodeType || 8 === e.nodeType || !e.style)
                ;
            else {
                var a, l, u, c = T(i), d = lt.test(i), h = e.style;
                if (!d)
                    i = st(c);
                if (u = jQuery.cssHooks[i] || jQuery.cssHooks[c],
                void 0 !== o) {
                    if ("string" === (l = typeof o) && (a = ve.exec(o)) && a[1])
                        o = Ce(e, i, a),
                        l = "number";
                    if (null == o || o != o)
                        ;
                    else {
                        if ("number" === l && !d)
                            o += a && a[3] || (jQuery.cssNumber[c] ? "" : "px");
                        if (!y.clearCloneStyle && "" === o && 0 === i.indexOf("background"))
                            h[i] = "inherit";
                        if (!(u && "set"in u && void 0 === (o = u.set(e, o, r))))
                            if (d)
                                h.setProperty(i, o);
                            else
                                h[i] = o
                    }
                } else if (u && "get"in u && void 0 !== (a = u.get(e, !1, r)))
                    return a;
                else
                    return h[i]
            }
        },
        css: function(e, i, o, r) {
            var a, l = T(i);
            if (!lt.test(i))
                i = st(l);
            if ((l = jQuery.cssHooks[i] || jQuery.cssHooks[l]) && "get"in l)
                a = l.get(e, !0, o);
            if (void 0 === a)
                a = tt(e, i, r);
            if ("normal" === a && i in ct)
                a = ct[i];
            if ("" === o || o)
                return l = parseFloat(a),
                !0 === o || isFinite(l) ? l || 0 : a;
            else
                return a
        }
    }),
    jQuery.each(["height", "width"], function(e, u) {
        jQuery.cssHooks[u] = {
            get: function(e, i, o) {
                if (i)
                    return at.test(jQuery.css(e, "display")) && (!e.getClientRects().length || !e.getBoundingClientRect().width) ? qe(e, ut, function() {
                        return pt(e, u, o)
                    }) : pt(e, u, o)
            },
            set: function(e, i, o) {
                var r = ze(e)
                  , a = !y.scrollboxSize() && "absolute" === r.position
                  , l = (a || o) && "border-box" === jQuery.css(e, "boxSizing", !1, r)
                  , o = o ? ht(e, u, o, l, r) : 0;
                if (l && a)
                    o -= Math.ceil(e["offset" + u[0].toUpperCase() + u.slice(1)] - parseFloat(r[u]) - ht(e, u, "border", !1, r) - .5);
                if (o && (l = ve.exec(i)) && "px" !== (l[3] || "px"))
                    e.style[u] = i,
                    i = jQuery.css(e, u);
                return dt(0, i, o)
            }
        }
    }),
    jQuery.cssHooks.marginLeft = it(y.reliableMarginLeft, function(e, i) {
        if (i)
            return (parseFloat(tt(e, "marginLeft")) || e.getBoundingClientRect().left - qe(e, {
                marginLeft: 0
            }, function() {
                return e.getBoundingClientRect().left
            })) + "px"
    }),
    jQuery.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function(a, l) {
        if (jQuery.cssHooks[a + l] = {
            expand: function(e) {
                for (var i = 0, o = {}, r = "string" == typeof e ? e.split(" ") : [e]; i < 4; i++)
                    o[a + g[i] + l] = r[i] || r[i - 2] || r[0];
                return o
            }
        },
        "margin" !== a)
            jQuery.cssHooks[a + l].set = dt
    }),
    jQuery.fn.extend({
        css: function(e, i) {
            return f(this, function(e, i, o) {
                var r, a, l = {}, u = 0;
                if (Array.isArray(i)) {
                    for (r = ze(e),
                    a = i.length; u < a; u++)
                        l[i[u]] = jQuery.css(e, i[u], !1, r);
                    return l
                }
                return void 0 !== o ? jQuery.style(e, i, o) : jQuery.css(e, i)
            }, e, i, 1 < arguments.length)
        }
    }),
    ((jQuery.Tween = l).prototype = {
        constructor: l,
        init: function(e, i, o, r, a, l) {
            this.elem = e,
            this.prop = o,
            this.easing = a || jQuery.easing._default,
            this.options = i,
            this.start = this.now = this.cur(),
            this.end = r,
            this.unit = l || (jQuery.cssNumber[o] ? "" : "px")
        },
        cur: function() {
            var e = l.propHooks[this.prop];
            return e && e.get ? e.get(this) : l.propHooks._default.get(this)
        },
        run: function(e) {
            var i, o = l.propHooks[this.prop];
            if (this.options.duration)
                this.pos = i = jQuery.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration);
            else
                this.pos = i = e;
            if (this.now = (this.end - this.start) * i + this.start,
            this.options.step)
                this.options.step.call(this.elem, this.now, this);
            if (o && o.set)
                o.set(this);
            else
                l.propHooks._default.set(this);
            return this
        }
    }).init.prototype = l.prototype,
    (l.propHooks = {
        _default: {
            get: function(e) {
                if (1 !== e.elem.nodeType || null != e.elem[e.prop] && null == e.elem.style[e.prop])
                    return e.elem[e.prop];
                else
                    return !(e = jQuery.css(e.elem, e.prop, "")) || "auto" === e ? 0 : e
            },
            set: function(e) {
                if (jQuery.fx.step[e.prop])
                    jQuery.fx.step[e.prop](e);
                else if (1 === e.elem.nodeType && (jQuery.cssHooks[e.prop] || null != e.elem.style[st(e.prop)]))
                    jQuery.style(e.elem, e.prop, e.now + e.unit);
                else
                    e.elem[e.prop] = e.now
            }
        }
    }).scrollTop = l.propHooks.scrollLeft = {
        set: function(e) {
            if (e.elem.nodeType && e.elem.parentNode)
                e.elem[e.prop] = e.now
        }
    },
    jQuery.easing = {
        linear: function(e) {
            return e
        },
        swing: function(e) {
            return .5 - Math.cos(e * Math.PI) / 2
        },
        _default: "swing"
    },
    jQuery.fx = l.prototype.init,
    jQuery.fx.step = {};
    var G, _t, u, D, ft = /^(?:toggle|show|hide)$/, gt = /queueHooks$/;
    function mt() {
        if (_t) {
            if (!1 === x.hidden && k.requestAnimationFrame)
                k.requestAnimationFrame(mt);
            else
                k.setTimeout(mt, jQuery.fx.interval);
            jQuery.fx.tick()
        }
    }
    function wt() {
        return k.setTimeout(function() {
            G = void 0
        }),
        G = Date.now()
    }
    function vt(e, i) {
        var o, r = 0, a = {
            height: e
        };
        for (i = i ? 1 : 0; r < 4; r += 2 - i)
            a["margin" + (o = g[r])] = a["padding" + o] = e;
        if (i)
            a.opacity = a.width = e;
        return a
    }
    function yt(e, i, o) {
        for (var r, a = (B.tweeners[i] || []).concat(B.tweeners["*"]), l = 0, u = a.length; l < u; l++)
            if (r = a[l].call(o, i, e))
                return r
    }
    function B(a, e, i) {
        var o, l, r, u, c, d, h, p = 0, f = B.prefilters.length, g = jQuery.Deferred().always(function() {
            delete m.elem
        }), m = function() {
            if (l)
                ;
            else {
                for (var e = G || wt(), e = Math.max(0, w.startTime + w.duration - e), i = 1 - (e / w.duration || 0), o = 0, r = w.tweens.length; o < r; o++)
                    w.tweens[o].run(i);
                if (g.notifyWith(a, [w, i, e]),
                i < 1 && r)
                    return e;
                if (!r)
                    g.notifyWith(a, [w, 1, 0]);
                g.resolveWith(a, [w])
            }
            return !1
        }, w = g.promise({
            elem: a,
            props: jQuery.extend({}, e),
            opts: jQuery.extend(!0, {
                specialEasing: {},
                easing: jQuery.easing._default
            }, i),
            originalProperties: e,
            originalOptions: i,
            startTime: G || wt(),
            duration: i.duration,
            tweens: [],
            createTween: function(e, i) {
                i = jQuery.Tween(a, w.opts, e, i, w.opts.specialEasing[e] || w.opts.easing);
                return w.tweens.push(i),
                i
            },
            stop: function(e) {
                var i = 0
                  , o = e ? w.tweens.length : 0;
                if (l)
                    ;
                else {
                    for (l = !0; i < o; i++)
                        w.tweens[i].run(1);
                    if (e)
                        g.notifyWith(a, [w, 1, 0]),
                        g.resolveWith(a, [w, e]);
                    else
                        g.rejectWith(a, [w, e])
                }
                return this
            }
        }), v = w.props, y = v, b = w.opts.specialEasing;
        for (r in y) {
            if (c = b[u = T(r)],
            d = y[r],
            Array.isArray(d))
                c = d[1],
                d = y[r] = d[0];
            if (r !== u)
                y[u] = d,
                delete y[r];
            if ((h = jQuery.cssHooks[u]) && "expand"in h) {
                for (r in d = h.expand(d),
                delete y[u],
                d)
                    if (!(r in y))
                        y[r] = d[r],
                        b[r] = c
            } else
                b[u] = c
        }
        for (; p < f; p++)
            if (o = B.prefilters[p].call(w, a, v, w.opts)) {
                if (C(o.stop))
                    jQuery._queueHooks(w.elem, w.opts.queue).stop = o.stop.bind(o);
                return o
            }
        if (jQuery.map(v, yt, w),
        C(w.opts.start))
            w.opts.start.call(a, w);
        return w.progress(w.opts.progress).done(w.opts.done, w.opts.complete).fail(w.opts.fail).always(w.opts.always),
        jQuery.fx.timer(jQuery.extend(m, {
            elem: a,
            anim: w,
            queue: w.opts.queue
        })),
        w
    }
    jQuery.Animation = jQuery.extend(B, {
        tweeners: {
            "*": [function(e, i) {
                var o = this.createTween(e, i);
                return Ce(o.elem, e, ve.exec(i), o),
                o
            }
            ]
        },
        tweener: function(e, i) {
            if (C(e))
                i = e,
                e = ["*"];
            else
                e = e.match(S);
            for (var o, r = 0, a = e.length; r < a; r++)
                o = e[r],
                B.tweeners[o] = B.tweeners[o] || [],
                B.tweeners[o].unshift(i)
        },
        prefilters: [function(e, i, o) {
            var r, a, l, u, c, d, h, p = "width"in i || "height"in i, f = this, g = {}, m = e.style, w = e.nodeType && be(e), v = A.get(e, "fxshow");
            if (!o.queue) {
                if (null == (u = jQuery._queueHooks(e, "fx")).unqueued)
                    u.unqueued = 0,
                    c = u.empty.fire,
                    u.empty.fire = function() {
                        if (!u.unqueued)
                            c()
                    }
                    ;
                u.unqueued++,
                f.always(function() {
                    f.always(function() {
                        if (u.unqueued--,
                        !jQuery.queue(e, "fx").length)
                            u.empty.fire()
                    })
                })
            }
            for (r in i)
                if (a = i[r],
                ft.test(a)) {
                    if (delete i[r],
                    l = l || "toggle" === a,
                    a === (w ? "hide" : "show"))
                        if ("show" === a && v && void 0 !== v[r])
                            w = !0;
                        else
                            continue;
                    g[r] = v && v[r] || jQuery.style(e, r)
                }
            if (!(d = !jQuery.isEmptyObject(i)) && jQuery.isEmptyObject(g))
                ;
            else {
                if (p && 1 === e.nodeType) {
                    if (o.overflow = [m.overflow, m.overflowX, m.overflowY],
                    null == (h = v && v.display))
                        h = A.get(e, "display");
                    if ("none" === (p = jQuery.css(e, "display")))
                        if (h)
                            p = h;
                        else
                            I([e], !0),
                            h = e.style.display || h,
                            p = jQuery.css(e, "display"),
                            I([e]);
                    if ("inline" === p || "inline-block" === p && null != h)
                        if ("none" === jQuery.css(e, "float")) {
                            if (!d)
                                if (f.done(function() {
                                    m.display = h
                                }),
                                null == h)
                                    p = m.display,
                                    h = "none" === p ? "" : p;
                            m.display = "inline-block"
                        }
                }
                if (o.overflow)
                    m.overflow = "hidden",
                    f.always(function() {
                        m.overflow = o.overflow[0],
                        m.overflowX = o.overflow[1],
                        m.overflowY = o.overflow[2]
                    });
                for (r in d = !1,
                g) {
                    if (!d) {
                        if (v) {
                            if ("hidden"in v)
                                w = v.hidden
                        } else
                            v = A.access(e, "fxshow", {
                                display: h
                            });
                        if (l)
                            v.hidden = !w;
                        if (w)
                            I([e], !0);
                        f.done(function() {
                            if (!w)
                                I([e]);
                            for (r in A.remove(e, "fxshow"),
                            g)
                                jQuery.style(e, r, g[r])
                        })
                    }
                    if (d = yt(w ? v[r] : 0, r, f),
                    !(r in v))
                        if (v[r] = d.start,
                        w)
                            d.end = d.start,
                            d.start = 0
                }
            }
        }
        ],
        prefilter: function(e, i) {
            if (i)
                B.prefilters.unshift(e);
            else
                B.prefilters.push(e)
        }
    }),
    jQuery.speed = function(e, i, o) {
        var r = e && "object" == typeof e ? jQuery.extend({}, e) : {
            complete: o || !o && i || C(e) && e,
            duration: e,
            easing: o && i || i && !C(i) && i
        };
        if (jQuery.fx.off)
            r.duration = 0;
        else if ("number" != typeof r.duration)
            if (r.duration in jQuery.fx.speeds)
                r.duration = jQuery.fx.speeds[r.duration];
            else
                r.duration = jQuery.fx.speeds._default;
        if (null == r.queue || !0 === r.queue)
            r.queue = "fx";
        return r.old = r.complete,
        r.complete = function() {
            if (C(r.old))
                r.old.call(this);
            if (r.queue)
                jQuery.dequeue(this, r.queue)
        }
        ,
        r
    }
    ,
    jQuery.fn.extend({
        fadeTo: function(e, i, o, r) {
            return this.filter(be).css("opacity", 0).show().end().animate({
                opacity: i
            }, e, o, r)
        },
        animate: function(i, e, o, r) {
            function a() {
                var e = B(this, jQuery.extend({}, i), u);
                if (l || A.get(this, "finish"))
                    e.stop(!0)
            }
            var l = jQuery.isEmptyObject(i)
              , u = jQuery.speed(e, o, r);
            return a.finish = a,
            l || !1 === u.queue ? this.each(a) : this.queue(u.queue, a)
        },
        stop: function(a, e, l) {
            function u(e) {
                var i = e.stop;
                delete e.stop,
                i(l)
            }
            if ("string" != typeof a)
                l = e,
                e = a,
                a = void 0;
            if (e)
                this.queue(a || "fx", []);
            return this.each(function() {
                var e = !0
                  , i = null != a && a + "queueHooks"
                  , o = jQuery.timers
                  , r = A.get(this);
                if (i) {
                    if (r[i] && r[i].stop)
                        u(r[i])
                } else
                    for (i in r)
                        if (r[i] && r[i].stop && gt.test(i))
                            u(r[i]);
                for (i = o.length; i--; )
                    if (o[i].elem === this && (null == a || o[i].queue === a))
                        o[i].anim.stop(l),
                        e = !1,
                        o.splice(i, 1);
                if (e || !l)
                    jQuery.dequeue(this, a)
            })
        },
        finish: function(u) {
            if (!1 !== u)
                u = u || "fx";
            return this.each(function() {
                var e, i = A.get(this), o = i[u + "queue"], r = i[u + "queueHooks"], a = jQuery.timers, l = o ? o.length : 0;
                if (i.finish = !0,
                jQuery.queue(this, u, []),
                r && r.stop)
                    r.stop.call(this, !0);
                for (e = a.length; e--; )
                    if (a[e].elem === this && a[e].queue === u)
                        a[e].anim.stop(!0),
                        a.splice(e, 1);
                for (e = 0; e < l; e++)
                    if (o[e] && o[e].finish)
                        o[e].finish.call(this);
                delete i.finish
            })
        }
    }),
    jQuery.each(["toggle", "show", "hide"], function(e, r) {
        var a = jQuery.fn[r];
        jQuery.fn[r] = function(e, i, o) {
            return null == e || "boolean" == typeof e ? a.apply(this, arguments) : this.animate(vt(r, !0), e, i, o)
        }
    }),
    jQuery.each({
        slideDown: vt("show"),
        slideUp: vt("hide"),
        slideToggle: vt("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    }, function(e, r) {
        jQuery.fn[e] = function(e, i, o) {
            return this.animate(r, e, i, o)
        }
    }),
    jQuery.timers = [],
    jQuery.fx.tick = function() {
        var e, i = 0, o = jQuery.timers;
        for (G = Date.now(); i < o.length; i++)
            if (!(e = o[i])() && o[i] === e)
                o.splice(i--, 1);
        if (!o.length)
            jQuery.fx.stop();
        G = void 0
    }
    ,
    jQuery.fx.timer = function(e) {
        jQuery.timers.push(e),
        jQuery.fx.start()
    }
    ,
    jQuery.fx.interval = 13,
    jQuery.fx.start = function() {
        if (_t)
            ;
        else
            _t = !0,
            mt()
    }
    ,
    jQuery.fx.stop = function() {
        _t = null
    }
    ,
    jQuery.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    },
    jQuery.fn.delay = function(r, e) {
        return r = jQuery.fx ? jQuery.fx.speeds[r] || r : r,
        this.queue(e = e || "fx", function(e, i) {
            var o = k.setTimeout(e, r);
            i.stop = function() {
                k.clearTimeout(o)
            }
        })
    }
    ,
    u = x.createElement("input"),
    D = x.createElement("select").appendChild(x.createElement("option")),
    u.type = "checkbox",
    y.checkOn = "" !== u.value,
    y.optSelected = D.selected,
    (u = x.createElement("input")).value = "t",
    u.type = "radio",
    y.radioValue = "t" === u.value;
    var bt, Ct = jQuery.expr.attrHandle, Tt = (jQuery.fn.extend({
        attr: function(e, i) {
            return f(this, jQuery.attr, e, i, 1 < arguments.length)
        },
        removeAttr: function(e) {
            return this.each(function() {
                jQuery.removeAttr(this, e)
            })
        }
    }),
    jQuery.extend({
        attr: function(e, i, o) {
            var r, a, l = e.nodeType;
            if (3 === l || 8 === l || 2 === l)
                ;
            else {
                if (void 0 === e.getAttribute)
                    return jQuery.prop(e, i, o);
                if (1 !== l || !jQuery.isXMLDoc(e))
                    a = jQuery.attrHooks[i.toLowerCase()] || (jQuery.expr.match.bool.test(i) ? bt : void 0);
                if (void 0 !== o) {
                    if (null === o)
                        return void jQuery.removeAttr(e, i);
                    if (a && "set"in a && void 0 !== (r = a.set(e, o, i)))
                        return r;
                    else
                        return e.setAttribute(i, o + ""),
                        o
                }
                if (a && "get"in a && null !== (r = a.get(e, i)))
                    return r;
                else
                    return null == (r = jQuery.find.attr(e, i)) ? void 0 : r
            }
        },
        attrHooks: {
            type: {
                set: function(e, i) {
                    if (!y.radioValue && "radio" === i && d(e, "input")) {
                        var o = e.value;
                        if (e.setAttribute("type", i),
                        o)
                            e.value = o;
                        return i
                    }
                }
            }
        },
        removeAttr: function(e, i) {
            var o, r = 0, a = i && i.match(S);
            if (a && 1 === e.nodeType)
                for (; o = a[r++]; )
                    e.removeAttribute(o)
        }
    }),
    bt = {
        set: function(e, i, o) {
            if (!1 === i)
                jQuery.removeAttr(e, o);
            else
                e.setAttribute(o, o);
            return o
        }
    },
    jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g), function(e, i) {
        var u = Ct[i] || jQuery.find.attr;
        Ct[i] = function(e, i, o) {
            var r, a, l = i.toLowerCase();
            if (!o)
                a = Ct[l],
                Ct[l] = r,
                r = null != u(e, i, o) ? l : null,
                Ct[l] = a;
            return r
        }
    }),
    /^(?:input|select|textarea|button)$/i), kt = /^(?:a|area)$/i;
    if (jQuery.fn.extend({
        prop: function(e, i) {
            return f(this, jQuery.prop, e, i, 1 < arguments.length)
        },
        removeProp: function(e) {
            return this.each(function() {
                delete this[jQuery.propFix[e] || e]
            })
        }
    }),
    jQuery.extend({
        prop: function(e, i, o) {
            var r, a, l = e.nodeType;
            if (3 === l || 8 === l || 2 === l)
                ;
            else {
                if (1 !== l || !jQuery.isXMLDoc(e))
                    i = jQuery.propFix[i] || i,
                    a = jQuery.propHooks[i];
                if (void 0 !== o)
                    if (a && "set"in a && void 0 !== (r = a.set(e, o, i)))
                        return r;
                    else
                        return e[i] = o;
                if (a && "get"in a && null !== (r = a.get(e, i)))
                    return r;
                else
                    return e[i]
            }
        },
        propHooks: {
            tabIndex: {
                get: function(e) {
                    var i = jQuery.find.attr(e, "tabindex");
                    if (i)
                        return parseInt(i, 10);
                    if (Tt.test(e.nodeName) || kt.test(e.nodeName) && e.href)
                        return 0;
                    else
                        return -1
                }
            }
        },
        propFix: {
            for: "htmlFor",
            class: "className"
        }
    }),
    !y.optSelected)
        jQuery.propHooks.selected = {
            get: function(e) {
                e = e.parentNode;
                if (e && e.parentNode)
                    e.parentNode.selectedIndex;
                return null
            },
            set: function(e) {
                e = e.parentNode;
                if (e)
                    if (e.selectedIndex,
                    e.parentNode)
                        e.parentNode.selectedIndex
            }
        };
    function L(e) {
        return (e.match(S) || []).join(" ")
    }
    function W(e) {
        return e.getAttribute && e.getAttribute("class") || ""
    }
    function xt(e) {
        if (Array.isArray(e))
            return e;
        if ("string" == typeof e)
            return e.match(S) || [];
        else
            return []
    }
    jQuery.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
        jQuery.propFix[this.toLowerCase()] = this
    }),
    jQuery.fn.extend({
        addClass: function(i) {
            var e, o, r, a, l, u, c = 0;
            if (C(i))
                return this.each(function(e) {
                    jQuery(this).addClass(i.call(this, e, W(this)))
                });
            if ((e = xt(i)).length)
                for (; o = this[c++]; )
                    if (u = W(o),
                    r = 1 === o.nodeType && " " + L(u) + " ") {
                        for (l = 0; a = e[l++]; )
                            if (r.indexOf(" " + a + " ") < 0)
                                r += a + " ";
                        if (u !== (u = L(r)))
                            o.setAttribute("class", u)
                    }
            return this
        },
        removeClass: function(i) {
            var e, o, r, a, l, u, c = 0;
            if (C(i))
                return this.each(function(e) {
                    jQuery(this).removeClass(i.call(this, e, W(this)))
                });
            if (!arguments.length)
                return this.attr("class", "");
            if ((e = xt(i)).length)
                for (; o = this[c++]; )
                    if (u = W(o),
                    r = 1 === o.nodeType && " " + L(u) + " ") {
                        for (l = 0; a = e[l++]; )
                            for (; -1 < r.indexOf(" " + a + " "); )
                                r = r.replace(" " + a + " ", " ");
                        if (u !== (u = L(r)))
                            o.setAttribute("class", u)
                    }
            return this
        },
        toggleClass: function(a, i) {
            var l = typeof a
              , u = "string" == l || Array.isArray(a);
            if ("boolean" == typeof i && u)
                return i ? this.addClass(a) : this.removeClass(a);
            if (C(a))
                return this.each(function(e) {
                    jQuery(this).toggleClass(a.call(this, e, W(this), i), i)
                });
            else
                return this.each(function() {
                    var e, i, o, r;
                    if (u)
                        for (i = 0,
                        o = jQuery(this),
                        r = xt(a); e = r[i++]; )
                            if (o.hasClass(e))
                                o.removeClass(e);
                            else
                                o.addClass(e);
                    else if (void 0 === a || "boolean" == l) {
                        if (e = W(this))
                            A.set(this, "__className__", e);
                        if (this.setAttribute)
                            this.setAttribute("class", e || !1 === a ? "" : A.get(this, "__className__") || "")
                    }
                })
        },
        hasClass: function(e) {
            for (var i, o = 0, r = " " + e + " "; i = this[o++]; )
                if (1 === i.nodeType && -1 < (" " + L(W(i)) + " ").indexOf(r))
                    return !0;
            return !1
        }
    });
    function St(e) {
        e.stopPropagation()
    }
    var At = /\r/g
      , Et = (jQuery.fn.extend({
        val: function(o) {
            var r, e, a, i = this[0];
            if (!arguments.length) {
                if (i) {
                    if ((r = jQuery.valHooks[i.type] || jQuery.valHooks[i.nodeName.toLowerCase()]) && "get"in r && void 0 !== (e = r.get(i, "value")))
                        return e;
                    if ("string" == typeof (e = i.value))
                        return e.replace(At, "");
                    else
                        return null == e ? "" : e
                }
            } else
                return a = C(o),
                this.each(function(e) {
                    var i;
                    if (1 !== this.nodeType)
                        ;
                    else {
                        if (a)
                            i = o.call(this, e, jQuery(this).val());
                        else
                            i = o;
                        if (null == i)
                            i = "";
                        else if ("number" == typeof i)
                            i += "";
                        else if (Array.isArray(i))
                            i = jQuery.map(i, function(e) {
                                return null == e ? "" : e + ""
                            });
                        if (!((r = jQuery.valHooks[this.type] || jQuery.valHooks[this.nodeName.toLowerCase()]) && "set"in r && void 0 !== r.set(this, i, "value")))
                            this.value = i
                    }
                })
        }
    }),
    jQuery.extend({
        valHooks: {
            option: {
                get: function(e) {
                    var i = jQuery.find.attr(e, "value");
                    return null != i ? i : L(jQuery.text(e))
                }
            },
            select: {
                get: function(e) {
                    var i, o, r = e.options, a = e.selectedIndex, l = "select-one" === e.type, u = l ? null : [], c = l ? a + 1 : r.length;
                    if (a < 0)
                        o = c;
                    else
                        o = l ? a : 0;
                    for (; o < c; o++)
                        if (((i = r[o]).selected || o === a) && !i.disabled && (!i.parentNode.disabled || !d(i.parentNode, "optgroup"))) {
                            if (i = jQuery(i).val(),
                            l)
                                return i;
                            u.push(i)
                        }
                    return u
                },
                set: function(e, i) {
                    for (var o, r, a = e.options, l = jQuery.makeArray(i), u = a.length; u--; )
                        if ((r = a[u]).selected = -1 < jQuery.inArray(jQuery.valHooks.option.get(r), l))
                            o = !0;
                    if (!o)
                        e.selectedIndex = -1;
                    return l
                }
            }
        }
    }),
    jQuery.each(["radio", "checkbox"], function() {
        if (jQuery.valHooks[this] = {
            set: function(e, i) {
                if (Array.isArray(i))
                    return e.checked = -1 < jQuery.inArray(jQuery(e).val(), i)
            }
        },
        !y.checkOn)
            jQuery.valHooks[this].get = function(e) {
                return null === e.getAttribute("value") ? "on" : e.value
            }
    }),
    y.focusin = "onfocusin"in k,
    /^(?:focusinfocus|focusoutblur)$/);
    if (jQuery.extend(jQuery.event, {
        trigger: function(e, i, o, r) {
            var a, l, u, c, d, h, p, f = [o || x], g = V.call(e, "type") ? e.type : e, m = V.call(e, "namespace") ? e.namespace.split(".") : [], w = p = l = o = o || x;
            if (3 === o.nodeType || 8 === o.nodeType)
                ;
            else if (Et.test(g + jQuery.event.triggered))
                ;
            else {
                if (-1 < g.indexOf("."))
                    g = (m = g.split(".")).shift(),
                    m.sort();
                if (c = g.indexOf(":") < 0 && "on" + g,
                (e = e[jQuery.expando] ? e : new jQuery.Event(g,"object" == typeof e && e)).isTrigger = r ? 2 : 3,
                e.namespace = m.join("."),
                e.rnamespace = e.namespace ? new RegExp("(^|\\.)" + m.join("\\.(?:.*\\.|)") + "(\\.|$)") : null,
                e.result = void 0,
                !e.target)
                    e.target = o;
                if (i = null == i ? [e] : jQuery.makeArray(i, [e]),
                h = jQuery.event.special[g] || {},
                !r && h.trigger && !1 === h.trigger.apply(o, i))
                    ;
                else {
                    if (!r && !h.noBubble && !v(o)) {
                        if (u = h.delegateType || g,
                        !Et.test(u + g))
                            w = w.parentNode;
                        for (; w; w = w.parentNode)
                            f.push(w),
                            l = w;
                        if (l === (o.ownerDocument || x))
                            f.push(l.defaultView || l.parentWindow || k)
                    }
                    for (a = 0; (w = f[a++]) && !e.isPropagationStopped(); ) {
                        if (p = w,
                        e.type = 1 < a ? u : h.bindType || g,
                        d = (A.get(w, "events") || Object.create(null))[e.type] && A.get(w, "handle"))
                            d.apply(w, i);
                        if ((d = c && w[c]) && d.apply && b(w))
                            if (e.result = d.apply(w, i),
                            !1 === e.result)
                                e.preventDefault()
                    }
                    if (e.type = g,
                    !r && !e.isDefaultPrevented())
                        if ((!h._default || !1 === h._default.apply(f.pop(), i)) && b(o))
                            if (c && C(o[g]) && !v(o)) {
                                if (l = o[c])
                                    o[c] = null;
                                if (jQuery.event.triggered = g,
                                e.isPropagationStopped())
                                    p.addEventListener(g, St);
                                if (o[g](),
                                e.isPropagationStopped())
                                    p.removeEventListener(g, St);
                                if (jQuery.event.triggered = void 0,
                                l)
                                    o[c] = l
                            }
                    return e.result
                }
            }
        },
        simulate: function(e, i, o) {
            o = jQuery.extend(new jQuery.Event, o, {
                type: e,
                isSimulated: !0
            });
            jQuery.event.trigger(o, null, i)
        }
    }),
    jQuery.fn.extend({
        trigger: function(e, i) {
            return this.each(function() {
                jQuery.event.trigger(e, i, this)
            })
        },
        triggerHandler: function(e, i) {
            var o = this[0];
            if (o)
                return jQuery.event.trigger(e, i, o, !0)
        }
    }),
    !y.focusin)
        jQuery.each({
            focus: "focusin",
            blur: "focusout"
        }, function(o, r) {
            function a(e) {
                jQuery.event.simulate(r, e.target, jQuery.event.fix(e))
            }
            jQuery.event.special[r] = {
                setup: function() {
                    var e = this.ownerDocument || this.document || this
                      , i = A.access(e, r);
                    if (!i)
                        e.addEventListener(o, a, !0);
                    A.access(e, r, (i || 0) + 1)
                },
                teardown: function() {
                    var e = this.ownerDocument || this.document || this
                      , i = A.access(e, r) - 1;
                    if (!i)
                        e.removeEventListener(o, a, !0),
                        A.remove(e, r);
                    else
                        A.access(e, r, i)
                }
            }
        });
    var Mt = k.location
      , It = {
        guid: Date.now()
    }
      , Pt = /\?/
      , Ot = (jQuery.parseXML = function(e) {
        var i, o;
        if (!e || "string" != typeof e)
            return null;
        try {
            i = (new k.DOMParser).parseFromString(e, "text/xml")
        } catch (e) {}
        if (o = i && i.getElementsByTagName("parsererror")[0],
        !i || o)
            jQuery.error("Invalid XML: " + (o ? jQuery.map(o.childNodes, function(e) {
                return e.textContent
            }).join("\n") : e));
        return i
    }
    ,
    /\[\]$/)
      , Rt = /\r?\n/g
      , Gt = /^(?:submit|button|image|reset|file)$/i
      , Dt = /^(?:input|select|textarea|keygen)/i;
    jQuery.param = function(e, i) {
        function o(e, i) {
            i = C(i) ? i() : i,
            s[s.length] = encodeURIComponent(e) + "=" + encodeURIComponent(null == i ? "" : i)
        }
        var r, s = [];
        if (null == e)
            return "";
        if (Array.isArray(e) || e.jquery && !jQuery.isPlainObject(e))
            jQuery.each(e, function() {
                o(this.name, this.value)
            });
        else
            for (r in e)
                (function o(r, e, a, l) {
                    if (Array.isArray(e))
                        jQuery.each(e, function(e, i) {
                            if (a || Ot.test(r))
                                l(r, i);
                            else
                                o(r + "[" + ("object" == typeof i && null != i ? e : "") + "]", i, a, l)
                        });
                    else if (!a && "object" === w(e))
                        for (var i in e)
                            o(r + "[" + i + "]", e[i], a, l);
                    else
                        l(r, e)
                }
                )(r, e[r], i, o);
        return s.join("&")
    }
    ,
    jQuery.fn.extend({
        serialize: function() {
            return jQuery.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map(function() {
                var e = jQuery.prop(this, "elements");
                return e ? jQuery.makeArray(e) : this
            }).filter(function() {
                var e = this.type;
                return this.name && !jQuery(this).is(":disabled") && Dt.test(this.nodeName) && !Gt.test(e) && (this.checked || !ke.test(e))
            }).map(function(e, i) {
                var o = jQuery(this).val();
                if (null == o)
                    return null;
                if (Array.isArray(o))
                    return jQuery.map(o, function(e) {
                        return {
                            name: i.name,
                            value: e.replace(Rt, "\r\n")
                        }
                    });
                else
                    return {
                        name: i.name,
                        value: o.replace(Rt, "\r\n")
                    }
            }).get()
        }
    });
    var Bt = /%20/g
      , Lt = /#.*$/
      , Wt = /([?&])_=[^&]*/
      , Ft = /^(.*?):[ \t]*([^\r\n]*)$/gm
      , Nt = /^(?:GET|HEAD)$/
      , $t = /^\/\//
      , zt = {}
      , qt = {}
      , Ht = "*/".concat("*")
      , Ut = x.createElement("a");
    function Vt(l) {
        return function(e, i) {
            if ("string" != typeof e)
                i = e,
                e = "*";
            var o, r = 0, a = e.toLowerCase().match(S) || [];
            if (C(i))
                for (; o = a[r++]; )
                    if ("+" === o[0])
                        o = o.slice(1) || "*",
                        (l[o] = l[o] || []).unshift(i);
                    else
                        (l[o] = l[o] || []).push(i)
        }
    }
    function jt(o, r, a, l) {
        var u = {}
          , c = o === qt;
        function d(e) {
            var i;
            return u[e] = !0,
            jQuery.each(o[e] || [], function(_, e) {
                e = e(r, a, l);
                if ("string" == typeof e && !c && !u[e])
                    return r.dataTypes.unshift(e),
                    d(e),
                    !1;
                else if (c)
                    return !(i = e)
            }),
            i
        }
        return d(r.dataTypes[0]) || !u["*"] && d("*")
    }
    function Yt(e, i) {
        var o, r, a = jQuery.ajaxSettings.flatOptions || {};
        for (o in i)
            if (void 0 !== i[o])
                (a[o] ? e : r = r || {})[o] = i[o];
        if (r)
            jQuery.extend(!0, e, r);
        return e
    }
    Ut.href = Mt.href,
    jQuery.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: Mt.href,
            type: "GET",
            isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Mt.protocol),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": Ht,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /\bxml\b/,
                html: /\bhtml/,
                json: /\bjson\b/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": JSON.parse,
                "text xml": jQuery.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function(e, i) {
            return i ? Yt(Yt(e, jQuery.ajaxSettings), i) : Yt(jQuery.ajaxSettings, e)
        },
        ajaxPrefilter: Vt(zt),
        ajaxTransport: Vt(qt),
        ajax: function(e, i) {
            if ("object" == typeof e)
                i = e,
                e = void 0;
            var d, h, p, o, f, g, m, r, s = jQuery.ajaxSetup({}, i = i || {}), w = s.context || s, v = s.context && (w.nodeType || w.jquery) ? jQuery(w) : jQuery.event, y = jQuery.Deferred(), b = jQuery.Callbacks("once memory"), C = s.statusCode || {}, a = {}, l = {}, u = "canceled", T = {
                readyState: 0,
                getResponseHeader: function(e) {
                    var i;
                    if (g) {
                        if (!o)
                            for (o = {}; i = Ft.exec(p); )
                                o[i[1].toLowerCase() + " "] = (o[i[1].toLowerCase() + " "] || []).concat(i[2]);
                        i = o[e.toLowerCase() + " "]
                    }
                    return null == i ? null : i.join(", ")
                },
                getAllResponseHeaders: function() {
                    return g ? p : null
                },
                setRequestHeader: function(e, i) {
                    if (null == g)
                        e = l[e.toLowerCase()] = l[e.toLowerCase()] || e,
                        a[e] = i;
                    return this
                },
                overrideMimeType: function(e) {
                    if (null == g)
                        s.mimeType = e;
                    return this
                },
                statusCode: function(e) {
                    if (e)
                        if (g)
                            T.always(e[T.status]);
                        else
                            for (var i in e)
                                C[i] = [C[i], e[i]];
                    return this
                },
                abort: function(e) {
                    e = e || u;
                    if (d)
                        d.abort(e);
                    return c(0, e),
                    this
                }
            };
            if (y.promise(T),
            s.url = ((e || s.url || Mt.href) + "").replace($t, Mt.protocol + "//"),
            s.type = i.method || i.type || s.method || s.type,
            s.dataTypes = (s.dataType || "*").toLowerCase().match(S) || [""],
            null == s.crossDomain) {
                e = x.createElement("a");
                try {
                    e.href = s.url,
                    e.href = e.href,
                    s.crossDomain = Ut.protocol + "//" + Ut.host != e.protocol + "//" + e.host
                } catch (e) {
                    s.crossDomain = !0
                }
            }
            if (s.data && s.processData && "string" != typeof s.data)
                s.data = jQuery.param(s.data, s.traditional);
            if (jt(zt, s, i, T),
            g)
                ;
            else {
                if ((m = jQuery.event && s.global) && 0 == jQuery.active++)
                    jQuery.event.trigger("ajaxStart");
                if (s.type = s.type.toUpperCase(),
                s.hasContent = !Nt.test(s.type),
                h = s.url.replace(Lt, ""),
                !s.hasContent) {
                    if (e = s.url.slice(h.length),
                    s.data && (s.processData || "string" == typeof s.data))
                        h += (Pt.test(h) ? "&" : "?") + s.data,
                        delete s.data;
                    if (!1 === s.cache)
                        h = h.replace(Wt, "$1"),
                        e = (Pt.test(h) ? "&" : "?") + "_=" + It.guid++ + e;
                    s.url = h + e
                } else if (s.data && s.processData && 0 === (s.contentType || "").indexOf("application/x-www-form-urlencoded"))
                    s.data = s.data.replace(Bt, "+");
                if (s.ifModified) {
                    if (jQuery.lastModified[h])
                        T.setRequestHeader("If-Modified-Since", jQuery.lastModified[h]);
                    if (jQuery.etag[h])
                        T.setRequestHeader("If-None-Match", jQuery.etag[h])
                }
                if (s.data && s.hasContent && !1 !== s.contentType || i.contentType)
                    T.setRequestHeader("Content-Type", s.contentType);
                for (r in T.setRequestHeader("Accept", s.dataTypes[0] && s.accepts[s.dataTypes[0]] ? s.accepts[s.dataTypes[0]] + ("*" !== s.dataTypes[0] ? ", " + Ht + "; q=0.01" : "") : s.accepts["*"]),
                s.headers)
                    T.setRequestHeader(r, s.headers[r]);
                if (s.beforeSend && (!1 === s.beforeSend.call(w, T, s) || g))
                    return T.abort();
                if (u = "abort",
                b.add(s.complete),
                T.done(s.success),
                T.fail(s.error),
                !(d = jt(qt, s, i, T)))
                    c(-1, "No Transport");
                else {
                    if (T.readyState = 1,
                    m)
                        v.trigger("ajaxSend", [T, s]);
                    if (g)
                        return T;
                    if (s.async && 0 < s.timeout)
                        f = k.setTimeout(function() {
                            T.abort("timeout")
                        }, s.timeout);
                    try {
                        g = !1,
                        d.send(a, c)
                    } catch (e) {
                        if (g)
                            throw e;
                        c(-1, e)
                    }
                }
            }
            return T;
            function c(e, i, o, r) {
                var a, l, u, c = i;
                if (g)
                    ;
                else {
                    if (g = !0,
                    f)
                        k.clearTimeout(f);
                    if (d = void 0,
                    p = r || "",
                    T.readyState = 0 < e ? 4 : 0,
                    r = 200 <= e && e < 300 || 304 === e,
                    o)
                        u = function(s, e, i) {
                            for (var o, r, a, l, u = s.contents, c = s.dataTypes; "*" === c[0]; )
                                if (c.shift(),
                                void 0 === o)
                                    o = s.mimeType || e.getResponseHeader("Content-Type");
                            if (o)
                                for (r in u)
                                    if (u[r] && u[r].test(o)) {
                                        c.unshift(r);
                                        break
                                    }
                            if (c[0]in i)
                                a = c[0];
                            else {
                                for (r in i) {
                                    if (!c[0] || s.converters[r + " " + c[0]]) {
                                        a = r;
                                        break
                                    }
                                    if (!l)
                                        l = r
                                }
                                a = a || l
                            }
                            if (a) {
                                if (a !== c[0])
                                    c.unshift(a);
                                return i[a]
                            }
                        }(s, T, o);
                    if (!r && -1 < jQuery.inArray("script", s.dataTypes) && jQuery.inArray("json", s.dataTypes) < 0)
                        s.converters["text script"] = function() {}
                        ;
                    if (u = function(s, e, i, o) {
                        var r, a, l, u, c, d = {}, h = s.dataTypes.slice();
                        if (h[1])
                            for (l in s.converters)
                                d[l.toLowerCase()] = s.converters[l];
                        for (a = h.shift(); a; ) {
                            if (s.responseFields[a])
                                i[s.responseFields[a]] = e;
                            if (!c && o && s.dataFilter)
                                e = s.dataFilter(e, s.dataType);
                            if (c = a,
                            a = h.shift())
                                if ("*" === a)
                                    a = c;
                                else if ("*" !== c && c !== a) {
                                    if (!(l = d[c + " " + a] || d["* " + a]))
                                        for (r in d)
                                            if ((u = r.split(" "))[1] === a)
                                                if (l = d[c + " " + u[0]] || d["* " + u[0]]) {
                                                    if (!0 === l)
                                                        l = d[r];
                                                    else if (!0 !== d[r])
                                                        a = u[0],
                                                        h.unshift(u[1]);
                                                    break
                                                }
                                    if (!0 !== l)
                                        if (l && s.throws)
                                            e = l(e);
                                        else
                                            try {
                                                e = l(e)
                                            } catch (e) {
                                                return {
                                                    state: "parsererror",
                                                    error: l ? e : "No conversion from " + c + " to " + a
                                                }
                                            }
                                }
                        }
                        return {
                            state: "success",
                            data: e
                        }
                    }(s, u, T, r),
                    r) {
                        if (s.ifModified) {
                            if (o = T.getResponseHeader("Last-Modified"))
                                jQuery.lastModified[h] = o;
                            if (o = T.getResponseHeader("etag"))
                                jQuery.etag[h] = o
                        }
                        if (204 === e || "HEAD" === s.type)
                            c = "nocontent";
                        else if (304 === e)
                            c = "notmodified";
                        else
                            c = u.state,
                            a = u.data,
                            r = !(l = u.error)
                    } else if (l = c,
                    e || !c)
                        if (c = "error",
                        e < 0)
                            e = 0;
                    if (T.status = e,
                    T.statusText = (i || c) + "",
                    r)
                        y.resolveWith(w, [a, c, T]);
                    else
                        y.rejectWith(w, [T, c, l]);
                    if (T.statusCode(C),
                    C = void 0,
                    m)
                        v.trigger(r ? "ajaxSuccess" : "ajaxError", [T, s, r ? a : l]);
                    if (b.fireWith(w, [T, c]),
                    m)
                        if (v.trigger("ajaxComplete", [T, s]),
                        !--jQuery.active)
                            jQuery.event.trigger("ajaxStop")
                }
            }
        },
        getJSON: function(e, i, o) {
            return jQuery.get(e, i, o, "json")
        },
        getScript: function(e, i) {
            return jQuery.get(e, void 0, i, "script")
        }
    }),
    jQuery.each(["get", "post"], function(e, a) {
        jQuery[a] = function(e, i, o, r) {
            if (C(i))
                r = r || o,
                o = i,
                i = void 0;
            return jQuery.ajax(jQuery.extend({
                url: e,
                type: a,
                dataType: r,
                data: i,
                success: o
            }, jQuery.isPlainObject(e) && e))
        }
    }),
    jQuery.ajaxPrefilter(function(s) {
        for (var e in s.headers)
            if ("content-type" === e.toLowerCase())
                s.contentType = s.headers[e] || ""
    }),
    jQuery._evalUrl = function(e, i, o) {
        return jQuery.ajax({
            url: e,
            type: "GET",
            dataType: "script",
            cache: !0,
            async: !1,
            global: !1,
            converters: {
                "text script": function() {}
            },
            dataFilter: function(e) {
                jQuery.globalEval(e, i, o)
            }
        })
    }
    ,
    jQuery.fn.extend({
        wrapAll: function(e) {
            if (this[0]) {
                if (C(e))
                    e = e.call(this[0]);
                if (e = jQuery(e, this[0].ownerDocument).eq(0).clone(!0),
                this[0].parentNode)
                    e.insertBefore(this[0]);
                e.map(function() {
                    for (var e = this; e.firstElementChild; )
                        e = e.firstElementChild;
                    return e
                }).append(this)
            }
            return this
        },
        wrapInner: function(o) {
            if (C(o))
                return this.each(function(e) {
                    jQuery(this).wrapInner(o.call(this, e))
                });
            else
                return this.each(function() {
                    var e = jQuery(this)
                      , i = e.contents();
                    if (i.length)
                        i.wrapAll(o);
                    else
                        e.append(o)
                })
        },
        wrap: function(i) {
            var o = C(i);
            return this.each(function(e) {
                jQuery(this).wrapAll(o ? i.call(this, e) : i)
            })
        },
        unwrap: function(e) {
            return this.parent(e).not("body").each(function() {
                jQuery(this).replaceWith(this.childNodes)
            }),
            this
        }
    }),
    jQuery.expr.pseudos.hidden = function(e) {
        return !jQuery.expr.pseudos.visible(e)
    }
    ,
    jQuery.expr.pseudos.visible = function(e) {
        return !!(e.offsetWidth || e.offsetHeight || e.getClientRects().length)
    }
    ,
    jQuery.ajaxSettings.xhr = function() {
        try {
            return new k.XMLHttpRequest
        } catch (e) {}
    }
    ;
    var Qt = {
        0: 200,
        1223: 204
    }
      , Kt = jQuery.ajaxSettings.xhr()
      , Jt = (y.cors = !!Kt && "withCredentials"in Kt,
    y.ajax = Kt = !!Kt,
    jQuery.ajaxTransport(function(a) {
        var l, u;
        if (y.cors || Kt && !a.crossDomain)
            return {
                send: function(e, i) {
                    var o, r = a.xhr();
                    if (r.open(a.type, a.url, a.async, a.username, a.password),
                    a.xhrFields)
                        for (o in a.xhrFields)
                            r[o] = a.xhrFields[o];
                    if (a.mimeType && r.overrideMimeType)
                        r.overrideMimeType(a.mimeType);
                    if (!a.crossDomain && !e["X-Requested-With"])
                        e["X-Requested-With"] = "XMLHttpRequest";
                    for (o in e)
                        r.setRequestHeader(o, e[o]);
                    if (l = function(e) {
                        return function() {
                            if (l)
                                if (l = u = r.onload = r.onerror = r.onabort = r.ontimeout = r.onreadystatechange = null,
                                "abort" === e)
                                    r.abort();
                                else if ("error" === e)
                                    if ("number" != typeof r.status)
                                        i(0, "error");
                                    else
                                        i(r.status, r.statusText);
                                else
                                    i(Qt[r.status] || r.status, r.statusText, "text" !== (r.responseType || "text") || "string" != typeof r.responseText ? {
                                        binary: r.response
                                    } : {
                                        text: r.responseText
                                    }, r.getAllResponseHeaders())
                        }
                    }
                    ,
                    r.onload = l(),
                    u = r.onerror = r.ontimeout = l("error"),
                    void 0 !== r.onabort)
                        r.onabort = u;
                    else
                        r.onreadystatechange = function() {
                            if (4 === r.readyState)
                                k.setTimeout(function() {
                                    if (l)
                                        u()
                                })
                        }
                        ;
                    l = l("abort");
                    try {
                        r.send(a.hasContent && a.data || null)
                    } catch (e) {
                        if (l)
                            throw e
                    }
                },
                abort: function() {
                    if (l)
                        l()
                }
            }
    }),
    jQuery.ajaxPrefilter(function(s) {
        if (s.crossDomain)
            s.contents.script = !1
    }),
    jQuery.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /\b(?:java|ecma)script\b/
        },
        converters: {
            "text script": function(e) {
                return jQuery.globalEval(e),
                e
            }
        }
    }),
    jQuery.ajaxPrefilter("script", function(s) {
        if (void 0 === s.cache)
            s.cache = !1;
        if (s.crossDomain)
            s.type = "GET"
    }),
    jQuery.ajaxTransport("script", function(s) {
        if (s.crossDomain || s.scriptAttrs) {
            var o, r;
            return {
                send: function(_, i) {
                    o = jQuery("<script>").attr(s.scriptAttrs || {}).prop({
                        charset: s.scriptCharset,
                        src: s.url
                    }).on("load error", r = function(e) {
                        if (o.remove(),
                        r = null,
                        e)
                            i("error" === e.type ? 404 : 200, e.type)
                    }
                    ),
                    x.head.appendChild(o[0])
                },
                abort: function() {
                    if (r)
                        r()
                }
            }
        }
    }),
    [])
      , Xt = /(=)\?(?=&|$)|\?\?/
      , Zt = (jQuery.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var e = Jt.pop() || jQuery.expando + "_" + It.guid++;
            return this[e] = !0,
            e
        }
    }),
    jQuery.ajaxPrefilter("json jsonp", function(s, e, i) {
        var o, r, a, l = !1 !== s.jsonp && (Xt.test(s.url) ? "url" : "string" == typeof s.data && 0 === (s.contentType || "").indexOf("application/x-www-form-urlencoded") && Xt.test(s.data) && "data");
        if (l || "jsonp" === s.dataTypes[0]) {
            if (o = s.jsonpCallback = C(s.jsonpCallback) ? s.jsonpCallback() : s.jsonpCallback,
            l)
                s[l] = s[l].replace(Xt, "$1" + o);
            else if (!1 !== s.jsonp)
                s.url += (Pt.test(s.url) ? "&" : "?") + s.jsonp + "=" + o;
            return s.converters["script json"] = function() {
                if (!a)
                    jQuery.error(o + " was not called");
                return a[0]
            }
            ,
            s.dataTypes[0] = "json",
            r = k[o],
            k[o] = function() {
                a = arguments
            }
            ,
            i.always(function() {
                if (void 0 === r)
                    jQuery(k).removeProp(o);
                else
                    k[o] = r;
                if (s[o])
                    s.jsonpCallback = e.jsonpCallback,
                    Jt.push(o);
                if (a && C(r))
                    r(a[0]);
                a = r = void 0
            }),
            "script"
        }
    }),
    y.createHTMLDocument = ((e = x.implementation.createHTMLDocument("").body).innerHTML = "<form></form><form></form>",
    2 === e.childNodes.length),
    jQuery.parseHTML = function(e, i, o) {
        if ("string" != typeof e)
            return [];
        if ("boolean" == typeof i)
            o = i,
            i = !1;
        var r;
        if (!i)
            if (y.createHTMLDocument)
                (r = (i = x.implementation.createHTMLDocument("")).createElement("base")).href = x.location.href,
                i.head.appendChild(r);
            else
                i = x;
        if (r = !o && [],
        o = ee.exec(e))
            return [i.createElement(o[1])];
        if (o = Me([e], i, r),
        r && r.length)
            jQuery(r).remove();
        return jQuery.merge([], o.childNodes)
    }
    ,
    jQuery.fn.load = function(e, i, o) {
        var r, a, l, u = this, c = e.indexOf(" ");
        if (-1 < c)
            r = L(e.slice(c)),
            e = e.slice(0, c);
        if (C(i))
            o = i,
            i = void 0;
        else if (i && "object" == typeof i)
            a = "POST";
        if (0 < u.length)
            jQuery.ajax({
                url: e,
                type: a || "GET",
                dataType: "html",
                data: i
            }).done(function(e) {
                l = arguments,
                u.html(r ? jQuery("<div>").append(jQuery.parseHTML(e)).find(r) : e)
            }).always(o && function(e, i) {
                u.each(function() {
                    o.apply(this, l || [e.responseText, i, e])
                })
            }
            );
        return this
    }
    ,
    jQuery.expr.pseudos.animated = function(i) {
        return jQuery.grep(jQuery.timers, function(e) {
            return i === e.elem
        }).length
    }
    ,
    jQuery.offset = {
        setOffset: function(e, i, o) {
            var r, a, l, u, c, d = jQuery.css(e, "position"), h = jQuery(e), p = {};
            if ("static" === d)
                e.style.position = "relative";
            if (u = h.offset(),
            a = jQuery.css(e, "top"),
            c = jQuery.css(e, "left"),
            ("absolute" === d || "fixed" === d) && -1 < (a + c).indexOf("auto"))
                l = (d = h.position()).top,
                r = d.left;
            else
                l = parseFloat(a) || 0,
                r = parseFloat(c) || 0;
            if (C(i))
                i = i.call(e, o, jQuery.extend({}, u));
            if (null != i.top)
                p.top = i.top - u.top + l;
            if (null != i.left)
                p.left = i.left - u.left + r;
            if ("using"in i)
                i.using.call(e, p);
            else
                h.css(p)
        }
    },
    jQuery.fn.extend({
        offset: function(i) {
            if (arguments.length)
                return void 0 === i ? this : this.each(function(e) {
                    jQuery.offset.setOffset(this, i, e)
                });
            var e, o = this[0];
            if (!o)
                ;
            else if (o.getClientRects().length)
                return e = o.getBoundingClientRect(),
                o = o.ownerDocument.defaultView,
                {
                    top: e.top + o.pageYOffset,
                    left: e.left + o.pageXOffset
                };
            else
                return {
                    top: 0,
                    left: 0
                }
        },
        position: function() {
            if (!this[0])
                ;
            else {
                var e, i, o, r = this[0], a = {
                    top: 0,
                    left: 0
                };
                if ("fixed" === jQuery.css(r, "position"))
                    i = r.getBoundingClientRect();
                else {
                    for (i = this.offset(),
                    o = r.ownerDocument,
                    e = r.offsetParent || o.documentElement; e && (e === o.body || e === o.documentElement) && "static" === jQuery.css(e, "position"); )
                        e = e.parentNode;
                    if (e && e !== r && 1 === e.nodeType)
                        (a = jQuery(e).offset()).top += jQuery.css(e, "borderTopWidth", !0),
                        a.left += jQuery.css(e, "borderLeftWidth", !0)
                }
                return {
                    top: i.top - a.top - jQuery.css(r, "marginTop", !0),
                    left: i.left - a.left - jQuery.css(r, "marginLeft", !0)
                }
            }
        },
        offsetParent: function() {
            return this.map(function() {
                for (var e = this.offsetParent; e && "static" === jQuery.css(e, "position"); )
                    e = e.offsetParent;
                return e || E
            })
        }
    }),
    jQuery.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function(i, a) {
        var l = "pageYOffset" === a;
        jQuery.fn[i] = function(e) {
            return f(this, function(e, i, o) {
                var r;
                if (v(e))
                    r = e;
                else if (9 === e.nodeType)
                    r = e.defaultView;
                if (void 0 === o)
                    return r ? r[a] : e[i];
                if (r)
                    r.scrollTo(!l ? o : r.pageXOffset, l ? o : r.pageYOffset);
                else
                    e[i] = o
            }, i, e, arguments.length)
        }
    }),
    jQuery.each(["top", "left"], function(e, o) {
        jQuery.cssHooks[o] = it(y.pixelPosition, function(e, i) {
            if (i)
                return i = tt(e, o),
                He.test(i) ? jQuery(e).position()[o] + "px" : i
        })
    }),
    jQuery.each({
        Height: "height",
        Width: "width"
    }, function(u, c) {
        jQuery.each({
            padding: "inner" + u,
            content: c,
            "": "outer" + u
        }, function(r, l) {
            jQuery.fn[l] = function(e, i) {
                var o = arguments.length && (r || "boolean" != typeof e)
                  , a = r || (!0 === e || !0 === i ? "margin" : "border");
                return f(this, function(e, i, o) {
                    var r;
                    if (v(e))
                        return 0 === l.indexOf("outer") ? e["inner" + u] : e.document.documentElement["client" + u];
                    if (9 === e.nodeType)
                        return r = e.documentElement,
                        Math.max(e.body["scroll" + u], r["scroll" + u], e.body["offset" + u], r["offset" + u], r["client" + u]);
                    else
                        return void 0 === o ? jQuery.css(e, i, a) : jQuery.style(e, i, o, a)
                }, c, o ? e : void 0, o)
            }
        })
    }),
    jQuery.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(e, i) {
        jQuery.fn[i] = function(e) {
            return this.on(i, e)
        }
    }),
    jQuery.fn.extend({
        bind: function(e, i, o) {
            return this.on(e, null, i, o)
        },
        unbind: function(e, i) {
            return this.off(e, null, i)
        },
        delegate: function(e, i, o, r) {
            return this.on(i, e, o, r)
        },
        undelegate: function(e, i, o) {
            return 1 === arguments.length ? this.off(e, "**") : this.off(i, e || "**", o)
        },
        hover: function(e, i) {
            return this.mouseenter(e).mouseleave(i || e)
        }
    }),
    jQuery.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), function(e, o) {
        jQuery.fn[o] = function(e, i) {
            return 0 < arguments.length ? this.on(o, null, e, i) : this.trigger(o)
        }
    }),
    /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g);
    if (jQuery.proxy = function(e, i) {
        var o, r;
        if ("string" == typeof i)
            r = e[i],
            i = e,
            e = r;
        if (!C(e))
            ;
        else
            return o = c.call(arguments, 2),
            (r = function() {
                return e.apply(i || this, o.concat(c.call(arguments)))
            }
            ).guid = e.guid = e.guid || jQuery.guid++,
            r
    }
    ,
    jQuery.holdReady = function(e) {
        if (e)
            jQuery.readyWait++;
        else
            jQuery.ready(!0)
    }
    ,
    jQuery.isArray = Array.isArray,
    jQuery.parseJSON = JSON.parse,
    jQuery.nodeName = d,
    jQuery.isFunction = C,
    jQuery.isWindow = v,
    jQuery.camelCase = T,
    jQuery.type = w,
    jQuery.now = Date.now,
    jQuery.isNumeric = function(e) {
        var i = jQuery.type(e);
        return ("number" === i || "string" === i) && !isNaN(e - parseFloat(e))
    }
    ,
    jQuery.trim = function(e) {
        return null == e ? "" : (e + "").replace(Zt, "")
    }
    ,
    "function" == typeof define && define.amd)
        define("jquery", [], function() {
            return jQuery
        });
    var ei = k.jQuery
      , ti = k.$;
    if (jQuery.noConflict = function(e) {
        if (k.$ === jQuery)
            k.$ = ti;
        if (e && k.jQuery === jQuery)
            k.jQuery = ei;
        return jQuery
    }
    ,
    void 0 === F)
        k.jQuery = k.$ = jQuery;
    return jQuery
}),
void 0 === jQuery.migrateMute && (jQuery.migrateMute = !0),
function(t) {
    "use strict";
    "function" == typeof define && define.amd ? define(["jquery"], function(e) {
        return t(e, window)
    }) : "object" == typeof module && module.exports ? module.exports = t(require("jquery"), window) : t(jQuery, window)
}(function(s, n) {
    "use strict";
    function e(e) {
        return 0 <= function(e, t) {
            for (var i = /^(\d+)\.(\d+)\.(\d+)/, n = i.exec(e) || [], o = i.exec(t) || [], r = 1; r <= 3; r++) {
                if (+o[r] < +n[r])
                    return 1;
                if (+n[r] < +o[r])
                    return -1
            }
            return 0
        }(s.fn.jquery, e)
    }
    s.migrateVersion = "3.3.2",
    n.console && n.console.log && (s && e("3.0.0") || n.console.log("JQMIGRATE: jQuery 3.0.0+ REQUIRED"),
    s.migrateWarnings && n.console.log("JQMIGRATE: Migrate plugin loaded multiple times"),
    n.console.log("JQMIGRATE: Migrate is installed" + (s.migrateMute ? "" : " with logging active") + ", version " + s.migrateVersion));
    var i = {};
    function l(e) {
        var t = n.console;
        s.migrateDeduplicateWarnings && i[e] || (i[e] = !0,
        s.migrateWarnings.push(e),
        t && t.warn && !s.migrateMute && (t.warn("JQMIGRATE: " + e),
        s.migrateTrace && t.trace && t.trace()))
    }
    function t(e, t, i, n) {
        Object.defineProperty(e, t, {
            configurable: !0,
            enumerable: !0,
            get: function() {
                return l(n),
                i
            },
            set: function(e) {
                l(n),
                i = e
            }
        })
    }
    function o(e, t, i, n) {
        e[t] = function() {
            return l(n),
            i.apply(this, arguments)
        }
    }
    s.migrateDeduplicateWarnings = !0,
    s.migrateWarnings = [],
    void 0 === s.migrateTrace && (s.migrateTrace = !0),
    s.migrateReset = function() {
        i = {},
        s.migrateWarnings.length = 0
    }
    ,
    "BackCompat" === n.document.compatMode && l("jQuery is not compatible with Quirks Mode");
    var r, a, u, c = {}, d = s.fn.init, h = s.find, p = /\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/, f = /\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g, g = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
    for (r in s.fn.init = function(e) {
        var t = Array.prototype.slice.call(arguments);
        return "string" == typeof e && "#" === e && (l("jQuery( '#' ) is not a valid selector"),
        t[0] = []),
        d.apply(this, t)
    }
    ,
    s.fn.init.prototype = s.fn,
    s.find = function(t) {
        var i = Array.prototype.slice.call(arguments);
        if ("string" == typeof t && p.test(t))
            try {
                n.document.querySelector(t)
            } catch (e) {
                t = t.replace(f, function(e, t, i, n) {
                    return "[" + t + i + '"' + n + '"]'
                });
                try {
                    n.document.querySelector(t),
                    l("Attribute selector with '#' must be quoted: " + i[0]),
                    i[0] = t
                } catch (e) {
                    l("Attribute selector with '#' was not fixed: " + i[0])
                }
            }
        return h.apply(this, i)
    }
    ,
    h)
        Object.prototype.hasOwnProperty.call(h, r) && (s.find[r] = h[r]);
    o(s.fn, "size", function() {
        return this.length
    }, "jQuery.fn.size() is deprecated and removed; use the .length property"),
    o(s, "parseJSON", function() {
        return JSON.parse.apply(null, arguments)
    }, "jQuery.parseJSON is deprecated; use JSON.parse"),
    o(s, "holdReady", s.holdReady, "jQuery.holdReady is deprecated"),
    o(s, "unique", s.uniqueSort, "jQuery.unique is deprecated; use jQuery.uniqueSort"),
    t(s.expr, "filters", s.expr.pseudos, "jQuery.expr.filters is deprecated; use jQuery.expr.pseudos"),
    t(s.expr, ":", s.expr.pseudos, "jQuery.expr[':'] is deprecated; use jQuery.expr.pseudos"),
    e("3.1.1") && o(s, "trim", function(e) {
        return null == e ? "" : (e + "").replace(g, "")
    }, "jQuery.trim is deprecated; use String.prototype.trim"),
    e("3.2.0") && (o(s, "nodeName", function(e, t) {
        return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase()
    }, "jQuery.nodeName is deprecated"),
    o(s, "isArray", Array.isArray, "jQuery.isArray is deprecated; use Array.isArray")),
    e("3.3.0") && (o(s, "isNumeric", function(e) {
        var t = typeof e;
        return ("number" == t || "string" == t) && !isNaN(e - parseFloat(e))
    }, "jQuery.isNumeric() is deprecated"),
    s.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function(e, t) {
        c["[object " + t + "]"] = t.toLowerCase()
    }),
    o(s, "type", function(e) {
        return null == e ? e + "" : "object" == typeof e || "function" == typeof e ? c[Object.prototype.toString.call(e)] || "object" : typeof e
    }, "jQuery.type is deprecated"),
    o(s, "isFunction", function(e) {
        return "function" == typeof e
    }, "jQuery.isFunction() is deprecated"),
    o(s, "isWindow", function(e) {
        return null != e && e === e.window
    }, "jQuery.isWindow() is deprecated")),
    s.ajax && (a = s.ajax,
    u = /(=)\?(?=&|$)|\?\?/,
    s.ajax = function() {
        var e = a.apply(this, arguments);
        return e.promise && (o(e, "success", e.done, "jQXHR.success is deprecated and removed"),
        o(e, "error", e.fail, "jQXHR.error is deprecated and removed"),
        o(e, "complete", e.always, "jQXHR.complete is deprecated and removed")),
        e
    }
    ,
    e("4.0.0") || s.ajaxPrefilter("+json", function(e) {
        !1 !== e.jsonp && (u.test(e.url) || "string" == typeof e.data && 0 === (e.contentType || "").indexOf("application/x-www-form-urlencoded") && u.test(e.data)) && l("JSON-to-JSONP auto-promotion is deprecated")
    }));
    var m = s.fn.removeAttr
      , w = s.fn.toggleClass
      , v = /\S+/g;
    function y(e) {
        return e.replace(/-([a-z])/g, function(e, t) {
            return t.toUpperCase()
        })
    }
    s.fn.removeAttr = function(e) {
        var i = this;
        return s.each(e.match(v), function(e, t) {
            s.expr.match.bool.test(t) && (l("jQuery.fn.removeAttr no longer sets boolean properties: " + t),
            i.prop(t, !1))
        }),
        m.apply(this, arguments)
    }
    ;
    var b, C = !(s.fn.toggleClass = function(t) {
        return void 0 !== t && "boolean" != typeof t ? w.apply(this, arguments) : (l("jQuery.fn.toggleClass( boolean ) is deprecated"),
        this.each(function() {
            var e = this.getAttribute && this.getAttribute("class") || "";
            e && s.data(this, "__className__", e),
            this.setAttribute && this.setAttribute("class", !e && !1 !== t && s.data(this, "__className__") || "")
        }))
    }
    ), T = /^[a-z]/, k = /^(?:Border(?:Top|Right|Bottom|Left)?(?:Width|)|(?:Margin|Padding)?(?:Top|Right|Bottom|Left)?|(?:Min|Max)?(?:Width|Height))$/;
    s.swap && s.each(["height", "width", "reliableMarginRight"], function(e, t) {
        var i = s.cssHooks[t] && s.cssHooks[t].get;
        i && (s.cssHooks[t].get = function() {
            var e;
            return C = !0,
            e = i.apply(this, arguments),
            C = !1,
            e
        }
        )
    }),
    s.swap = function(e, t, i, n) {
        var o, r = {};
        for (o in C || l("jQuery.swap() is undocumented and deprecated"),
        t)
            r[o] = e.style[o],
            e.style[o] = t[o];
        for (o in i = i.apply(e, n || []),
        t)
            e.style[o] = r[o];
        return i
    }
    ,
    e("3.4.0") && "undefined" != typeof Proxy && (s.cssProps = new Proxy(s.cssProps || {},{
        set: function() {
            return l("JQMIGRATE: jQuery.cssProps is deprecated"),
            Reflect.set.apply(this, arguments)
        }
    })),
    s.cssNumber || (s.cssNumber = {}),
    b = s.fn.css,
    s.fn.css = function(e, t) {
        var n, i = this;
        return e && "object" == typeof e && !Array.isArray(e) ? (s.each(e, function(e, t) {
            s.fn.css.call(i, e, t)
        }),
        this) : ("number" == typeof t && (t = y(e),
        T.test(n = t) && k.test(n[0].toUpperCase() + n.slice(1)) || s.cssNumber[t] || l('Number-typed values are deprecated for jQuery.fn.css( "' + e + '", value )')),
        b.apply(this, arguments))
    }
    ;
    var x, S, A, E, M = s.data, I = (s.data = function(e, t, i) {
        var n, o, r;
        if (t && "object" == typeof t && 2 === arguments.length) {
            for (r in n = s.hasData(e) && M.call(this, e),
            o = {},
            t)
                r !== y(r) ? (l("jQuery.data() always sets/gets camelCased names: " + r),
                n[r] = t[r]) : o[r] = t[r];
            return M.call(this, e, o),
            t
        }
        return t && "string" == typeof t && t !== y(t) && (n = s.hasData(e) && M.call(this, e)) && t in n ? (l("jQuery.data() always sets/gets camelCased names: " + t),
        2 < arguments.length && (n[t] = i),
        n[t]) : M.apply(this, arguments)
    }
    ,
    s.fx && (A = s.Tween.prototype.run,
    E = function(e) {
        return e
    }
    ,
    s.Tween.prototype.run = function() {
        1 < s.easing[this.easing].length && (l("'jQuery.easing." + this.easing.toString() + "' should use only one argument"),
        s.easing[this.easing] = E),
        A.apply(this, arguments)
    }
    ,
    x = s.fx.interval || 13,
    S = "jQuery.fx.interval is deprecated",
    n.requestAnimationFrame && Object.defineProperty(s.fx, "interval", {
        configurable: !0,
        enumerable: !0,
        get: function() {
            return n.document.hidden || l(S),
            x
        },
        set: function(e) {
            l(S),
            x = e
        }
    })),
    s.fn.load), L = s.event.add, W = s.event.fix;
    function P(e) {
        var t = n.document.implementation.createHTMLDocument("");
        return t.body.innerHTML = e,
        t.body && t.body.innerHTML
    }
    function O(e) {
        var t = e.replace(R, "<$1></$2>");
        t !== e && P(e) !== P(t) && l("HTML tags must be properly nested and closed: " + e)
    }
    s.event.props = [],
    s.event.fixHooks = {},
    t(s.event.props, "concat", s.event.props.concat, "jQuery.event.props.concat() is deprecated and removed"),
    s.event.fix = function(e) {
        var i = e.type
          , n = this.fixHooks[i]
          , o = s.event.props;
        if (o.length)
            for (l("jQuery.event.props are deprecated and removed: " + o.join()); o.length; )
                s.event.addProp(o.pop());
        if (n && !n._migrated_ && (n._migrated_ = !0,
        l("jQuery.event.fixHooks are deprecated and removed: " + i),
        (o = n.props) && o.length))
            for (; o.length; )
                s.event.addProp(o.pop());
        return i = W.call(this, e),
        n && n.filter ? n.filter(i, e) : i
    }
    ,
    s.event.add = function(e, t) {
        return e === n && "load" === t && "complete" === n.document.readyState && l("jQuery(window).on('load'...) called after load event occurred"),
        L.apply(this, arguments)
    }
    ,
    s.each(["load", "unload", "error"], function(e, t) {
        s.fn[t] = function() {
            var e = Array.prototype.slice.call(arguments, 0);
            return "load" === t && "string" == typeof e[0] ? I.apply(this, e) : (l("jQuery.fn." + t + "() is deprecated"),
            e.splice(0, 0, t),
            arguments.length ? this.on.apply(this, e) : (this.triggerHandler.apply(this, e),
            this))
        }
    }),
    s.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), function(e, i) {
        s.fn[i] = function(e, t) {
            return l("jQuery.fn." + i + "() event shorthand is deprecated"),
            0 < arguments.length ? this.on(i, null, e, t) : this.trigger(i)
        }
    }),
    s(function() {
        s(n.document).triggerHandler("ready")
    }),
    s.event.special.ready = {
        setup: function() {
            this === n.document && l("'ready' event is deprecated")
        }
    },
    s.fn.extend({
        bind: function(e, t, i) {
            return l("jQuery.fn.bind() is deprecated"),
            this.on(e, null, t, i)
        },
        unbind: function(e, t) {
            return l("jQuery.fn.unbind() is deprecated"),
            this.off(e, null, t)
        },
        delegate: function(e, t, i, n) {
            return l("jQuery.fn.delegate() is deprecated"),
            this.on(t, e, i, n)
        },
        undelegate: function(e, t, i) {
            return l("jQuery.fn.undelegate() is deprecated"),
            1 === arguments.length ? this.off(e, "**") : this.off(t, e || "**", i)
        },
        hover: function(e, t) {
            return l("jQuery.fn.hover() is deprecated"),
            this.on("mouseenter", e).on("mouseleave", t || e)
        }
    });
    var R = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi
      , F = s.htmlPrefilter;
    s.UNSAFE_restoreLegacyHtmlPrefilter = function() {
        s.htmlPrefilter = function(e) {
            return O(e),
            e.replace(R, "<$1></$2>")
        }
    }
    ,
    s.htmlPrefilter = function(e) {
        return O(e),
        F(e)
    }
    ;
    var G, _ = s.fn.offset;
    s.fn.offset = function() {
        var e = this[0];
        return !e || e.nodeType && e.getBoundingClientRect ? _.apply(this, arguments) : (l("jQuery.fn.offset() requires a valid DOM element"),
        arguments.length ? this : void 0)
    }
    ,
    s.ajax && (G = s.param,
    s.param = function(e, t) {
        var i = s.ajaxSettings && s.ajaxSettings.traditional;
        return void 0 === t && i && (l("jQuery.param() no longer uses jQuery.ajaxSettings.traditional"),
        t = i),
        G.call(this, e, t)
    }
    );
    var D, B, N = s.fn.andSelf || s.fn.addBack;
    return s.fn.andSelf = function() {
        return l("jQuery.fn.andSelf() is deprecated and removed, use jQuery.fn.addBack()"),
        N.apply(this, arguments)
    }
    ,
    s.Deferred && (D = s.Deferred,
    B = [["resolve", "done", s.Callbacks("once memory"), s.Callbacks("once memory"), "resolved"], ["reject", "fail", s.Callbacks("once memory"), s.Callbacks("once memory"), "rejected"], ["notify", "progress", s.Callbacks("memory"), s.Callbacks("memory")]],
    s.Deferred = function(e) {
        var r = D()
          , a = r.promise();
        return r.pipe = a.pipe = function() {
            var o = arguments;
            return l("deferred.pipe() is deprecated"),
            s.Deferred(function(n) {
                s.each(B, function(e, t) {
                    var i = "function" == typeof o[e] && o[e];
                    r[t[1]](function() {
                        var e = i && i.apply(this, arguments);
                        e && "function" == typeof e.promise ? e.promise().done(n.resolve).fail(n.reject).progress(n.notify) : n[t[0] + "With"](this === a ? n.promise() : this, i ? [e] : arguments)
                    })
                }),
                o = null
            }).promise()
        }
        ,
        e && e.call(r, r),
        r
    }
    ,
    s.Deferred.exceptionHook = D.exceptionHook),
    s
}),
function(E) {
    E.fn.extend({
        oldautocomplete: function(e, i) {
            var o = "string" == typeof e;
            return (i = E.extend({}, E.Autocompleter.defaults, {
                url: o ? e : null,
                data: o ? null : e,
                delay: o ? E.Autocompleter.defaults.delay : 10,
                max: i && !i.scroll ? i.limit : 150
            }, i)).highlight = i.highlight || function(e) {
                return e
            }
            ,
            i.formatMatch = i.formatMatch || i.formatItem,
            this.each(function() {
                new E.Autocompleter(this,i)
            })
        },
        result: function(e) {
            return this.on("result", e)
        },
        search: function(e) {
            return this.trigger("search", [e])
        },
        flushCache: function() {
            return this.trigger("flushCache")
        },
        setOptions: function(e) {
            return this.trigger("setOptions", [e])
        },
        unautocomplete: function() {
            return this.trigger("unautocomplete")
        },
        hideList: function() {
            return this.trigger("hide-list")
        }
    }),
    E.Autocompleter = function(d, h) {
        var i, r, o, a = {
            UP: 38,
            DOWN: 40,
            DEL: 46,
            TAB: 9,
            RETURN: 13,
            ESC: 27,
            COMMA: 188,
            PAGEUP: 33,
            PAGEDOWN: 34,
            BACKSPACE: 8
        }, p = E(d).attr("autocomplete", "off").addClass(h.inputClass), f = (h.scaleFactor,
        ""), l = E.Autocompleter.Cache(h), u = 0, e = {
            mouseDownOnSelect: !1
        }, g = E.Autocompleter.Select(h, d, v, e), c = window.navigator.userAgent.toLowerCase(), m = Boolean(/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(c)), w = Boolean(/(msie) ([\w.]+)/.exec(c) || 0 <= c.indexOf("trident") && /(rv)(?::| )([\w.]+)/.exec(c));
        function v() {
            var e = g.selected();
            if (!e)
                return !1;
            var o, r, a, l, i = e.result;
            if (f = i,
            h.multiple) {
                var u = b(p.val());
                if (1 < u.length)
                    u[c = u,
                    r = h.multipleSeparator.length,
                    a = E(d).selection().start,
                    l = 0,
                    E.each(c, function(e, i) {
                        if (l += i.length,
                        a <= l)
                            return o = e,
                            !1;
                        l += r
                    }),
                    o] = i,
                    i = u.join(h.multipleSeparator);
                i += h.multipleSeparator
            }
            if (p.val("function" == typeof h.formatOutput ? h.formatOutput(e) : i),
            k(),
            p.trigger("result", [e.data, e.value]),
            w && p[0]) {
                var c = p[0]
                  , u = p.val().length
                  , i = void 0;
                if (i = i || u,
                c.createTextRange)
                    (e = c.createTextRange()).collapse(!0),
                    e.moveEnd("character", i),
                    e.moveStart("character", u),
                    e.select();
                else if (c.setSelectionRange)
                    c.focus(),
                    c.setSelectionRange(u, i)
            }
            return !0
        }
        function y(e, i) {
            if (r == a.DEL)
                g.hide();
            else {
                var o = p.val();
                if (!i && o == f)
                    ;
                else if ((o = C(f = o)).length >= h.minChars) {
                    if (p.addClass(h.loadingClass),
                    !h.matchCase)
                        o = o.toLowerCase();
                    S(o, x, k)
                } else
                    A(),
                    g.hide()
            }
        }
        function b(i) {
            if (!i)
                return [""];
            if (h.multiple)
                return E.map(i.split(h.multipleSeparator), function(e) {
                    return E.trim(i).length ? E.trim(e) : null
                });
            else
                return [E.trim(i)]
        }
        function C(e) {
            if (!h.multiple)
                return e;
            var i = b(e);
            if (1 == i.length)
                return i[0];
            var o = E(d).selection().start;
            if (o == e.length)
                i = b(e);
            else
                i = b(e.replace(e.substring(o), ""));
            return i[i.length - 1]
        }
        function T() {
            clearTimeout(i),
            i = setTimeout(k, 200)
        }
        function k() {
            g.visible();
            if (g.hide(),
            clearTimeout(i),
            A(),
            h.mustMatch)
                p.search(function(e) {
                    if (!e)
                        if (h.multiple) {
                            e = b(p.val()).slice(0, -1);
                            p.val(e.join(h.multipleSeparator) + (e.length ? h.multipleSeparator : ""))
                        } else
                            p.val(""),
                            p.trigger("result", null)
                })
        }
        function x(e, i) {
            if (i && i.length && u) {
                A(),
                g.display(i, e);
                i = i[0].value;
                if (h.autoFill && C(p.val()).toLowerCase() == e.toLowerCase() && r != a.BACKSPACE)
                    p.val(p.val() + i.substring(C(f).length)),
                    E(d).selection(f.length, f.length + i.length);
                g.show()
            } else
                k()
        }
        function S(i, o, e) {
            if (!h.matchCase)
                i = i.toLowerCase();
            var r = l.load(i);
            if (r && r.length)
                o(i, r);
            else if ("string" == typeof h.url && 0 < h.url.length) {
                var a = {
                    timestamp: +new Date
                };
                E.each(h.extraParams, function(e, i) {
                    a[e] = "function" == typeof i ? i() : i
                }),
                E.ajax({
                    mode: "abort",
                    port: "autocomplete" + d.name,
                    dataType: h.dataType,
                    url: h.url,
                    data: E.extend({
                        q: C(i),
                        limit: h.max
                    }, a),
                    success: function(e) {
                        e = h.parse && h.parse(e) || function(e) {
                            for (var i = [], o = e.split("\n"), r = 0; r < o.length; r++) {
                                var a = E.trim(o[r]);
                                if (a)
                                    a = a.split("|"),
                                    i[i.length] = {
                                        data: a,
                                        value: a[0],
                                        result: h.formatResult && h.formatResult(a, a[0]) || a[0]
                                    }
                            }
                            return i
                        }(e);
                        l.add(i, e),
                        o(i, e)
                    }
                })
            } else
                g.emptyList(),
                e(i)
        }
        function A() {
            p.removeClass(h.loadingClass)
        }
        m && E(d.form).on("submit.autocomplete", function() {
            if (o)
                return o = !1
        }),
        p.on((m ? "keypress" : "keydown") + ".autocomplete", function(e) {
            switch (u = 1,
            r = e.keyCode,
            e.keyCode) {
            case a.UP:
                if (e.preventDefault(),
                g.visible())
                    g.prev();
                else
                    y(0, !0);
                break;
            case a.DOWN:
                if (e.preventDefault(),
                g.visible())
                    g.next();
                else
                    y(0, !0);
                break;
            case a.PAGEUP:
                if (e.preventDefault(),
                g.visible())
                    g.pageUp();
                else
                    y(0, !0);
                break;
            case a.PAGEDOWN:
                if (e.preventDefault(),
                g.visible())
                    g.pageDown();
                else
                    y(0, !0);
                break;
            case h.multiple && "," == E.trim(h.multipleSeparator) && a.COMMA:
            case a.TAB:
            case a.RETURN:
                if (v())
                    return e.preventDefault(),
                    !(o = !0);
                break;
            case a.ESC:
                g.hide();
                break;
            default:
                clearTimeout(i),
                i = setTimeout(y, h.delay)
            }
        }),
        p.on("focus.autocomplete", function() {
            u++
        }),
        p.on("blur.autocomplete", function() {
            if (u = 0,
            !e.mouseDownOnSelect)
                T()
        }),
        p.on("click.autocomplete", function() {
            if (1 < u++ && !g.visible())
                y(0, !0)
        }),
        p.on("search.autocomplete", function(e, i) {
            var a = i ? i : null;
            function o(e, i) {
                var o, r;
                if (i && i.length)
                    for (r = 0; r < i.length; r++)
                        if (i[r].result.toLowerCase() == e.toLowerCase()) {
                            o = i[r];
                            break
                        }
                if ("function" == typeof a)
                    a(o);
                else
                    p.trigger("result", o && [o.data, o.value])
            }
            E.each(b(p.val()), function(e, i) {
                S(i, o, o)
            })
        }),
        p.on("flushCache.autocomplete", function() {
            l.flush()
        }),
        p.on("setOptions.autocomplete", function() {
            if (E.extend(h, arguments[1]),
            "data"in arguments[1])
                l.populate()
        }),
        p.on("unautocomplete.autocomplete", function() {
            g.unbind(),
            p.off(".autocomplete"),
            E(d.form).off(".autocomplete")
        }),
        p.on("hide-list.autocomplete", function() {
            T()
        })
    }
    ,
    E.Autocompleter.defaults = {
        inputClass: "ac_input",
        resultsClass: "ac_results",
        loadingClass: "ac_loading",
        minChars: 1,
        delay: 400,
        matchCase: !1,
        matchSubset: !0,
        matchContains: !1,
        cacheLength: 10,
        max: 100,
        mustMatch: !1,
        extraParams: {},
        selectFirst: !0,
        formatItem: function(e) {
            return e[0]
        },
        formatMatch: null,
        formatOutput: null,
        autoFill: !1,
        width: 0,
        multiple: !1,
        multipleSeparator: ", ",
        highlight: function(e, i) {
            return e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)(" + i.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi, "\\$1") + ")(?![^<>]*>)(?![^&;]+;)","gi"), "<strong>$1</strong>")
        },
        scroll: !0,
        scrollHeight: 180
    },
    E.Autocompleter.Cache = function(c) {
        var l = {}
          , u = 0;
        function d(s, e) {
            if (!c.matchCase)
                s = s.toLowerCase();
            var i = s.indexOf(e);
            if ("word" == c.matchContains)
                i = s.toLowerCase().search("\\b" + e.toLowerCase());
            if (-1 == i)
                ;
            else
                return 0 == i || c.matchContains
        }
        function h(e, i) {
            if (u > c.cacheLength)
                o();
            if (!l[e])
                u++;
            l[e] = i
        }
        function e() {
            if (!c.data)
                return !1;
            var e = {}
              , i = 0;
            if (!c.url)
                c.cacheLength = 1;
            e[""] = [];
            for (var o = 0, r = c.data.length; o < r; o++) {
                var a = c.data[o]
                  , l = c.formatMatch(a = "string" == typeof a ? [a] : a, o + 1, c.data.length);
                if (!1 === l)
                    ;
                else {
                    var u = l.charAt(0).toLowerCase();
                    if (!e[u])
                        e[u] = [];
                    a = {
                        value: l,
                        data: a,
                        result: c.formatResult && c.formatResult(a) || l
                    };
                    if (e[u].push(a),
                    i++ < c.max)
                        e[""].push(a)
                }
            }
            E.each(e, function(e, i) {
                c.cacheLength++,
                h(e, i)
            })
        }
        function o() {
            l = {},
            u = 0
        }
        return setTimeout(e, 25),
        {
            flush: o,
            add: h,
            populate: e,
            load: function(o) {
                if (!c.cacheLength || !u)
                    ;
                else if (!c.url && c.matchContains) {
                    var e, r = [];
                    for (e in l)
                        if (0 < e.length) {
                            var i = l[e];
                            E.each(i, function(e, i) {
                                if (d(i.value, o))
                                    r.push(i)
                            })
                        }
                    return r
                } else if (l[o])
                    return l[o];
                else if (c.matchSubset)
                    for (var a = o.length - 1; a >= c.minChars; a--)
                        if (i = l[o.substr(0, a)]) {
                            r = [];
                            return E.each(i, function(e, i) {
                                if (d(i.value, o))
                                    r[r.length] = i
                            }),
                            r
                        }
                return null
            }
        }
    }
    ,
    E.Autocompleter.Select = function(a, o, r, l) {
        var u, c, d, h, p, f = "ac_over", g = -1, m = !0, w = a.scaleFactor || 1, e = window.navigator.userAgent.toLowerCase(), v = Boolean(/(msie) ([\w.]+)/.exec(e) || 0 <= e.indexOf("trident") && /(rv)(?::| )([\w.]+)/.exec(e));
        function y(e) {
            for (var i = e.target; i && "LI" != i.tagName; )
                i = i.parentNode;
            if (i)
                return i;
            else
                return []
        }
        function i(e) {
            if (u.slice(g, g + 1).removeClass(f),
            (g += e) < 0)
                g = u.size() - 1;
            else if (g >= u.size())
                g = 0;
            e = u.slice(g, g + 1).addClass(f);
            if (a.scroll) {
                var i = 0;
                if (u.slice(0, g).each(function() {
                    i += this.offsetHeight
                }),
                i + e[0].offsetHeight - p.scrollTop() > p[0].clientHeight)
                    p.scrollTop(i + e[0].offsetHeight - p.innerHeight());
                else if (i < p.scrollTop())
                    p.scrollTop(i)
            }
        }
        function b() {
            p.empty();
            e = c.length;
            for (var e, i = a.max && a.max < e ? a.max : e, o = 0; o < i; o++)
                if (!c[o])
                    ;
                else {
                    var r = a.formatItem(c[o].data, o + 1, i, c[o].value, d);
                    if (!1 === r)
                        ;
                    else {
                        r = E("<li/>").html(a.highlight(r, d)).addClass(o % 2 == 0 ? "ac_even" : "ac_odd").appendTo(p)[0];
                        E.data(r, "ac_data", c[o])
                    }
                }
            if (u = p.find("li"),
            a.selectFirst)
                u.slice(0, 1).addClass(f),
                g = 0;
            if (E.fn.bgiframe)
                p.bgiframe()
        }
        return {
            display: function(e, i) {
                if (!m)
                    ;
                else {
                    if (h = E("<div/>").hide().addClass(a.resultsClass).css("position", "absolute").appendTo(document.body),
                    p = E("<ul/>").appendTo(h).mouseover(function(e) {
                        if (y(e).nodeName && "LI" == y(e).nodeName.toUpperCase())
                            g = E("li", p).removeClass(f).index(y(e)),
                            E(y(e)).addClass(f)
                    }).on("click", function(e) {
                        return E(y(e)).addClass(f),
                        r(),
                        o.focus(),
                        !1
                    }).on("mousedown", function() {
                        l.mouseDownOnSelect = !0
                    }).on("mouseup", function() {
                        l.mouseDownOnSelect = !1
                    }),
                    0 < a.width)
                        h.css("width", a.width);
                    m = !1
                }
                c = e,
                d = i,
                b()
            },
            next: function() {
                i(1)
            },
            prev: function() {
                i(-1)
            },
            pageUp: function() {
                if (0 != g && g - 8 < 0)
                    i(-g);
                else
                    i(-8)
            },
            pageDown: function() {
                if (g != u.size() - 1 && g + 8 > u.size())
                    i(u.size() - 1 - g);
                else
                    i(8)
            },
            hide: function() {
                h && h.hide(),
                u && u.removeClass(f),
                g = -1
            },
            visible: function() {
                return h && h.is(":visible")
            },
            current: function() {
                return this.visible() && (u.filter("." + f)[0] || a.selectFirst && u[0])
            },
            show: function() {
                var e = E(o).offset();
                if (e.top *= w,
                e.left *= w,
                h.css({
                    width: "string" == typeof a.width || 0 < a.width ? a.width : E(o).width(),
                    top: e.top + o.offsetHeight,
                    left: e.left
                }).show(),
                a.scroll)
                    if (p.scrollTop(0),
                    p.css({
                        maxHeight: a.scrollHeight,
                        overflow: "auto"
                    }),
                    v && void 0 === document.body.style.maxHeight) {
                        var i = 0
                          , e = (u.each(function() {
                            i += this.offsetHeight
                        }),
                        i > a.scrollHeight);
                        if (p.css("height", e ? a.scrollHeight : i),
                        !e)
                            u.width(p.width() - parseInt(u.css("padding-left")) - parseInt(u.css("padding-right")))
                    }
            },
            selected: function() {
                var e = u && u.filter("." + f).removeClass(f);
                return e && e.length && E.data(e[0], "ac_data")
            },
            emptyList: function() {
                p && p.empty()
            },
            unbind: function() {
                h && h.remove()
            }
        }
    }
    ,
    E.fn.selection = function(i, o) {
        if (void 0 !== i)
            return this.each(function() {
                if (this.createTextRange) {
                    var e = this.createTextRange();
                    if (0 < i)
                        if (void 0 === o || i == o)
                            e.move("character", i),
                            e.select();
                        else
                            e.collapse(!0),
                            e.moveStart("character", i),
                            e.moveEnd("character", o),
                            e.select()
                } else if (this.setSelectionRange)
                    this.setSelectionRange(i, o);
                else if (this.selectionStart)
                    this.selectionStart = i,
                    this.selectionEnd = o
            });
        var e = this[0];
        if (e.createTextRange && document.selection) {
            var r = document.selection.createRange()
              , a = e.value
              , l = r.text.length
              , r = e.value.indexOf(r.text = "<->");
            return e.value = a,
            this.selection(r, r + l),
            {
                start: r,
                end: r + l
            }
        } else if (void 0 !== e.selectionStart)
            return {
                start: e.selectionStart,
                end: e.selectionEnd
            }
    }
}(jQuery),
function(e) {
    if ("function" == typeof define && define.amd)
        define(["jquery"], e);
    else if ("object" == typeof exports)
        e(require("jquery"));
    else
        e(jQuery)
}(function(h) {
    var i = /\+/g;
    function p(s) {
        return g.raw ? s : encodeURIComponent(s)
    }
    function f(s, e) {
        s = g.raw ? s : function(s) {
            if (0 === s.indexOf('"'))
                s = s.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, "\\");
            try {
                return s = decodeURIComponent(s.replace(i, " ")),
                g.json ? JSON.parse(s) : s
            } catch (e) {}
        }(s);
        return "function" == typeof e ? e(s) : s
    }
    var g = h.cookie = function(e, i, o) {
        if (void 0 !== i && !h.isFunction(i)) {
            if ("number" == typeof (o = h.extend({}, g.defaults, o)).expires) {
                var r = o.expires
                  , t = o.expires = new Date;
                t.setTime(+t + 864e5 * r)
            }
            return document.cookie = [p(e), "=", (t = i,
            p(g.json ? JSON.stringify(t) : String(t))), o.expires ? "; expires=" + o.expires.toUTCString() : "", o.path ? "; path=" + o.path : "", o.domain ? "; domain=" + o.domain : "", o.secure ? "; secure" : ""].join("")
        }
        for (var a = e ? void 0 : {}, l = document.cookie ? document.cookie.split("; ") : [], u = 0, c = l.length; u < c; u++) {
            var d = l[u].split("=")
              , s = (s = d.shift(),
            g.raw ? s : decodeURIComponent(s))
              , d = d.join("=");
            if (e && e === s) {
                a = f(d, i);
                break
            }
            if (!e && void 0 !== (d = f(d)))
                a[s] = d
        }
        return a
    }
    ;
    g.defaults = {},
    h.removeCookie = function(e, i) {
        if (void 0 === h.cookie(e))
            return !1;
        else
            return h.cookie(e, "", h.extend({}, i, {
                expires: -1
            })),
            !h.cookie(e)
    }
}),
function(m) {
    m.fn.endlessScroll = function(r) {
        var a, l, r = m.extend({
            pixelOffset: 1,
            data: "",
            callback: function() {
                return !0
            }
        }, r), u = 0, c = 0, d = 0, h = 0, p = r.start_page, f = r.rowspan, g = !0;
        m(document).off("essl_trigger_" + m(this).attr("id")),
        m(document).on("essl_trigger_" + m(this).attr("id"), function(e, i) {
            if (u = i.scroll_pos,
            g = i.is_at_top,
            null != i.current_page)
                p = i.current_page
        }),
        this.scroll = function() {
            if (EndlessScroll.isLocked())
                ;
            else {
                var e;
                if (a = 0 < m(this).scrollTop() - u,
                u = m(this).scrollTop(),
                0 == d)
                    m("#" + r.insert_elem_id).children(".top").each(function(e, i) {
                        d += m(i).height()
                    });
                if (20 <= d)
                    p = EndlessScroll.updatePage(l, p, g, h, u, d),
                    g = u < d - h / 2,
                    EndlessScroll.unlockPage();
                if (0 == c)
                    if (f)
                        c = document.getElementById(r.insert_elem_id).scrollHeight;
                    else
                        m("#" + r.insert_elem_id).children().each(function(e, i) {
                            c += m(i).outerHeight()
                        });
                if (i = 0 < c,
                e = m(this).scrollTop() >= c - m(this).height() - r.pixelOffset,
                o = m(this).scrollTop() < r.pixelOffset,
                i && (o || e)) {
                    if ("function" == typeof r.data)
                        data = r.data.apply(this);
                    else
                        data = r.data;
                    if (!1 !== data && (o && !a || e && a)) {
                        var i = new Array(a)
                          , o = r.callback.apply(this, i);
                        if (c = d = 0,
                        o)
                            h = o.visible_height,
                            l = o.pagination_elem_id
                    }
                }
            }
        }
        ,
        m(this).off("scroll").on("scroll", this.scroll)
    }
}(jQuery),
jQuery.fn.extend({
    positionTo: function(e) {
        "use strict";
        var i, o = {
            top: 0,
            left: 0
        }, r = this[0];
        if (!e)
            return this.offset();
        if ((i = e.offsetParent()).is($("body")))
            return this.offset();
        for (; o.top += r.offsetTop,
        o.left += r.offsetLeft,
        (r = r.offsetParent) && r !== i[0]; )
            ;
        if (!r && i.offset())
            o.top += -i.offset().top,
            o.left += -i.offset().left;
        return o
    }
}),
$.fn.onceOnAnimationEnd = function(e) {
    var i = $(this)
      , o = "webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend";
    return i.on(o, function() {
        if (i.off(o),
        "function" == typeof e)
            e()
    }),
    this
}
,
$.fn.onceOnTransitionEnd = function(e) {
    var i = $(this)
      , o = "webkitTransitionEnd oTransitionEnd MSTransitionEnd transitionend";
    return i.off(o).on(o, function() {
        if (i.off(o),
        "function" == typeof e)
            e()
    }),
    this
}
,
$.fn.showElement = function(e) {
    var i = $(this);
    return i.onceOnTransitionEnd(e),
    i.show(10, function() {
        i.addClass("show show-element")
    }),
    this
}
,
$.fn.hideElement = function(e) {
    var i = $(this);
    return i.removeClass("show show-element"),
    i.onceOnTransitionEnd(function() {
        if (i.hide(),
        "function" == typeof e)
            e()
    }),
    this
}
,
$.fn.singleDoubleClick = function(e) {
    "use strict";
    var o = $.extend({
        timeout: 300
    }, e)
      , r = $(this);
    return this.each(function() {
        var i = 0
          , e = Game.isMobileBrowser();
        r.on(e ? "tap.single_double_click" : "click.single_double_click", function(e) {
            if (1 === ++i)
                setTimeout(function() {
                    r.trigger(1 === i ? "sdc:click" : "sdc:dbclick"),
                    i = 0
                }, o.timeout)
        }),
        this.destroy = function() {
            r.off(".single_double_click")
        }
    })
}
,
function(u) {
    var i = ["DOMMouseScroll", "mousewheel"];
    if (u.event.fixHooks)
        for (var e = i.length; e; )
            u.event.fixHooks[i[--e]] = u.event.mouseHooks;
    function o(e) {
        var i = e || window.event
          , o = [].slice.call(arguments, 1)
          , r = 0
          , a = 0
          , l = 0;
        if ((e = u.event.fix(i)).type = "mousewheel",
        i.wheelDelta)
            r = i.wheelDelta / 120;
        if (i.detail)
            r = -i.detail / 3;
        if (l = r,
        void 0 !== i.axis && i.axis === i.HORIZONTAL_AXIS)
            l = 0,
            a = -1 * r;
        if (void 0 !== i.wheelDeltaY)
            l = i.wheelDeltaY / 120;
        if (void 0 !== i.wheelDeltaX)
            a = -1 * i.wheelDeltaX / 120;
        return o.unshift(e, r, a, l),
        (u.event.dispatch || u.event.handle).apply(this, o)
    }
    u.event.special.mousewheel = {
        setup: function() {
            if (this.addEventListener)
                for (var e = i.length; e; )
                    this.addEventListener(i[--e], o, !1);
            else
                this.onmousewheel = o
        },
        teardown: function() {
            if (this.removeEventListener)
                for (var e = i.length; e; )
                    this.removeEventListener(i[--e], o, !1);
            else
                this.onmousewheel = null
        }
    },
    u.fn.extend({
        mousewheel: function(e) {
            return e ? this.on("mousewheel", e) : this.trigger("mousewheel")
        },
        unmousewheel: function(e) {
            return this.off("mousewheel", e)
        }
    })
}(jQuery),
function(t, e) {
    if ("function" == typeof define && define.amd)
        define(["jquery"], e);
    else if ("object" == typeof exports)
        module.exports = e(require("jquery"));
    else
        e(t.jQuery)
}(this, function(t) {
    t.transit = {
        version: "0.9.12",
        propertyMap: {
            marginLeft: "margin",
            marginRight: "margin",
            marginBottom: "margin",
            marginTop: "margin",
            paddingLeft: "padding",
            paddingRight: "padding",
            paddingBottom: "padding",
            paddingTop: "padding"
        },
        enabled: !0,
        useTransitionEnd: !1
    };
    var o = document.createElement("div")
      , n = {};
    function e(t) {
        if (t in o.style)
            return t;
        for (var n = ["Moz", "Webkit", "O", "ms"], e = t.charAt(0).toUpperCase() + t.substr(1), i = 0; i < n.length; ++i) {
            var s = n[i] + e;
            if (s in o.style)
                return s
        }
    }
    var i, s = -1 < navigator.userAgent.toLowerCase().indexOf("chrome"), f = (n.transition = e("transition"),
    n.transitionDelay = e("transitionDelay"),
    n.transform = e("transform"),
    n.transformOrigin = e("transformOrigin"),
    n.filter = e("Filter"),
    n.transform3d = (o.style[n.transform] = "",
    o.style[n.transform] = "rotateY(90deg)",
    "" !== o.style[n.transform]),
    n.transitionEnd = {
        transition: "transitionend",
        MozTransition: "transitionend",
        OTransition: "oTransitionEnd",
        WebkitTransition: "webkitTransitionEnd",
        msTransition: "MSTransitionEnd"
    }[n.transition] || null);
    for (i in n)
        if (n.hasOwnProperty(i) && void 0 === t.support[i])
            t.support[i] = n[i];
    if (o = null,
    t.cssEase = {
        _default: "ease",
        in: "ease-in",
        out: "ease-out",
        "in-out": "ease-in-out",
        snap: "cubic-bezier(0,1,.5,1)",
        easeInCubic: "cubic-bezier(.550,.055,.675,.190)",
        easeOutCubic: "cubic-bezier(.215,.61,.355,1)",
        easeInOutCubic: "cubic-bezier(.645,.045,.355,1)",
        easeInCirc: "cubic-bezier(.6,.04,.98,.335)",
        easeOutCirc: "cubic-bezier(.075,.82,.165,1)",
        easeInOutCirc: "cubic-bezier(.785,.135,.15,.86)",
        easeInExpo: "cubic-bezier(.95,.05,.795,.035)",
        easeOutExpo: "cubic-bezier(.19,1,.22,1)",
        easeInOutExpo: "cubic-bezier(1,0,0,1)",
        easeInQuad: "cubic-bezier(.55,.085,.68,.53)",
        easeOutQuad: "cubic-bezier(.25,.46,.45,.94)",
        easeInOutQuad: "cubic-bezier(.455,.03,.515,.955)",
        easeInQuart: "cubic-bezier(.895,.03,.685,.22)",
        easeOutQuart: "cubic-bezier(.165,.84,.44,1)",
        easeInOutQuart: "cubic-bezier(.77,0,.175,1)",
        easeInQuint: "cubic-bezier(.755,.05,.855,.06)",
        easeOutQuint: "cubic-bezier(.23,1,.32,1)",
        easeInOutQuint: "cubic-bezier(.86,0,.07,1)",
        easeInSine: "cubic-bezier(.47,0,.745,.715)",
        easeOutSine: "cubic-bezier(.39,.575,.565,1)",
        easeInOutSine: "cubic-bezier(.445,.05,.55,.95)",
        easeInBack: "cubic-bezier(.6,-.28,.735,.045)",
        easeOutBack: "cubic-bezier(.175, .885,.32,1.275)",
        easeInOutBack: "cubic-bezier(.68,-.55,.265,1.55)"
    },
    t.cssHooks["transit:transform"] = {
        get: function(e) {
            return t(e).data("transform") || new r
        },
        set: function(e, i) {
            if (!(i instanceof r))
                i = new r(i);
            if ("WebkitTransform" === n.transform && !s)
                e.style[n.transform] = i.toString(!0);
            else
                e.style[n.transform] = i.toString();
            t(e).data("transform", i)
        }
    },
    t.cssHooks.transform = {
        set: t.cssHooks["transit:transform"].set
    },
    t.cssHooks.filter = {
        get: function(t) {
            return t.style[n.filter]
        },
        set: function(t, e) {
            t.style[n.filter] = e
        }
    },
    t.fn.jquery < "1.8")
        t.cssHooks.transformOrigin = {
            get: function(t) {
                return t.style[n.transformOrigin]
            },
            set: function(t, e) {
                t.style[n.transformOrigin] = e
            }
        },
        t.cssHooks.transition = {
            get: function(t) {
                return t.style[n.transition]
            },
            set: function(t, e) {
                t.style[n.transition] = e
            }
        };
    function r(t) {
        if ("string" == typeof t)
            this.parse(t);
        return this
    }
    function g(t, e, n) {
        if (!0 === e)
            t.queue(n);
        else if (e)
            t.queue(e, n);
        else
            t.each(function() {
                n.call(this)
            })
    }
    function l(e) {
        var i = [];
        return t.each(e, function(e) {
            if (e = t.camelCase(e),
            e = u(e = t.transit.propertyMap[e] || t.cssProps[e] || e),
            n[e])
                e = u(n[e]);
            if (-1 === t.inArray(e, i))
                i.push(e)
        }),
        i
    }
    function m(e, n, i, o) {
        e = l(e);
        if (t.cssEase[i])
            i = t.cssEase[i];
        var r = w(n) + " " + i;
        if (0 < parseInt(o, 10))
            r += " " + w(o);
        var a = [];
        return t.each(e, function(t, e) {
            a.push(e + " " + r)
        }),
        a.join(", ")
    }
    function a(o, e) {
        if (!e)
            t.cssNumber[o] = !0;
        t.transit.propertyMap[o] = n.transform,
        t.cssHooks[o] = {
            get: function(n) {
                return t(n).css("transit:transform").get(o)
            },
            set: function(n, e) {
                var i = t(n).css("transit:transform");
                i.setFromString(o, e),
                t(n).css({
                    "transit:transform": i
                })
            }
        }
    }
    function u(t) {
        return t.replace(/([A-Z])/g, function(t) {
            return "-" + t.toLowerCase()
        })
    }
    function c(t, e) {
        if ("string" == typeof t && !t.match(/^[\-0-9\.]+$/))
            return t;
        else
            return "" + t + e
    }
    function w(e) {
        if ("string" == typeof e && !e.match(/^[\-0-9\.]+/))
            e = t.fx.speeds[e] || t.fx.speeds._default;
        return c(e, "ms")
    }
    return a("scale"),
    a("scaleX"),
    a("scaleY"),
    a("translate"),
    a("rotate"),
    a("rotateX"),
    a("rotateY"),
    a("rotate3d"),
    a("perspective"),
    a("skewX"),
    a("skewY"),
    a("x", !0),
    a("y", !0),
    r.prototype = {
        setFromString: function(t, e) {
            e = "string" == typeof e ? e.split(",") : e.constructor === Array ? e : [e];
            e.unshift(t),
            r.prototype.set.apply(this, e)
        },
        set: function(t) {
            var e = Array.prototype.slice.apply(arguments, [1]);
            if (this.setter[t])
                this.setter[t].apply(this, e);
            else
                this[t] = e.join(",")
        },
        get: function(t) {
            if (this.getter[t])
                return this.getter[t].apply(this);
            else
                return this[t] || 0
        },
        setter: {
            rotate: function(t) {
                this.rotate = c(t, "deg")
            },
            rotateX: function(t) {
                this.rotateX = c(t, "deg")
            },
            rotateY: function(t) {
                this.rotateY = c(t, "deg")
            },
            scale: function(t, e) {
                if (void 0 === e)
                    e = t;
                this.scale = t + "," + e
            },
            skewX: function(t) {
                this.skewX = c(t, "deg")
            },
            skewY: function(t) {
                this.skewY = c(t, "deg")
            },
            perspective: function(t) {
                this.perspective = c(t, "px")
            },
            x: function(t) {
                this.set("translate", t, null)
            },
            y: function(t) {
                this.set("translate", null, t)
            },
            translate: function(t, e) {
                if (void 0 === this._translateX)
                    this._translateX = 0;
                if (void 0 === this._translateY)
                    this._translateY = 0;
                if (null != t)
                    this._translateX = c(t, "px");
                if (null != e)
                    this._translateY = c(e, "px");
                this.translate = this._translateX + "," + this._translateY
            }
        },
        getter: {
            x: function() {
                return this._translateX || 0
            },
            y: function() {
                return this._translateY || 0
            },
            scale: function() {
                var t = (this.scale || "1,1").split(",");
                if (t[0])
                    t[0] = parseFloat(t[0]);
                if (t[1])
                    t[1] = parseFloat(t[1]);
                return t[0] === t[1] ? t[0] : t
            },
            rotate3d: function() {
                for (var t = (this.rotate3d || "0,0,0,0deg").split(","), e = 0; e <= 3; ++e)
                    if (t[e])
                        t[e] = parseFloat(t[e]);
                if (t[3])
                    t[3] = c(t[3], "deg");
                return t
            }
        },
        parse: function(t) {
            var i = this;
            t.replace(/([a-zA-Z0-9]+)\((.*?)\)/g, function(t, n, e) {
                i.setFromString(n, e)
            })
        },
        toString: function(t) {
            var e, i = [];
            for (e in this)
                if (this.hasOwnProperty(e))
                    if (!n.transform3d && ("rotateX" === e || "rotateY" === e || "perspective" === e || "transformOrigin" === e))
                        ;
                    else if ("_" !== e[0])
                        if (t && "scale" === e)
                            i.push(e + "3d(" + this[e] + ",1)");
                        else if (t && "translate" === e)
                            i.push(e + "3d(" + this[e] + ",0)");
                        else
                            i.push(e + "(" + this[e] + ")");
            return i.join(" ")
        }
    },
    t.fn.transition = t.fn.transit = function(e, i, o, s) {
        var r = this
          , a = 0
          , l = !0
          , u = t.extend(!0, {}, e);
        if ("function" == typeof i)
            s = i,
            i = void 0;
        if ("object" == typeof i)
            o = i.easing,
            a = i.delay || 0,
            l = void 0 === i.queue ? !0 : i.queue,
            s = i.complete,
            i = i.duration;
        if ("function" == typeof o)
            s = o,
            o = void 0;
        if (void 0 !== u.easing)
            o = u.easing,
            delete u.easing;
        if (void 0 !== u.duration)
            i = u.duration,
            delete u.duration;
        if (void 0 !== u.complete)
            s = u.complete,
            delete u.complete;
        if (void 0 !== u.queue)
            l = u.queue,
            delete u.queue;
        if (void 0 !== u.delay)
            a = u.delay,
            delete u.delay;
        if (void 0 === i)
            i = t.fx.speeds._default;
        if (void 0 === o)
            o = t.cssEase._default;
        i = w(i);
        var c = m(u, i, o, a)
          , d = t.transit.enabled && n.transition ? parseInt(i, 10) + parseInt(a, 10) : 0;
        if (0 === d)
            return g(r, l, function(t) {
                if (r.css(u),
                s)
                    s.apply(r);
                if (t)
                    t()
            }),
            r;
        var h = {}
          , p = function(e) {
            function i() {
                if (o)
                    r.off(f, i);
                if (0 < d)
                    r.each(function() {
                        this.style[n.transition] = h[this] || null
                    });
                if ("function" == typeof s)
                    s.apply(r);
                if ("function" == typeof e)
                    e()
            }
            var o = !1;
            if (0 < d && f && t.transit.useTransitionEnd)
                o = !0,
                r.bind(f, i);
            else
                window.setTimeout(i, d);
            r.each(function() {
                if (0 < d)
                    this.style[n.transition] = c;
                t(this).css(u)
            })
        };
        return g(r, l, function(t) {
            this.offsetWidth,
            p(t)
        }),
        this
    }
    ,
    t.transit.getTransitionValue = m,
    t
}),
function() {
    for (var i, l = 0, e = ["ms", "moz", "webkit", "o"], o = window.requestAnimationFrame, r = window.cancelAnimationFrame; l < e.length && !o; l++)
        o = window[e[l] + "RequestAnimationFrame"],
        r = r || window[e[l] + "CancelAnimationFrame"] || window[e[l] + "CancelRequestAnimationFrame"];
    function a() {
        if (i)
            o(a);
        jQuery.fx.tick()
    }
    if (!o)
        o = window.requestAnimationFrame = function(e, i) {
            var o = (new Date).getTime()
              , r = Math.max(5, 38 - (o - l))
              , a = window.setTimeout(function() {
                e(o + r)
            }, r);
            return l = o + r,
            a
        }
        ,
        r = window.cancelAnimationFrame = function(e) {
            clearTimeout(e)
        }
        ;
    window.requestAnimationFrame = o,
    window.cancelAnimationFrame = r,
    jQuery.fx.timer = function(e) {
        if (e() && jQuery.timers.push(e) && !i)
            i = !0,
            a()
    }
    ,
    jQuery.fx.stop = function() {
        i = !1
    }
}(jQuery),
function(r) {
    function i(e) {
        if (this.options = r.extend({}, i.defaultOptions, e),
        this.isEnabled = !1,
        this.options.forcePolyfill || !this.supportsPointerEvents())
            this.registerEvents(),
            this.isEnabled = !0
    }
    i.defaultOptions = {
        forcePolyfill: !1,
        selector: "*",
        listenOn: ["click", "dblclick", "mousedown", "mouseup"],
        pointerEventsNoneClass: null,
        pointerEventsAllClass: null,
        eventNamespace: "pointer-events-polyfill"
    },
    i.prototype.registerEvents = function() {
        r(document).on(this.getEventNames(), this.options.selector, r.proxy(this.onElementClick, this))
    }
    ,
    i.prototype.getEventNames = function() {
        var e = this.options.eventNamespace ? "." + this.options.eventNamespace : "";
        return this.options.listenOn.join(e + " ") + e
    }
    ,
    i.prototype.supportsPointerEvents = function() {
        var e = document.createElement("a").style;
        return e.cssText = "pointer-events:auto",
        "auto" === e.pointerEvents
    }
    ,
    i.prototype.isClickThrough = function(e) {
        var i = e.css("pointer-events");
        if (0 === e.length || "all" === i || e.is(":root") || e.hasClass(this.options.pointerEventsAllClass))
            return !1;
        if ("none" === i || e.hasClass(this.options.pointerEventsNoneClass) || this.isClickThrough(e.parent()))
            return !0;
        else
            return !1
    }
    ,
    i.prototype.onElementClick = function(e) {
        var i = r(e.target);
        if (!this.isClickThrough(i))
            return !0;
        i.hide();
        var o = document.elementFromPoint(e.clientX, e.clientY);
        return e.target = o,
        r(o).trigger(e),
        i.show(),
        !1
    }
    ,
    i.prototype.destroy = function() {
        r(document).off(this.getEventNames()),
        this.isEnabled = !1
    }
    ,
    window.pointerEventsPolyfill = function(e) {
        return new i(e)
    }
}(jQuery),
function(e) {
    if ("function" == typeof define && define.amd)
        define(["jquery"], e);
    else
        e(jQuery)
}(function(A) {
    A.ui = A.ui || {};
    A.ui.version = "1.12.1";
    var a, r, E, M, l, u, c, d, h, i, F = 0, p = Array.prototype.slice;
    A.ui.isWindow = function(e) {
        return null != e && e === e.window
    }
    ,
    A.cleanData = (a = A.cleanData,
    function(e) {
        for (var i, o, r = 0; null != (o = e[r]); r++)
            try {
                if ((i = A._data(o, "events")) && i.remove)
                    A(o).triggerHandler("remove")
            } catch (e) {}
        a(e)
    }
    ),
    A.widget = function(e, o, i) {
        var r, a, l, u = {}, c = e.split(".")[0], d = c + "-" + (e = e.split(".")[1]);
        if (!i)
            i = o,
            o = A.Widget;
        if (Array.isArray(i))
            i = A.extend.apply(null, [{}].concat(i));
        if (A.expr.pseudos[d.toLowerCase()] = function(e) {
            return !!A.data(e, d)
        }
        ,
        A[c] = A[c] || {},
        r = A[c][e],
        a = A[c][e] = function(e, i) {
            if (!this._createWidget)
                return new a(e,i);
            if (arguments.length)
                this._createWidget(e, i)
        }
        ,
        A.extend(a, r, {
            version: i.version,
            _proto: A.extend({}, i),
            _childConstructors: []
        }),
        (l = new o).options = A.widget.extend({}, l.options),
        A.each(i, function(i, r) {
            if ("function" != typeof r)
                u[i] = r;
            else
                u[i] = function() {
                    var e, i = this._super, o = this._superApply;
                    return this._super = a,
                    this._superApply = l,
                    e = r.apply(this, arguments),
                    this._super = i,
                    this._superApply = o,
                    e
                }
                ;
            function a() {
                return o.prototype[i].apply(this, arguments)
            }
            function l(e) {
                return o.prototype[i].apply(this, e)
            }
        }),
        a.prototype = A.widget.extend(l, {
            widgetEventPrefix: r ? l.widgetEventPrefix || e : e
        }, u, {
            constructor: a,
            namespace: c,
            widgetName: e,
            widgetFullName: d
        }),
        r)
            A.each(r._childConstructors, function(e, i) {
                var o = i.prototype;
                A.widget(o.namespace + "." + o.widgetName, a, i._proto)
            }),
            delete r._childConstructors;
        else
            o._childConstructors.push(a);
        return A.widget.bridge(e, a),
        a
    }
    ,
    A.widget.extend = function(e) {
        for (var i, o, r = p.call(arguments, 1), a = 0, l = r.length; a < l; a++)
            for (i in r[a])
                if (o = r[a][i],
                r[a].hasOwnProperty(i) && void 0 !== o)
                    if (A.isPlainObject(o))
                        e[i] = A.isPlainObject(e[i]) ? A.widget.extend({}, e[i], o) : A.widget.extend({}, o);
                    else
                        e[i] = o;
        return e
    }
    ,
    A.widget.bridge = function(l, i) {
        var u = i.prototype.widgetFullName || l;
        A.fn[l] = function(o) {
            var e = "string" == typeof o
              , r = p.call(arguments, 1)
              , a = this;
            if (e)
                if (!this.length && "instance" === o)
                    a = void 0;
                else
                    this.each(function() {
                        var e, i = A.data(this, u);
                        if ("instance" === o)
                            return a = i,
                            !1;
                        if (!i)
                            return A.error("cannot call methods on " + l + " prior to initialization; attempted to call method '" + o + "'");
                        if ("function" != typeof i[o] || "_" === o.charAt(0))
                            return A.error("no such method '" + o + "' for " + l + " widget instance");
                        if ((e = i[o].apply(i, r)) !== i && void 0 !== e)
                            return a = e && e.jquery ? a.pushStack(e.get()) : e,
                            !1;
                        else
                            return
                    });
            else {
                if (r.length)
                    o = A.widget.extend.apply(null, [o].concat(r));
                this.each(function() {
                    var e = A.data(this, u);
                    if (e) {
                        if (e.option(o || {}),
                        e._init)
                            e._init()
                    } else
                        A.data(this, u, new i(o,this))
                })
            }
            return a
        }
    }
    ,
    A.Widget = function() {}
    ,
    A.Widget._childConstructors = [],
    A.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "<div>",
        options: {
            classes: {},
            disabled: !1,
            create: null
        },
        _createWidget: function(e, i) {
            if (i = A(i || this.defaultElement || this)[0],
            this.element = A(i),
            this.uuid = F++,
            this.eventNamespace = "." + this.widgetName + this.uuid,
            this.bindings = A(),
            this.hoverable = A(),
            this.focusable = A(),
            this.classesElementLookup = {},
            i !== this)
                A.data(i, this.widgetFullName, this),
                this._on(!0, this.element, {
                    remove: function(e) {
                        if (e.target === i)
                            this.destroy()
                    }
                }),
                this.document = A(i.style ? i.ownerDocument : i.document || i),
                this.window = A(this.document[0].defaultView || this.document[0].parentWindow);
            if (this.options = A.widget.extend({}, this.options, this._getCreateOptions(), e),
            this._create(),
            this.options.disabled)
                this._setOptionDisabled(this.options.disabled);
            this._trigger("create", null, this._getCreateEventData()),
            this._init()
        },
        _getCreateOptions: function() {
            return {}
        },
        _getCreateEventData: A.noop,
        _create: A.noop,
        _init: A.noop,
        destroy: function() {
            var o = this;
            this._destroy(),
            A.each(this.classesElementLookup, function(e, i) {
                o._removeClass(i, e)
            }),
            this.element.off(this.eventNamespace).removeData(this.widgetFullName),
            this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),
            this.bindings.off(this.eventNamespace)
        },
        _destroy: A.noop,
        widget: function() {
            return this.element
        },
        option: function(e, i) {
            var o, r, a, l = e;
            if (0 === arguments.length)
                return A.widget.extend({}, this.options);
            if ("string" == typeof e)
                if (l = {},
                e = (o = e.split(".")).shift(),
                o.length) {
                    for (r = l[e] = A.widget.extend({}, this.options[e]),
                    a = 0; a < o.length - 1; a++)
                        r[o[a]] = r[o[a]] || {},
                        r = r[o[a]];
                    if (e = o.pop(),
                    1 === arguments.length)
                        return void 0 === r[e] ? null : r[e];
                    r[e] = i
                } else {
                    if (1 === arguments.length)
                        return void 0 === this.options[e] ? null : this.options[e];
                    l[e] = i
                }
            return this._setOptions(l),
            this
        },
        _setOptions: function(e) {
            for (var i in e)
                this._setOption(i, e[i]);
            return this
        },
        _setOption: function(e, i) {
            if ("classes" === e)
                this._setOptionClasses(i);
            if (this.options[e] = i,
            "disabled" === e)
                this._setOptionDisabled(i);
            return this
        },
        _setOptionClasses: function(e) {
            var i, o, r;
            for (i in e)
                if (r = this.classesElementLookup[i],
                e[i] === this.options.classes[i] || !r || !r.length)
                    ;
                else
                    o = A(r.get()),
                    this._removeClass(r, i),
                    o.addClass(this._classes({
                        element: o,
                        keys: i,
                        classes: e,
                        add: !0
                    }))
        },
        _setOptionDisabled: function(e) {
            if (this._toggleClass(this.widget(), this.widgetFullName + "-disabled", null, !!e),
            e)
                this._removeClass(this.hoverable, null, "ui-state-hover"),
                this._removeClass(this.focusable, null, "ui-state-focus")
        },
        enable: function() {
            return this._setOptions({
                disabled: !1
            })
        },
        disable: function() {
            return this._setOptions({
                disabled: !0
            })
        },
        _classes: function(a) {
            var l = []
              , u = this;
            function e(e, i) {
                for (var o, r = 0; r < e.length; r++) {
                    if (o = u.classesElementLookup[e[r]] || A(),
                    a.add)
                        o = A(A.uniqueSort(o.get().concat(a.element.get())));
                    else
                        o = A(o.not(a.element).get());
                    if (u.classesElementLookup[e[r]] = o,
                    l.push(e[r]),
                    i && a.classes[e[r]])
                        l.push(a.classes[e[r]])
                }
            }
            if (a = A.extend({
                element: this.element,
                classes: this.options.classes || {}
            }, a),
            this._on(a.element, {
                remove: "_untrackClassesElement"
            }),
            a.keys)
                e(a.keys.match(/\S+/g) || [], !0);
            if (a.extra)
                e(a.extra.match(/\S+/g) || []);
            return l.join(" ")
        },
        _untrackClassesElement: function(o) {
            var r = this;
            A.each(r.classesElementLookup, function(e, i) {
                if (-1 !== A.inArray(o.target, i))
                    r.classesElementLookup[e] = A(i.not(o.target).get())
            })
        },
        _removeClass: function(e, i, o) {
            return this._toggleClass(e, i, o, !1)
        },
        _addClass: function(e, i, o) {
            return this._toggleClass(e, i, o, !0)
        },
        _toggleClass: function(e, i, o, r) {
            var a = "string" == typeof e || null === e
              , i = {
                extra: a ? i : o,
                keys: a ? e : i,
                element: a ? this.element : e,
                add: r = "boolean" == typeof r ? r : o
            };
            return i.element.toggleClass(this._classes(i), r),
            this
        },
        _on: function(a, l, e) {
            var u, c = this;
            if ("boolean" != typeof a)
                e = l,
                l = a,
                a = !1;
            if (!e)
                e = l,
                l = this.element,
                u = this.widget();
            else
                l = u = A(l),
                this.bindings = this.bindings.add(l);
            A.each(e, function(e, i) {
                function o() {
                    if (!a && (!0 === c.options.disabled || A(this).hasClass("ui-state-disabled")))
                        ;
                    else
                        return ("string" == typeof i ? c[i] : i).apply(c, arguments)
                }
                if ("string" != typeof i)
                    o.guid = i.guid = i.guid || o.guid || A.guid++;
                var e = e.match(/^([\w:-]*)\s*(.*)$/)
                  , r = e[1] + c.eventNamespace
                  , e = e[2];
                if (e)
                    u.on(r, e, o);
                else
                    l.on(r, o)
            })
        },
        _off: function(e, i) {
            i = (i || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace,
            e.off(i).off(i),
            this.bindings = A(this.bindings.not(e).get()),
            this.focusable = A(this.focusable.not(e).get()),
            this.hoverable = A(this.hoverable.not(e).get())
        },
        _delay: function(e, i) {
            var o = this;
            return setTimeout(function() {
                return ("string" == typeof e ? o[e] : e).apply(o, arguments)
            }, i || 0)
        },
        _hoverable: function(e) {
            this.hoverable = this.hoverable.add(e),
            this._on(e, {
                mouseenter: function(e) {
                    this._addClass(A(e.currentTarget), null, "ui-state-hover")
                },
                mouseleave: function(e) {
                    this._removeClass(A(e.currentTarget), null, "ui-state-hover")
                }
            })
        },
        _focusable: function(e) {
            this.focusable = this.focusable.add(e),
            this._on(e, {
                focusin: function(e) {
                    this._addClass(A(e.currentTarget), null, "ui-state-focus")
                },
                focusout: function(e) {
                    this._removeClass(A(e.currentTarget), null, "ui-state-focus")
                }
            })
        },
        _trigger: function(e, i, o) {
            var r, a, l = this.options[e];
            if (o = o || {},
            (i = A.Event(i)).type = (e === this.widgetEventPrefix ? e : this.widgetEventPrefix + e).toLowerCase(),
            i.target = this.element[0],
            a = i.originalEvent)
                for (r in a)
                    if (!(r in i))
                        i[r] = a[r];
            return this.element.trigger(i, o),
            !("function" == typeof l && !1 === l.apply(this.element[0], [i].concat(o)) || i.isDefaultPrevented())
        }
    },
    A.each({
        show: "fadeIn",
        hide: "fadeOut"
    }, function(l, u) {
        A.Widget.prototype["_" + l] = function(i, e, o) {
            if ("string" == typeof e)
                e = {
                    effect: e
                };
            var r, a = !e ? l : !0 === e || "number" == typeof e ? u : e.effect || u;
            if ("number" == typeof (e = e || {}))
                e = {
                    duration: e
                };
            if (r = !A.isEmptyObject(e),
            e.complete = o,
            e.delay)
                i.delay(e.delay);
            if (r && A.effects && A.effects.effect[a])
                i[l](e);
            else if (a !== l && i[a])
                i[a](e.duration, e.easing, o);
            else
                i.queue(function(e) {
                    if (A(this)[l](),
                    o)
                        o.call(i[0]);
                    e()
                })
        }
    }),
    A.widget;
    function I(e, i, o) {
        return [parseFloat(e[0]) * (h.test(e[0]) ? i / 100 : 1), parseFloat(e[1]) * (h.test(e[1]) ? o / 100 : 1)]
    }
    function P(e, i) {
        return parseInt(A.css(e, i), 10) || 0
    }
    E = Math.max,
    M = Math.abs,
    l = /left|center|right/,
    u = /top|center|bottom/,
    c = /[\+\-]\d+(\.[\d]+)?%?/,
    d = /^\w+/,
    h = /%$/,
    i = A.fn.position,
    A.position = {
        scrollbarWidth: function() {
            if (void 0 !== r)
                return r;
            var e, i = A("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"), o = i.children()[0];
            if (A("body").append(i),
            e = o.offsetWidth,
            i.css("overflow", "scroll"),
            e === (o = o.offsetWidth))
                o = i[0].clientWidth;
            return i.remove(),
            r = e - o
        },
        getScrollInfo: function(e) {
            var i = e.isWindow || e.isDocument ? "" : e.element.css("overflow-x")
              , o = e.isWindow || e.isDocument ? "" : e.element.css("overflow-y")
              , i = "scroll" === i || "auto" === i && e.width < e.element[0].scrollWidth;
            return {
                width: "scroll" === o || "auto" === o && e.height < e.element[0].scrollHeight ? A.position.scrollbarWidth() : 0,
                height: i ? A.position.scrollbarWidth() : 0
            }
        },
        getWithinInfo: function(e) {
            var i = A(e || window)
              , o = A.ui.isWindow(i[0])
              , r = !!i[0] && 9 === i[0].nodeType;
            return {
                element: i,
                isWindow: o,
                isDocument: r,
                offset: !o && !r ? A(e).offset() : {
                    left: 0,
                    top: 0
                },
                scrollLeft: i.scrollLeft(),
                scrollTop: i.scrollTop(),
                width: i.outerWidth(),
                height: i.outerHeight()
            }
        }
    },
    A.fn.position = function(f) {
        if (!f || !f.of)
            return i.apply(this, arguments);
        f = A.extend({}, f);
        var g, m, w, v, y, b = A(f.of), C = A.position.getWithinInfo(f.within), T = A.position.getScrollInfo(C), k = (f.collision || "flip").split(" "), x = f.scaling || 1, S = {}, e = function(e) {
            var i = e[0];
            if (9 === i.nodeType)
                return {
                    width: e.width(),
                    height: e.height(),
                    offset: {
                        top: 0,
                        left: 0
                    }
                };
            if (A.ui.isWindow(i))
                return {
                    width: e.width(),
                    height: e.height(),
                    offset: {
                        top: e.scrollTop(),
                        left: e.scrollLeft()
                    }
                };
            if (i.preventDefault)
                return {
                    width: 0,
                    height: 0,
                    offset: {
                        top: i.pageY,
                        left: i.pageX
                    }
                };
            else
                return {
                    width: e.outerWidth(),
                    height: e.outerHeight(),
                    offset: e.offset()
                }
        }(b);
        if (b[0].preventDefault)
            f.at = "left top";
        if (m = e.width,
        w = e.height,
        y = A.extend({}, v = e.offset),
        A.each(["my", "at"], function() {
            var e, i, o = (f[this] || "").split(" ");
            if (1 === o.length)
                o = l.test(o[0]) ? o.concat(["center"]) : u.test(o[0]) ? ["center"].concat(o) : ["center", "center"];
            o[0] = l.test(o[0]) ? o[0] : "center",
            o[1] = u.test(o[1]) ? o[1] : "center",
            e = c.exec(o[0]),
            i = c.exec(o[1]),
            S[this] = [e ? e[0] : 0, i ? i[0] : 0],
            f[this] = [d.exec(o[0])[0], d.exec(o[1])[0]]
        }),
        1 === k.length)
            k[1] = k[0];
        if ("right" === f.at[0])
            y.left += m;
        else if ("center" === f.at[0])
            y.left += m / 2;
        if ("bottom" === f.at[1])
            y.top += w;
        else if ("center" === f.at[1])
            y.top += w / 2;
        return g = I(S.at, m, w),
        y.left += g[0],
        y.top += g[1],
        this.each(function() {
            var o, e, u = A(this), i = u[0].getBoundingClientRect(), c = i.width, d = i.height, i = P(this, "marginLeft"), r = P(this, "marginTop"), a = c + i + P(this, "marginRight") + T.width, l = d + r + P(this, "marginBottom") + T.height, h = A.extend({}, y), p = I(S.my, u.outerWidth(), u.outerHeight());
            if ("right" === f.my[0])
                h.left -= c;
            else if ("center" === f.my[0])
                h.left -= c / 2;
            if ("bottom" === f.my[1])
                h.top -= d;
            else if ("center" === f.my[1])
                h.top -= d / 2;
            if (h.left += p[0],
            h.top += p[1],
            h.left *= 0 === u.offset().left ? x : 1,
            h.top *= 0 === u.position().top ? x : 1,
            o = {
                marginLeft: i,
                marginTop: r
            },
            A.each(["left", "top"], function(e, i) {
                if (A.ui.position[k[e]])
                    A.ui.position[k[e]][i](h, {
                        targetWidth: m,
                        targetHeight: w,
                        elemWidth: c,
                        elemHeight: d,
                        collisionPosition: o,
                        collisionWidth: a,
                        collisionHeight: l,
                        offset: [g[0] + p[0], g[1] + p[1]],
                        my: f.my,
                        at: f.at,
                        within: C,
                        elem: u
                    })
            }),
            f.using)
                e = function(e) {
                    var i = v.left - h.left
                      , o = i + m - c
                      , r = v.top - h.top
                      , a = r + w - d
                      , l = {
                        target: {
                            element: b,
                            left: v.left,
                            top: v.top,
                            width: m,
                            height: w
                        },
                        element: {
                            element: u,
                            left: h.left,
                            top: h.top,
                            width: c,
                            height: d
                        },
                        horizontal: o < 0 ? "left" : 0 < i ? "right" : "center",
                        vertical: a < 0 ? "top" : 0 < r ? "bottom" : "middle"
                    };
                    if (m < c && M(i + o) < m)
                        l.horizontal = "center";
                    if (w < d && M(r + a) < w)
                        l.vertical = "middle";
                    if (E(M(i), M(o)) > E(M(r), M(a)))
                        l.important = "horizontal";
                    else
                        l.important = "vertical";
                    f.using.call(this, e, l)
                }
                ;
            u.offset(A.extend(h, {
                using: e
            }))
        })
    }
    ,
    A.ui.position = {
        fit: {
            left: function(e, i) {
                var o, r = i.within, a = r.isWindow ? r.scrollLeft : r.offset.left, r = r.width, l = e.left - i.collisionPosition.marginLeft, u = a - l, c = l + i.collisionWidth - r - a;
                if (r < i.collisionWidth)
                    if (0 < u && c <= 0)
                        o = e.left + u + i.collisionWidth - r - a,
                        e.left += u - o;
                    else if (0 < c && u <= 0)
                        e.left = a;
                    else if (c < u)
                        e.left = a + r - i.collisionWidth;
                    else
                        e.left = a;
                else if (0 < u)
                    e.left += u;
                else if (0 < c)
                    e.left -= c;
                else
                    e.left = E(e.left - l, e.left)
            },
            top: function(e, i) {
                var o, r = i.within, r = r.isWindow ? r.scrollTop : r.offset.top, a = i.within.height, l = e.top - i.collisionPosition.marginTop, u = r - l, c = l + i.collisionHeight - a - r;
                if (a < i.collisionHeight)
                    if (0 < u && c <= 0)
                        o = e.top + u + i.collisionHeight - a - r,
                        e.top += u - o;
                    else if (0 < c && u <= 0)
                        e.top = r;
                    else if (c < u)
                        e.top = r + a - i.collisionHeight;
                    else
                        e.top = r;
                else if (0 < u)
                    e.top += u;
                else if (0 < c)
                    e.top -= c;
                else
                    e.top = E(e.top - l, e.top)
            }
        },
        flip: {
            left: function(e, i) {
                var o = i.within
                  , r = o.offset.left + o.scrollLeft
                  , a = o.width
                  , o = o.isWindow ? o.scrollLeft : o.offset.left
                  , l = e.left - i.collisionPosition.marginLeft
                  , u = l - o
                  , l = l + i.collisionWidth - a - o
                  , c = "left" === i.my[0] ? -i.elemWidth : "right" === i.my[0] ? i.elemWidth : 0
                  , d = "left" === i.at[0] ? i.targetWidth : "right" === i.at[0] ? -i.targetWidth : 0
                  , h = -2 * i.offset[0];
                if (u < 0) {
                    if ((a = e.left + c + d + h + i.collisionWidth - a - r) < 0 || a < M(u))
                        e.left += c + d + h
                } else if (0 < l)
                    if (0 < (r = e.left - i.collisionPosition.marginLeft + c + d + h - o) || M(r) < l)
                        e.left += c + d + h
            },
            top: function(e, i) {
                var o = i.within
                  , r = o.offset.top + o.scrollTop
                  , a = o.height
                  , o = o.isWindow ? o.scrollTop : o.offset.top
                  , l = e.top - i.collisionPosition.marginTop
                  , u = l - o
                  , l = l + i.collisionHeight - a - o
                  , c = "top" === i.my[1] ? -i.elemHeight : "bottom" === i.my[1] ? i.elemHeight : 0
                  , d = "top" === i.at[1] ? i.targetHeight : "bottom" === i.at[1] ? -i.targetHeight : 0
                  , h = -2 * i.offset[1];
                if (u < 0) {
                    if ((a = e.top + c + d + h + i.collisionHeight - a - r) < 0 || a < M(u))
                        e.top += c + d + h
                } else if (0 < l)
                    if (0 < (r = e.top - i.collisionPosition.marginTop + c + d + h - o) || M(r) < l)
                        e.top += c + d + h
            }
        },
        flipfit: {
            left: function() {
                A.ui.position.flip.left.apply(this, arguments),
                A.ui.position.fit.left.apply(this, arguments)
            },
            top: function() {
                A.ui.position.flip.top.apply(this, arguments),
                A.ui.position.fit.top.apply(this, arguments)
            }
        }
    };
    A.ui.position,
    A.extend(A.expr.pseudos, {
        data: A.expr.createPseudo ? A.expr.createPseudo(function(i) {
            return function(e) {
                return !!A.data(e, i)
            }
        }) : function(e, i, o) {
            return !!A.data(e, o[3])
        }
    }),
    A.fn.extend({
        disableSelection: (e = "onselectstart"in document.createElement("div") ? "selectstart" : "mousedown",
        function() {
            return this.on(e + ".ui-disableSelection", function(e) {
                e.preventDefault()
            })
        }
        ),
        enableSelection: function() {
            return this.off(".ui-disableSelection")
        }
    });
    var e, o, f, g, m, w, v = "ui-effects-", y = "ui-effects-style", b = "ui-effects-animated", jQuery = A;
    A.effects = {
        effect: {}
    },
    function(jQuery, d) {
        var c, h = /^([\-+])=\s*(\d+\.?\d*)/, e = [{
            re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
            parse: function(e) {
                return [e[1], e[2], e[3], e[4]]
            }
        }, {
            re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
            parse: function(e) {
                return [2.55 * e[1], 2.55 * e[2], 2.55 * e[3], e[4]]
            }
        }, {
            re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
            parse: function(e) {
                return [parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16)]
            }
        }, {
            re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
            parse: function(e) {
                return [parseInt(e[1] + e[1], 16), parseInt(e[2] + e[2], 16), parseInt(e[3] + e[3], 16)]
            }
        }, {
            re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
            space: "hsla",
            parse: function(e) {
                return [e[1], e[2] / 100, e[3] / 100, e[4]]
            }
        }], p = jQuery.Color = function(e, i, o, r) {
            return new jQuery.Color.fn.parse(e,i,o,r)
        }
        , f = {
            rgba: {
                props: {
                    red: {
                        idx: 0,
                        type: "byte"
                    },
                    green: {
                        idx: 1,
                        type: "byte"
                    },
                    blue: {
                        idx: 2,
                        type: "byte"
                    }
                }
            },
            hsla: {
                props: {
                    hue: {
                        idx: 0,
                        type: "degrees"
                    },
                    saturation: {
                        idx: 1,
                        type: "percent"
                    },
                    lightness: {
                        idx: 2,
                        type: "percent"
                    }
                }
            }
        }, g = {
            byte: {
                floor: !0,
                max: 255
            },
            percent: {
                max: 1
            },
            degrees: {
                mod: 360,
                floor: !0
            }
        }, u = p.support = {}, i = jQuery("<p>")[0], m = jQuery.each;
        function w(e, i, o) {
            var r = g[i.type] || {};
            if (null == e)
                return o || !i.def ? null : i.def;
            if (e = r.floor ? ~~e : parseFloat(e),
            isNaN(e))
                return i.def;
            if (r.mod)
                return (e + r.mod) % r.mod;
            else
                return e < 0 ? 0 : r.max < e ? r.max : e
        }
        function v(r) {
            var a = p()
              , l = a._rgba = [];
            if (r = r.toLowerCase(),
            m(e, function(e, i) {
                var o = i.re.exec(r)
                  , o = o && i.parse(o)
                  , i = i.space || "rgba";
                if (o)
                    return o = a[i](o),
                    a[f[i].cache] = o[f[i].cache],
                    l = a._rgba = o._rgba,
                    !1
            }),
            l.length) {
                if ("0,0,0,0" === l.join())
                    jQuery.extend(l, c.transparent);
                return a
            }
            return c[r]
        }
        function r(e, i, o) {
            if (6 * (o = (o + 1) % 1) < 1)
                return e + (i - e) * o * 6;
            if (2 * o < 1)
                return i;
            if (3 * o < 2)
                return e + (i - e) * (2 / 3 - o) * 6;
            else
                return e
        }
        i.style.cssText = "background-color:rgba(1,1,1,.5)",
        u.rgba = -1 < i.style.backgroundColor.indexOf("rgba"),
        m(f, function(e, i) {
            i.cache = "_" + e,
            i.props.alpha = {
                idx: 3,
                type: "percent",
                def: 1
            }
        }),
        p.fn = jQuery.extend(p.prototype, {
            parse: function(a, e, i, o) {
                if (a === d)
                    return this._rgba = [null, null, null, null],
                    this;
                if (a.jquery || a.nodeType)
                    a = jQuery(a).css(e),
                    e = d;
                var l = this
                  , r = Array.isArray(a) ? "array" : typeof a
                  , u = this._rgba = [];
                if (e !== d)
                    a = [a, e, i, o],
                    r = "array";
                if ("string" === r)
                    return this.parse(v(a) || c._default);
                if ("array" === r)
                    return m(f.rgba.props, function(e, i) {
                        u[i.idx] = w(a[i.idx], i)
                    }),
                    this;
                if ("object" === r) {
                    if (a instanceof p)
                        m(f, function(e, i) {
                            if (a[i.cache])
                                l[i.cache] = a[i.cache].slice()
                        });
                    else
                        m(f, function(e, o) {
                            var r = o.cache;
                            if (m(o.props, function(e, i) {
                                if (!l[r] && o.to) {
                                    if ("alpha" === e || null == a[e])
                                        return;
                                    l[r] = o.to(l._rgba)
                                }
                                l[r][i.idx] = w(a[e], i, !0)
                            }),
                            l[r] && jQuery.inArray(null, l[r].slice(0, 3)) < 0)
                                if (l[r][3] = 1,
                                o.from)
                                    l._rgba = o.from(l[r])
                        });
                    return this
                }
            },
            is: function(e) {
                var r = p(e)
                  , a = !0
                  , l = this;
                return m(f, function(_, e) {
                    var i, o = r[e.cache];
                    if (o)
                        i = l[e.cache] || e.to && e.to(l._rgba) || [],
                        m(e.props, function(_, e) {
                            if (null != o[e.idx])
                                return a = o[e.idx] === i[e.idx]
                        });
                    return a
                }),
                a
            },
            _space: function() {
                var o = []
                  , r = this;
                return m(f, function(e, i) {
                    if (r[i.cache])
                        o.push(e)
                }),
                o.pop()
            },
            transition: function(e, u) {
                var e = (h = p(e))._space()
                  , i = f[e]
                  , o = 0 === this.alpha() ? p("transparent") : this
                  , c = o[i.cache] || i.to(o._rgba)
                  , d = c.slice()
                  , h = h[i.cache];
                return m(i.props, function(e, i) {
                    var o = i.idx
                      , r = c[o]
                      , a = h[o]
                      , l = g[i.type] || {};
                    if (null === a)
                        ;
                    else if (null === r)
                        d[o] = a;
                    else {
                        if (l.mod)
                            if (a - r > l.mod / 2)
                                r += l.mod;
                            else if (r - a > l.mod / 2)
                                r -= l.mod;
                        d[o] = w((a - r) * u + r, i)
                    }
                }),
                this[e](d)
            },
            blend: function(e) {
                if (1 === this._rgba[3])
                    return this;
                else {
                    var i = this._rgba.slice()
                      , o = i.pop()
                      , r = p(e)._rgba;
                    return p(jQuery.map(i, function(e, i) {
                        return (1 - o) * r[i] + o * e
                    }))
                }
            },
            toRgbaString: function() {
                var e = "rgba("
                  , i = jQuery.map(this._rgba, function(e, i) {
                    return null == e ? 2 < i ? 1 : 0 : e
                });
                if (1 === i[3])
                    i.pop(),
                    e = "rgb(";
                return e + i.join() + ")"
            },
            toHslaString: function() {
                var e = "hsla("
                  , i = jQuery.map(this.hsla(), function(e, i) {
                    if (null == e)
                        e = 2 < i ? 1 : 0;
                    if (i && i < 3)
                        e = Math.round(100 * e) + "%";
                    return e
                });
                if (1 === i[3])
                    i.pop(),
                    e = "hsl(";
                return e + i.join() + ")"
            },
            toHexString: function(e) {
                var i = this._rgba.slice()
                  , o = i.pop();
                if (e)
                    i.push(~~(255 * o));
                return "#" + jQuery.map(i, function(e) {
                    return 1 === (e = (e || 0).toString(16)).length ? "0" + e : e
                }).join("")
            },
            toString: function() {
                return 0 === this._rgba[3] ? "transparent" : this.toRgbaString()
            }
        }),
        p.fn.parse.prototype = p.fn,
        f.hsla.to = function(e) {
            if (null == e[0] || null == e[1] || null == e[2])
                return [null, null, null, e[3]];
            var i, s, o = e[0] / 255, r = e[1] / 255, a = e[2] / 255, e = e[3], l = Math.max(o, r, a), u = Math.min(o, r, a), c = l - u, d = l + u, h = .5 * d;
            if (u === l)
                i = 0;
            else if (o === l)
                i = 60 * (r - a) / c + 360;
            else if (r === l)
                i = 60 * (a - o) / c + 120;
            else
                i = 60 * (o - r) / c + 240;
            if (0 == c)
                s = 0;
            else if (h <= .5)
                s = c / d;
            else
                s = c / (2 - d);
            return [Math.round(i) % 360, s, h, null == e ? 1 : e]
        }
        ,
        f.hsla.from = function(e) {
            if (null == e[0] || null == e[1] || null == e[2])
                return [null, null, null, e[3]];
            else {
                var i = e[0] / 360
                  , s = e[1]
                  , o = e[2]
                  , e = e[3]
                  , s = o <= .5 ? o * (1 + s) : o + s - o * s
                  , o = 2 * o - s;
                return [Math.round(255 * r(o, s, i + 1 / 3)), Math.round(255 * r(o, s, i)), Math.round(255 * r(o, s, i - 1 / 3)), e]
            }
        }
        ,
        m(f, function(c, e) {
            var r = e.props
              , a = e.cache
              , l = e.to
              , u = e.from;
            p.fn[c] = function(e) {
                if (l && !this[a])
                    this[a] = l(this._rgba);
                if (e === d)
                    return this[a].slice();
                var i, o = Array.isArray(e) ? "array" : typeof e;
                if (arr = "array" == o || "object" == o ? e : arguments,
                local = this[a].slice(),
                m(r, function(e, i) {
                    e = arr["object" == o ? e : i.idx];
                    if (null == e)
                        e = local[i.idx];
                    local[i.idx] = w(e, i)
                }),
                u)
                    return (i = p(u(local)))[a] = local,
                    i;
                else
                    return p(local)
            }
            ,
            m(r, function(l, u) {
                if (p.fn[l])
                    ;
                else
                    p.fn[l] = function(e) {
                        var i = typeof e
                          , o = "alpha" === l ? this._hsla ? "hsla" : "rgba" : c
                          , r = this[o]()
                          , a = r[u.idx];
                        if ("undefined" === i)
                            return a;
                        if ("function" === i)
                            i = typeof (e = e.call(this, a));
                        if (null == e && u.empty)
                            return this;
                        if ("string" === i)
                            if (i = h.exec(e))
                                e = a + parseFloat(i[2]) * ("+" === i[1] ? 1 : -1);
                        return r[u.idx] = e,
                        this[o](r)
                    }
            })
        }),
        p.hook = function(e) {
            e = e.split(" ");
            m(e, function(e, l) {
                jQuery.cssHooks[l] = {
                    set: function(e, i) {
                        var o, r, a = "";
                        if ("transparent" !== i && ("string" != typeof i || (o = v(i)))) {
                            if (i = p(o || i),
                            !u.rgba && 1 !== i._rgba[3]) {
                                for (r = "backgroundColor" === l ? e.parentNode : e; ("" === a || "transparent" === a) && r && r.style; )
                                    try {
                                        a = jQuery.css(r, "backgroundColor"),
                                        r = r.parentNode
                                    } catch (e) {}
                                i = i.blend(a && "transparent" !== a ? a : "_default")
                            }
                            i = i.toRgbaString()
                        }
                        try {
                            e.style[l] = i
                        } catch (e) {}
                    }
                },
                jQuery.fx.step[l] = function(e) {
                    if (!e.colorInit)
                        e.start = p(e.elem, l),
                        e.end = p(e.end),
                        e.colorInit = !0;
                    jQuery.cssHooks[l].set(e.elem, e.start.transition(e.end, e.pos))
                }
            })
        }
        ,
        p.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),
        jQuery.cssHooks.borderColor = {
            expand: function(o) {
                var r = {};
                return m(["Top", "Right", "Bottom", "Left"], function(e, i) {
                    r["border" + i + "Color"] = o
                }),
                r
            }
        },
        c = jQuery.Color.names = {
            aqua: "#00ffff",
            black: "#000000",
            blue: "#0000ff",
            fuchsia: "#ff00ff",
            gray: "#808080",
            green: "#008000",
            lime: "#00ff00",
            maroon: "#800000",
            navy: "#000080",
            olive: "#808000",
            purple: "#800080",
            red: "#ff0000",
            silver: "#c0c0c0",
            teal: "#008080",
            white: "#ffffff",
            yellow: "#ffff00",
            transparent: [null, null, null, 0],
            _default: "#ffffff"
        }
    }(jQuery);
    var C, T, k, N = ["add", "remove", "toggle"], $ = {
        border: 1,
        borderBottom: 1,
        borderColor: 1,
        borderLeft: 1,
        borderRight: 1,
        borderTop: 1,
        borderWidth: 1,
        margin: 1,
        padding: 1
    };
    function x(e) {
        var i, o, r = e.ownerDocument.defaultView ? e.ownerDocument.defaultView.getComputedStyle(e, null) : e.currentStyle, a = {};
        if (r && r.length && r[0] && r[r[0]]) {
            for (o = r.length; o--; )
                if ("string" == typeof r[i = r[o]])
                    a[A.camelCase(i)] = r[i]
        } else
            for (i in r)
                if ("string" == typeof r[i])
                    a[i] = r[i];
        return a
    }
    if (A.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"], function(_, i) {
        A.fx.step[i] = function(e) {
            if ("none" !== e.end && !e.setAttr || 1 === e.pos && !e.setAttr)
                jQuery.style(e.elem, i, e.end),
                e.setAttr = !0
        }
    }),
    !A.fn.addBack)
        A.fn.addBack = function(e) {
            return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
        }
        ;
    if (A.effects.animateClass = function(a, e, i, o) {
        var l = A.speed(e, i, o);
        return this.queue(function() {
            var o = A(this)
              , e = o.attr("class") || ""
              , i = (i = l.children ? o.find("*").addBack() : o).map(function() {
                return {
                    el: A(this),
                    start: x(this)
                }
            })
              , r = function() {
                A.each(N, function(e, i) {
                    if (a[i])
                        o[i + "Class"](a[i])
                })
            };
            r(),
            i = i.map(function() {
                return this.end = x(this.el[0]),
                this.diff = function(e, i) {
                    var o, r, a = {};
                    for (o in i)
                        if (r = i[o],
                        e[o] !== r)
                            if (!$[o])
                                if (A.fx.step[o] || !isNaN(parseFloat(r)))
                                    a[o] = r;
                    return a
                }(this.start, this.end),
                this
            }),
            o.attr("class", e),
            i = i.map(function() {
                var e = this
                  , i = A.Deferred()
                  , o = A.extend({}, l, {
                    queue: !1,
                    complete: function() {
                        i.resolve(e)
                    }
                });
                return this.el.animate(this.diff, o),
                i.promise()
            }),
            A.when.apply(A, i.get()).done(function() {
                r(),
                A.each(arguments, function() {
                    var i = this.el;
                    A.each(this.diff, function(e) {
                        i.css(e, "")
                    })
                }),
                l.complete.call(o[0])
            })
        })
    }
    ,
    A.fn.extend({
        addClass: (k = A.fn.addClass,
        function(e, i, o, r) {
            return i ? A.effects.animateClass.call(this, {
                add: e
            }, i, o, r) : k.apply(this, arguments)
        }
        ),
        removeClass: (T = A.fn.removeClass,
        function(e, i, o, r) {
            return 1 < arguments.length ? A.effects.animateClass.call(this, {
                remove: e
            }, i, o, r) : T.apply(this, arguments)
        }
        ),
        toggleClass: (C = A.fn.toggleClass,
        function(e, i, o, r, a) {
            if ("boolean" == typeof i || void 0 === i)
                if (!o)
                    return C.apply(this, arguments);
                else
                    return A.effects.animateClass.call(this, i ? {
                        add: e
                    } : {
                        remove: e
                    }, o, r, a);
            else
                return A.effects.animateClass.call(this, {
                    toggle: e
                }, i, o, r)
        }
        ),
        switchClass: function(e, i, o, r, a) {
            return A.effects.animateClass.call(this, {
                add: i,
                remove: e
            }, o, r, a)
        }
    }),
    A.expr && A.expr.pseudos && A.expr.pseudos.animated)
        A.expr.pseudos.animated = (o = A.expr.pseudos.animated,
        function(e) {
            return !!A(e).data(b) || o(e)
        }
        );
    if (!1 !== A.uiBackCompat)
        A.extend(A.effects, {
            save: function(e, i) {
                for (var o = 0, r = i.length; o < r; o++)
                    if (null !== i[o])
                        e.data(v + i[o], e[0].style[i[o]])
            },
            restore: function(e, i) {
                for (var o, r = 0, a = i.length; r < a; r++)
                    if (null !== i[r])
                        o = e.data(v + i[r]),
                        e.css(i[r], o)
            },
            setMode: function(e, i) {
                if ("toggle" === i)
                    i = e.is(":hidden") ? "show" : "hide";
                return i
            },
            createWrapper: function(o) {
                if (o.parent().is(".ui-effects-wrapper"))
                    return o.parent();
                var r = {
                    width: o.outerWidth(!0),
                    height: o.outerHeight(!0),
                    float: o.css("float")
                }
                  , e = A("<div></div>").addClass("ui-effects-wrapper").css({
                    fontSize: "100%",
                    background: "transparent",
                    border: "none",
                    margin: 0,
                    padding: 0
                })
                  , i = {
                    width: o.width(),
                    height: o.height()
                }
                  , a = document.activeElement;
                try {
                    a.id
                } catch (e) {
                    a = document.body
                }
                if (o.wrap(e),
                o[0] === a || A.contains(o[0], a))
                    A(a).trigger("focus");
                if (e = o.parent(),
                "static" === o.css("position"))
                    e.css({
                        position: "relative"
                    }),
                    o.css({
                        position: "relative"
                    });
                else
                    A.extend(r, {
                        position: o.css("position"),
                        zIndex: o.css("z-index")
                    }),
                    A.each(["top", "left", "bottom", "right"], function(e, i) {
                        if (r[i] = o.css(i),
                        isNaN(parseInt(r[i], 10)))
                            r[i] = "auto"
                    }),
                    o.css({
                        position: "relative",
                        top: 0,
                        left: 0,
                        right: "auto",
                        bottom: "auto"
                    });
                return o.css(i),
                e.css(r).show()
            },
            removeWrapper: function(e) {
                var i = document.activeElement;
                if (e.parent().is(".ui-effects-wrapper"))
                    if (e.parent().replaceWith(e),
                    e[0] === i || A.contains(e[0], i))
                        A(i).trigger("focus");
                return e
            }
        });
    function S(e, i, o, r) {
        if (A.isPlainObject(e))
            e = (i = e).effect;
        if (e = {
            effect: e
        },
        null == i)
            i = {};
        if ("function" == typeof i)
            r = i,
            o = null,
            i = {};
        if ("number" == typeof i || A.fx.speeds[i])
            r = o,
            o = i,
            i = {};
        if ("function" == typeof o)
            r = o,
            o = null;
        if (i)
            A.extend(e, i);
        return o = o || i.duration,
        e.duration = A.fx.off ? 0 : "number" == typeof o ? o : o in A.fx.speeds ? A.fx.speeds[o] : A.fx.speeds._default,
        e.complete = r || i.complete,
        e
    }
    function O(e) {
        if (!e || "number" == typeof e || A.fx.speeds[e])
            return 1;
        if ("string" == typeof e && !A.effects.effect[e])
            return 1;
        if ("function" == typeof e)
            return 1;
        if ("object" == typeof e && !e.effect)
            return 1;
        else
            return
    }
    function z(e, i) {
        var o = i.outerWidth()
          , i = i.outerHeight()
          , e = /^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(e) || ["", 0, o, i, 0];
        return {
            top: parseFloat(e[1]) || 0,
            right: "auto" === e[2] ? o : parseFloat(e[2]),
            bottom: "auto" === e[3] ? i : parseFloat(e[3]),
            left: parseFloat(e[4]) || 0
        }
    }
    A.extend(A.effects, {
        version: "1.12.1",
        define: function(e, i, o) {
            if (!o)
                o = i,
                i = "effect";
            return A.effects.effect[e] = o,
            A.effects.effect[e].mode = i,
            o
        },
        scaledDimensions: function(e, i, o) {
            if (0 === i)
                return {
                    height: 0,
                    width: 0,
                    outerHeight: 0,
                    outerWidth: 0
                };
            else {
                var r = "horizontal" !== o ? (i || 100) / 100 : 1
                  , o = "vertical" !== o ? (i || 100) / 100 : 1;
                return {
                    height: e.height() * o,
                    width: e.width() * r,
                    outerHeight: e.outerHeight() * o,
                    outerWidth: e.outerWidth() * r
                }
            }
        },
        clipToBox: function(e) {
            return {
                width: e.clip.right - e.clip.left,
                height: e.clip.bottom - e.clip.top,
                left: e.clip.left,
                top: e.clip.top
            }
        },
        unshift: function(e, i, o) {
            var r = e.queue();
            if (1 < i)
                r.splice.apply(r, [1, 0].concat(r.splice(i, o)));
            e.dequeue()
        },
        saveStyle: function(e) {
            e.data(y, e[0].style.cssText)
        },
        restoreStyle: function(e) {
            e[0].style.cssText = e.data(y) || "",
            e.removeData(y)
        },
        mode: function(e, i) {
            e = e.is(":hidden");
            if ("toggle" === i)
                i = e ? "show" : "hide";
            if (e ? "hide" === i : "show" === i)
                i = "none";
            return i
        },
        getBaseline: function(e, i) {
            var o, r;
            switch (e[0]) {
            case "top":
                o = 0;
                break;
            case "middle":
                o = .5;
                break;
            case "bottom":
                o = 1;
                break;
            default:
                o = e[0] / i.height
            }
            switch (e[1]) {
            case "left":
                r = 0;
                break;
            case "center":
                r = .5;
                break;
            case "right":
                r = 1;
                break;
            default:
                r = e[1] / i.width
            }
            return {
                x: r,
                y: o
            }
        },
        createPlaceholder: function(e) {
            var i, o = e.css("position"), r = e.position();
            if (e.css({
                marginTop: e.css("marginTop"),
                marginBottom: e.css("marginBottom"),
                marginLeft: e.css("marginLeft"),
                marginRight: e.css("marginRight")
            }).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),
            /^(static|relative)/.test(o))
                o = "absolute",
                i = A("<" + e[0].nodeName + ">").insertAfter(e).css({
                    display: /^(inline|ruby)/.test(e.css("display")) ? "inline-block" : "block",
                    visibility: "hidden",
                    marginTop: e.css("marginTop"),
                    marginBottom: e.css("marginBottom"),
                    marginLeft: e.css("marginLeft"),
                    marginRight: e.css("marginRight"),
                    float: e.css("float")
                }).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),
                e.data(v + "placeholder", i);
            return e.css({
                position: o,
                left: r.left,
                top: r.top
            }),
            i
        },
        removePlaceholder: function(e) {
            var i = v + "placeholder"
              , o = e.data(i);
            if (o)
                o.remove(),
                e.removeData(i)
        },
        cleanUp: function(e) {
            A.effects.restoreStyle(e),
            A.effects.removePlaceholder(e)
        },
        setTransition: function(r, e, a, l) {
            return l = l || {},
            A.each(e, function(e, i) {
                var o = r.cssUnit(i);
                if (0 < o[0])
                    l[i] = o[0] * a + o[1]
            }),
            l
        }
    }),
    A.fn.extend({
        effect: function() {
            function e(e) {
                var i = A(this)
                  , o = A.effects.mode(i, c) || l;
                if (i.data(b, !0),
                d.push(o),
                l && ("show" === o || o === l && "hide" === o))
                    i.show();
                if (!l || "none" !== o)
                    A.effects.saveStyle(i);
                if ("function" == typeof e)
                    e()
            }
            var r = S.apply(this, arguments)
              , a = A.effects.effect[r.effect]
              , l = a.mode
              , i = r.queue
              , o = i || "fx"
              , u = r.complete
              , c = r.mode
              , d = [];
            if (A.fx.off || !a)
                if (c)
                    return this[c](r.duration, u);
                else
                    return this.each(function() {
                        if (u)
                            u.call(this)
                    });
            function h(e) {
                var i = A(this);
                function o() {
                    if ("function" == typeof u)
                        u.call(i[0]);
                    if ("function" == typeof e)
                        e()
                }
                if (r.mode = d.shift(),
                !1 !== A.uiBackCompat && !l)
                    if (i.is(":hidden") ? "hide" === c : "show" === c)
                        i[c](),
                        o();
                    else
                        a.call(i[0], r, o);
                else if ("none" === r.mode)
                    i[c](),
                    o();
                else
                    a.call(i[0], r, function() {
                        if (i.removeData(b),
                        A.effects.cleanUp(i),
                        "hide" === r.mode)
                            i.hide();
                        o()
                    })
            }
            return !1 === i ? this.each(e).each(h) : this.queue(o, e).queue(o, h)
        },
        show: (m = A.fn.show,
        function(e) {
            if (O(e))
                return m.apply(this, arguments);
            else {
                var i = S.apply(this, arguments);
                return i.mode = "show",
                this.effect.call(this, i)
            }
        }
        ),
        hide: (g = A.fn.hide,
        function(e) {
            if (O(e))
                return g.apply(this, arguments);
            else {
                var i = S.apply(this, arguments);
                return i.mode = "hide",
                this.effect.call(this, i)
            }
        }
        ),
        toggle: (f = A.fn.toggle,
        function(e) {
            if (O(e) || "boolean" == typeof e)
                return f.apply(this, arguments);
            else {
                var i = S.apply(this, arguments);
                return i.mode = "toggle",
                this.effect.call(this, i)
            }
        }
        ),
        cssUnit: function(e) {
            var o = this.css(e)
              , r = [];
            return A.each(["em", "px", "%", "pt"], function(e, i) {
                if (0 < o.indexOf(i))
                    r = [parseFloat(o), i]
            }),
            r
        },
        cssClip: function(e) {
            if (e)
                return this.css("clip", "rect(" + e.top + "px " + e.right + "px " + e.bottom + "px " + e.left + "px)");
            else
                return z(this.css("clip"), this)
        },
        transfer: function(e, i) {
            var o = A(this)
              , r = A(e.to)
              , a = "fixed" === r.css("position")
              , l = A("body")
              , u = a ? l.scrollTop() : 0
              , l = a ? l.scrollLeft() : 0
              , c = r.offset()
              , c = {
                top: c.top - u,
                left: c.left - l,
                height: r.innerHeight(),
                width: r.innerWidth()
            }
              , r = o.offset()
              , d = A("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({
                top: r.top - u,
                left: r.left - l,
                height: o.innerHeight(),
                width: o.innerWidth(),
                position: a ? "fixed" : "absolute"
            }).animate(c, e.duration, e.easing, function() {
                if (d.remove(),
                "function" == typeof i)
                    i()
            })
        }
    }),
    A.fx.step.clip = function(e) {
        if (!e.clipInit) {
            if (e.start = A(e.elem).cssClip(),
            "string" == typeof e.end)
                e.end = z(e.end, e.elem);
            e.clipInit = !0
        }
        A(e.elem).cssClip({
            top: e.pos * (e.end.top - e.start.top) + e.start.top,
            right: e.pos * (e.end.right - e.start.right) + e.start.right,
            bottom: e.pos * (e.end.bottom - e.start.bottom) + e.start.bottom,
            left: e.pos * (e.end.left - e.start.left) + e.start.left
        })
    }
    ,
    w = {},
    A.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function(i, e) {
        w[e] = function(e) {
            return Math.pow(e, i + 2)
        }
    }),
    A.extend(w, {
        Sine: function(e) {
            return 1 - Math.cos(e * Math.PI / 2)
        },
        Circ: function(e) {
            return 1 - Math.sqrt(1 - e * e)
        },
        Elastic: function(e) {
            return 0 === e || 1 === e ? e : -Math.pow(2, 8 * (e - 1)) * Math.sin((80 * (e - 1) - 7.5) * Math.PI / 15)
        },
        Back: function(e) {
            return e * e * (3 * e - 2)
        },
        Bounce: function(e) {
            for (var i, o = 4; e < ((i = Math.pow(2, --o)) - 1) / 11; )
                ;
            return 1 / Math.pow(4, 3 - o) - 7.5625 * Math.pow((3 * i - 2) / 22 - e, 2)
        }
    }),
    A.each(w, function(e, i) {
        A.easing["easeIn" + e] = i,
        A.easing["easeOut" + e] = function(e) {
            return 1 - i(1 - e)
        }
        ,
        A.easing["easeInOut" + e] = function(e) {
            return e < .5 ? i(2 * e) / 2 : 1 - i(-2 * e + 2) / 2
        }
    });
    A.effects,
    A.effects.define("blind", "hide", function(e, i) {
        var o = {
            up: ["bottom", "top"],
            vertical: ["bottom", "top"],
            down: ["top", "bottom"],
            left: ["right", "left"],
            horizontal: ["right", "left"],
            right: ["left", "right"]
        }
          , r = A(this)
          , a = e.direction || "up"
          , l = r.cssClip()
          , u = {
            clip: A.extend({}, l)
        }
          , c = A.effects.createPlaceholder(r);
        if (u.clip[o[a][0]] = u.clip[o[a][1]],
        "show" === e.mode) {
            if (r.cssClip(u.clip),
            c)
                c.css(A.effects.clipToBox(u));
            u.clip = l
        }
        if (c)
            c.animate(A.effects.clipToBox(u), e.duration, e.easing);
        r.animate(u, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: i
        })
    }),
    A.effects.define("bounce", function(e, i) {
        var o, r, a = A(this), l = e.mode, u = "hide" === l, l = "show" === l, c = e.direction || "up", d = e.distance, h = e.times || 5, p = 2 * h + (l || u ? 1 : 0), f = e.duration / p, g = e.easing, m = "up" === c || "down" === c ? "top" : "left", w = "up" === c || "left" === c, v = 0, e = a.queue().length;
        if (A.effects.createPlaceholder(a),
        c = a.css(m),
        !d)
            d = a["top" == m ? "outerHeight" : "outerWidth"]() / 3;
        if (l)
            (r = {
                opacity: 1
            })[m] = c,
            a.css("opacity", 0).css(m, w ? 2 * -d : 2 * d).animate(r, f, g);
        if (u)
            d /= Math.pow(2, h - 1);
        for ((r = {})[m] = c; v < h; v++)
            (o = {})[m] = (w ? "-=" : "+=") + d,
            a.animate(o, f, g).animate(r, f, g),
            d = u ? 2 * d : d / 2;
        if (u)
            (o = {
                opacity: 0
            })[m] = (w ? "-=" : "+=") + d,
            a.animate(o, f, g);
        a.queue(i),
        A.effects.unshift(a, e, 1 + p)
    }),
    A.effects.define("clip", "hide", function(e, i) {
        var o = {}
          , r = A(this)
          , a = e.direction || "vertical"
          , l = "both" === a
          , u = l || "horizontal" === a
          , l = l || "vertical" === a
          , a = r.cssClip();
        if (o.clip = {
            top: l ? (a.bottom - a.top) / 2 : a.top,
            right: u ? (a.right - a.left) / 2 : a.right,
            bottom: l ? (a.bottom - a.top) / 2 : a.bottom,
            left: u ? (a.right - a.left) / 2 : a.left
        },
        A.effects.createPlaceholder(r),
        "show" === e.mode)
            r.cssClip(o.clip),
            o.clip = a;
        r.animate(o, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: i
        })
    }),
    A.effects.define("drop", "hide", function(e, i) {
        var o, r = A(this), a = "show" === e.mode, l = e.direction || "left", u = "up" === l || "down" === l ? "top" : "left", l = "up" === l || "left" === l ? "-=" : "+=", c = "+=" == l ? "-=" : "+=", d = {
            opacity: 0
        };
        if (A.effects.createPlaceholder(r),
        o = e.distance || r["top" == u ? "outerHeight" : "outerWidth"](!0) / 2,
        d[u] = l + o,
        a)
            r.css(d),
            d[u] = c + o,
            d.opacity = 1;
        r.animate(d, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: i
        })
    }),
    A.effects.define("explode", "hide", function(e, i) {
        var o, r, a, l, u, c, d = e.pieces ? Math.round(Math.sqrt(e.pieces)) : 3, h = d, p = A(this), f = "show" === e.mode, g = p.show().css("visibility", "hidden").offset(), m = Math.ceil(p.outerWidth() / h), w = Math.ceil(p.outerHeight() / d), v = [];
        function y() {
            if (v.push(this),
            v.length === d * h)
                p.css({
                    visibility: "visible"
                }),
                A(v).remove(),
                i()
        }
        for (o = 0; o < d; o++)
            for (l = g.top + o * w,
            c = o - (d - 1) / 2,
            r = 0; r < h; r++)
                a = g.left + r * m,
                u = r - (h - 1) / 2,
                p.clone().appendTo("body").wrap("<div></div>").css({
                    position: "absolute",
                    visibility: "visible",
                    left: -r * m,
                    top: -o * w
                }).parent().addClass("ui-effects-explode").css({
                    position: "absolute",
                    overflow: "hidden",
                    width: m,
                    height: w,
                    left: a + (f ? u * m : 0),
                    top: l + (f ? c * w : 0),
                    opacity: f ? 0 : 1
                }).animate({
                    left: a + (f ? 0 : u * m),
                    top: l + (f ? 0 : c * w),
                    opacity: f ? 1 : 0
                }, e.duration || 500, e.easing, y)
    }),
    A.effects.define("fade", "toggle", function(e, i) {
        var o = "show" === e.mode;
        A(this).css("opacity", o ? 0 : 1).animate({
            opacity: o ? 1 : 0
        }, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: i
        })
    }),
    A.effects.define("fold", "hide", function(i, e) {
        var o = A(this)
          , r = i.mode
          , a = "show" === r
          , r = "hide" === r
          , l = i.size || 15
          , u = /([0-9]+)%/.exec(l)
          , c = !!i.horizFirst ? ["right", "bottom"] : ["bottom", "right"]
          , d = i.duration / 2
          , h = A.effects.createPlaceholder(o)
          , p = o.cssClip()
          , f = {
            clip: A.extend({}, p)
        }
          , g = {
            clip: A.extend({}, p)
        }
          , m = [p[c[0]], p[c[1]]]
          , w = o.queue().length;
        if (u)
            l = parseInt(u[1], 10) / 100 * m[r ? 0 : 1];
        if (f.clip[c[0]] = l,
        g.clip[c[0]] = l,
        g.clip[c[1]] = 0,
        a) {
            if (o.cssClip(g.clip),
            h)
                h.css(A.effects.clipToBox(g));
            g.clip = p
        }
        o.queue(function(e) {
            if (h)
                h.animate(A.effects.clipToBox(f), d, i.easing).animate(A.effects.clipToBox(g), d, i.easing);
            e()
        }).animate(f, d, i.easing).animate(g, d, i.easing).queue(e),
        A.effects.unshift(o, w, 4)
    }),
    A.effects.define("highlight", "show", function(e, i) {
        var o = A(this)
          , r = {
            backgroundColor: o.css("backgroundColor")
        };
        if ("hide" === e.mode)
            r.opacity = 0;
        A.effects.saveStyle(o),
        o.css({
            backgroundImage: "none",
            backgroundColor: e.color || "#ffff99"
        }).animate(r, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: i
        })
    }),
    A.effects.define("size", function(r, i) {
        var a, o = A(this), e = ["fontSize"], l = ["borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom"], u = ["borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"], c = r.mode, d = "effect" !== c, h = r.scale || "both", p = r.origin || ["middle", "center"], f = o.css("position"), g = o.position(), m = A.effects.scaledDimensions(o), w = r.from || m, v = r.to || A.effects.scaledDimensions(o, 0);
        if (A.effects.createPlaceholder(o),
        "show" === c)
            c = w,
            w = v,
            v = c;
        if (a = {
            from: {
                y: w.height / m.height,
                x: w.width / m.width
            },
            to: {
                y: v.height / m.height,
                x: v.width / m.width
            }
        },
        "box" === h || "both" === h) {
            if (a.from.y !== a.to.y)
                w = A.effects.setTransition(o, l, a.from.y, w),
                v = A.effects.setTransition(o, l, a.to.y, v);
            if (a.from.x !== a.to.x)
                w = A.effects.setTransition(o, u, a.from.x, w),
                v = A.effects.setTransition(o, u, a.to.x, v)
        }
        if ("content" === h || "both" === h)
            if (a.from.y !== a.to.y)
                w = A.effects.setTransition(o, e, a.from.y, w),
                v = A.effects.setTransition(o, e, a.to.y, v);
        if (p)
            c = A.effects.getBaseline(p, m),
            w.top = (m.outerHeight - w.outerHeight) * c.y + g.top,
            w.left = (m.outerWidth - w.outerWidth) * c.x + g.left,
            v.top = (m.outerHeight - v.outerHeight) * c.y + g.top,
            v.left = (m.outerWidth - v.outerWidth) * c.x + g.left;
        if (o.css(w),
        "content" === h || "both" === h)
            l = l.concat(["marginTop", "marginBottom"]).concat(e),
            u = u.concat(["marginLeft", "marginRight"]),
            o.find("*[width]").each(function() {
                var e = A(this)
                  , i = A.effects.scaledDimensions(e)
                  , o = {
                    height: i.height * a.from.y,
                    width: i.width * a.from.x,
                    outerHeight: i.outerHeight * a.from.y,
                    outerWidth: i.outerWidth * a.from.x
                }
                  , i = {
                    height: i.height * a.to.y,
                    width: i.width * a.to.x,
                    outerHeight: i.height * a.to.y,
                    outerWidth: i.width * a.to.x
                };
                if (a.from.y !== a.to.y)
                    o = A.effects.setTransition(e, l, a.from.y, o),
                    i = A.effects.setTransition(e, l, a.to.y, i);
                if (a.from.x !== a.to.x)
                    o = A.effects.setTransition(e, u, a.from.x, o),
                    i = A.effects.setTransition(e, u, a.to.x, i);
                if (d)
                    A.effects.saveStyle(e);
                e.css(o),
                e.animate(i, r.duration, r.easing, function() {
                    if (d)
                        A.effects.restoreStyle(e)
                })
            });
        o.animate(v, {
            queue: !1,
            duration: r.duration,
            easing: r.easing,
            complete: function() {
                var e = o.offset();
                if (0 === v.opacity)
                    o.css("opacity", w.opacity);
                if (!d)
                    o.css("position", "static" === f ? "relative" : f).offset(e),
                    A.effects.saveStyle(o);
                i()
            }
        })
    }),
    A.effects.define("scale", function(e, i) {
        var o = A(this)
          , r = e.mode
          , r = parseInt(e.percent, 10) || (0 === parseInt(e.percent, 10) ? 0 : "effect" !== r ? 0 : 100)
          , o = A.extend(!0, {
            from: A.effects.scaledDimensions(o),
            to: A.effects.scaledDimensions(o, r, e.direction || "both"),
            origin: e.origin || ["middle", "center"]
        }, e);
        if (e.fade)
            o.from.opacity = 1,
            o.to.opacity = 0;
        A.effects.effect.size.call(this, o, i)
    }),
    A.effects.define("puff", "hide", function(e, i) {
        e = A.extend(!0, {}, e, {
            fade: !0,
            percent: parseInt(e.percent, 10) || 150
        });
        A.effects.effect.scale.call(this, e, i)
    }),
    A.effects.define("pulsate", "show", function(e, i) {
        var o = A(this)
          , r = e.mode
          , a = "show" === r
          , l = 2 * (e.times || 5) + (a || "hide" === r ? 1 : 0)
          , u = e.duration / l
          , c = 0
          , d = 1
          , r = o.queue().length;
        if (a || !o.is(":visible"))
            o.css("opacity", 0).show(),
            c = 1;
        for (; d < l; d++)
            o.animate({
                opacity: c
            }, u, e.easing),
            c = 1 - c;
        o.animate({
            opacity: c
        }, u, e.easing),
        o.queue(i),
        A.effects.unshift(o, r, 1 + l)
    }),
    A.effects.define("shake", function(e, i) {
        var o = 1
          , r = A(this)
          , a = e.direction || "left"
          , l = e.distance || 20
          , u = e.times || 3
          , c = 2 * u + 1
          , d = Math.round(e.duration / c)
          , h = "up" === a || "down" === a ? "top" : "left"
          , a = "up" === a || "left" === a
          , p = {}
          , f = {}
          , g = {}
          , m = r.queue().length;
        for (A.effects.createPlaceholder(r),
        p[h] = (a ? "-=" : "+=") + l,
        f[h] = (a ? "+=" : "-=") + 2 * l,
        g[h] = (a ? "-=" : "+=") + 2 * l,
        r.animate(p, d, e.easing); o < u; o++)
            r.animate(f, d, e.easing).animate(g, d, e.easing);
        r.animate(f, d, e.easing).animate(p, d / 2, e.easing).queue(i),
        A.effects.unshift(r, m, 1 + c)
    }),
    A.effects.define("slide", "show", function(e, i) {
        var o, r, a = A(this), l = {
            up: ["bottom", "top"],
            down: ["top", "bottom"],
            left: ["right", "left"],
            right: ["left", "right"]
        }, u = e.mode, c = e.direction || "left", d = "up" === c || "down" === c ? "top" : "left", h = "up" === c || "left" === c, p = e.distance || a["top" == d ? "outerHeight" : "outerWidth"](!0), f = {};
        if (A.effects.createPlaceholder(a),
        o = a.cssClip(),
        r = a.position()[d],
        f[d] = (h ? -1 : 1) * p + r,
        f.clip = a.cssClip(),
        f.clip[l[c][1]] = f.clip[l[c][0]],
        "show" === u)
            a.cssClip(f.clip),
            a.css(d, f[d]),
            f.clip = o,
            f[d] = r;
        a.animate(f, {
            queue: !1,
            duration: e.duration,
            easing: e.easing,
            complete: i
        })
    });
    if (!1 !== A.uiBackCompat)
        A.effects.define("transfer", function(e, i) {
            A(this).transfer(e, i)
        });
    A.ui.focusable = function(e, i) {
        var o, r, a, l = e.nodeName.toLowerCase();
        if ("area" === l)
            if (a = (o = e.parentNode).name,
            e.href && a && "map" === o.nodeName.toLowerCase())
                return 0 < (o = A("img[usemap='#" + a + "']")).length && o.is(":visible");
            else
                return !1;
        if (/^(input|select|textarea|button|object)$/.test(l)) {
            if (r = !e.disabled)
                if (a = A(e).closest("fieldset")[0])
                    r = !a.disabled
        } else if ("a" === l)
            r = e.href || i;
        else
            r = i;
        return r && A(e).is(":visible") && function(e) {
            var i = e.css("visibility");
            for (; "inherit" === i; )
                e = e.parent(),
                i = e.css("visibility");
            return "hidden" !== i
        }(A(e))
    }
    ,
    A.extend(A.expr.pseudos, {
        focusable: function(e) {
            return A.ui.focusable(e, null != A.attr(e, "tabindex"))
        }
    });
    A.ui.focusable,
    A.fn.form = function() {
        return "string" == typeof this[0].form ? this.closest("form") : A(this[0].form)
    }
    ,
    A.ui.formResetMixin = {
        _formResetHandler: function() {
            var i = A(this);
            setTimeout(function() {
                var e = i.data("ui-form-reset-instances");
                A.each(e, function() {
                    this.refresh()
                })
            })
        },
        _bindFormResetHandler: function() {
            if (this.form = this.element.form(),
            !this.form.length)
                ;
            else {
                var e = this.form.data("ui-form-reset-instances") || [];
                if (!e.length)
                    this.form.on("reset.ui-form-reset", this._formResetHandler);
                e.push(this),
                this.form.data("ui-form-reset-instances", e)
            }
        },
        _unbindFormResetHandler: function() {
            if (!this.form.length)
                ;
            else {
                var e = this.form.data("ui-form-reset-instances");
                if (e.splice(A.inArray(this, e), 1),
                e.length)
                    this.form.data("ui-form-reset-instances", e);
                else
                    this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")
            }
        }
    };
    if ("1.7" === A.fn.jquery.substring(0, 3))
        A.each(["Width", "Height"], function(e, o) {
            var a = "Width" === o ? ["Left", "Right"] : ["Top", "Bottom"]
              , r = o.toLowerCase()
              , l = {
                innerWidth: A.fn.innerWidth,
                innerHeight: A.fn.innerHeight,
                outerWidth: A.fn.outerWidth,
                outerHeight: A.fn.outerHeight
            };
            function u(e, i, o, r) {
                return A.each(a, function() {
                    if (i -= parseFloat(A.css(e, "padding" + this)) || 0,
                    o)
                        i -= parseFloat(A.css(e, "border" + this + "Width")) || 0;
                    if (r)
                        i -= parseFloat(A.css(e, "margin" + this)) || 0
                }),
                i
            }
            A.fn["inner" + o] = function(e) {
                if (void 0 === e)
                    return l["inner" + o].call(this);
                else
                    return this.each(function() {
                        A(this).css(r, u(this, e) + "px")
                    })
            }
            ,
            A.fn["outer" + o] = function(e, i) {
                if ("number" != typeof e)
                    return l["outer" + o].call(this, e);
                else
                    return this.each(function() {
                        A(this).css(r, u(this, e, !0, i) + "px")
                    })
            }
        }),
        A.fn.addBack = function(e) {
            return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
        }
        ;
    A.ui.keyCode = {
        BACKSPACE: 8,
        COMMA: 188,
        DELETE: 46,
        DOWN: 40,
        END: 35,
        ENTER: 13,
        ESCAPE: 27,
        HOME: 36,
        LEFT: 37,
        PAGE_DOWN: 34,
        PAGE_UP: 33,
        PERIOD: 190,
        RIGHT: 39,
        SPACE: 32,
        TAB: 9,
        UP: 38
    },
    A.ui.escapeSelector = (q = /([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,
    function(e) {
        return e.replace(q, "\\$1")
    }
    ),
    A.fn.labels = function() {
        var e, i, o;
        if (this[0].labels && this[0].labels.length)
            return this.pushStack(this[0].labels);
        if (i = this.eq(0).parents("label"),
        e = this.attr("id"))
            o = (o = this.eq(0).parents().last()).add(o.length ? o.siblings() : this.siblings()),
            e = "label[for='" + A.ui.escapeSelector(e) + "']",
            i = i.add(o.find(e).addBack(e));
        return this.pushStack(i)
    }
    ,
    A.fn.scrollParent = function(e) {
        var i = this.css("position")
          , o = "absolute" === i
          , r = e ? /(auto|scroll|hidden)/ : /(auto|scroll)/
          , e = this.parents().filter(function() {
            var e = A(this);
            if (o && "static" === e.css("position"))
                return !1;
            else
                return r.test(e.css("overflow") + e.css("overflow-y") + e.css("overflow-x"))
        }).eq(0);
        return "fixed" === i || !e.length ? A(this[0].ownerDocument || document) : e
    }
    ,
    A.extend(A.expr.pseudos, {
        tabbable: function(e) {
            var i = A.attr(e, "tabindex")
              , o = null != i;
            return (!o || 0 <= i) && A.ui.focusable(e, o)
        }
    }),
    A.fn.extend({
        uniqueId: (H = 0,
        function() {
            return this.each(function() {
                if (!this.id)
                    this.id = "ui-id-" + ++H
            })
        }
        ),
        removeUniqueId: function() {
            return this.each(function() {
                if (/^ui-id-\d+$/.test(this.id))
                    A(this).removeAttr("id")
            })
        }
    }),
    A.widget("ui.accordion", {
        version: "1.12.1",
        options: {
            active: 0,
            animate: {},
            classes: {
                "ui-accordion-header": "ui-corner-top",
                "ui-accordion-header-collapsed": "ui-corner-all",
                "ui-accordion-content": "ui-corner-bottom"
            },
            collapsible: !1,
            event: "click",
            header: "> li > :first-child, > :not(li):even",
            heightStyle: "auto",
            icons: {
                activeHeader: "ui-icon-triangle-1-s",
                header: "ui-icon-triangle-1-e"
            },
            activate: null,
            beforeActivate: null
        },
        hideProps: {
            borderTopWidth: "hide",
            borderBottomWidth: "hide",
            paddingTop: "hide",
            paddingBottom: "hide",
            height: "hide"
        },
        showProps: {
            borderTopWidth: "show",
            borderBottomWidth: "show",
            paddingTop: "show",
            paddingBottom: "show",
            height: "show"
        },
        _create: function() {
            var e = this.options;
            if (this.prevShow = this.prevHide = A(),
            this._addClass("ui-accordion", "ui-widget ui-helper-reset"),
            this.element.attr("role", "tablist"),
            !e.collapsible && (!1 === e.active || null == e.active))
                e.active = 0;
            if (this._processPanels(),
            e.active < 0)
                e.active += this.headers.length;
            this._refresh()
        },
        _getCreateEventData: function() {
            return {
                header: this.active,
                panel: !this.active.length ? A() : this.active.next()
            }
        },
        _createIcons: function() {
            var e, i = this.options.icons;
            if (i)
                e = A("<span>"),
                this._addClass(e, "ui-accordion-header-icon", "ui-icon " + i.header),
                e.prependTo(this.headers),
                e = this.active.children(".ui-accordion-header-icon"),
                this._removeClass(e, i.header)._addClass(e, null, i.activeHeader)._addClass(this.headers, "ui-accordion-icons")
        },
        _destroyIcons: function() {
            this._removeClass(this.headers, "ui-accordion-icons"),
            this.headers.children(".ui-accordion-header-icon").remove()
        },
        _destroy: function() {
            var e;
            if (this.element.removeAttr("role"),
            this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),
            this._destroyIcons(),
            e = this.headers.next().css("display", "").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),
            "content" !== this.options.heightStyle)
                e.css("height", "")
        },
        _setOption: function(e, i) {
            if ("active" === e)
                this._activate(i);
            else {
                if ("event" === e) {
                    if (this.options.event)
                        this._off(this.headers, this.options.event);
                    this._setupEvents(i)
                }
                if (this._super(e, i),
                "collapsible" === e && !i && !1 === this.options.active)
                    this._activate(0);
                if ("icons" === e)
                    if (this._destroyIcons(),
                    i)
                        this._createIcons()
            }
        },
        _setOptionDisabled: function(e) {
            this._super(e),
            this.element.attr("aria-disabled", e),
            this._toggleClass(null, "ui-state-disabled", !!e),
            this._toggleClass(this.headers.add(this.headers.next()), null, "ui-state-disabled", !!e)
        },
        _keydown: function(e) {
            if (e.altKey || e.ctrlKey)
                ;
            else {
                var i = A.ui.keyCode
                  , o = this.headers.length
                  , r = this.headers.index(e.target)
                  , a = !1;
                switch (e.keyCode) {
                case i.RIGHT:
                case i.DOWN:
                    a = this.headers[(r + 1) % o];
                    break;
                case i.LEFT:
                case i.UP:
                    a = this.headers[(r - 1 + o) % o];
                    break;
                case i.SPACE:
                case i.ENTER:
                    this._eventHandler(e);
                    break;
                case i.HOME:
                    a = this.headers[0];
                    break;
                case i.END:
                    a = this.headers[o - 1]
                }
                if (a)
                    A(e.target).attr("tabIndex", -1),
                    A(a).attr("tabIndex", 0),
                    A(a).trigger("focus"),
                    e.preventDefault()
            }
        },
        _panelKeyDown: function(e) {
            if (e.keyCode === A.ui.keyCode.UP && e.ctrlKey)
                A(e.currentTarget).prev().trigger("focus")
        },
        refresh: function() {
            var e = this.options;
            if (this._processPanels(),
            !1 === e.active && !0 === e.collapsible || !this.headers.length)
                e.active = !1,
                this.active = A();
            else if (!1 === e.active)
                this._activate(0);
            else if (this.active.length && !A.contains(this.element[0], this.active[0]))
                if (this.headers.length === this.headers.find(".ui-state-disabled").length)
                    e.active = !1,
                    this.active = A();
                else
                    this._activate(Math.max(0, e.active - 1));
            else
                e.active = this.headers.index(this.active);
            this._destroyIcons(),
            this._refresh()
        },
        _processPanels: function() {
            var e = this.headers
              , i = this.panels;
            if (this.headers = this.element.find(this.options.header),
            this._addClass(this.headers, "ui-accordion-header ui-accordion-header-collapsed", "ui-state-default"),
            this.panels = this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),
            this._addClass(this.panels, "ui-accordion-content", "ui-helper-reset ui-widget-content"),
            i)
                this._off(e.not(this.headers)),
                this._off(i.not(this.panels))
        },
        _refresh: function() {
            var o, e = this.options, i = e.heightStyle, r = this.element.parent();
            if (this.active = this._findActive(e.active),
            this._addClass(this.active, "ui-accordion-header-active", "ui-state-active")._removeClass(this.active, "ui-accordion-header-collapsed"),
            this._addClass(this.active.next(), "ui-accordion-content-active"),
            this.active.next().show(),
            this.headers.attr("role", "tab").each(function() {
                var e = A(this)
                  , i = e.uniqueId().attr("id")
                  , o = e.next()
                  , r = o.uniqueId().attr("id");
                e.attr("aria-controls", r),
                o.attr("aria-labelledby", i)
            }).next().attr("role", "tabpanel"),
            this.headers.not(this.active).attr({
                "aria-selected": "false",
                "aria-expanded": "false",
                tabIndex: -1
            }).next().attr({
                "aria-hidden": "true"
            }).hide(),
            !this.active.length)
                this.headers.eq(0).attr("tabIndex", 0);
            else
                this.active.attr({
                    "aria-selected": "true",
                    "aria-expanded": "true",
                    tabIndex: 0
                }).next().attr({
                    "aria-hidden": "false"
                });
            if (this._createIcons(),
            this._setupEvents(e.event),
            "fill" === i)
                o = r.height(),
                this.element.siblings(":visible").each(function() {
                    var e = A(this)
                      , i = e.css("position");
                    if ("absolute" === i || "fixed" === i)
                        ;
                    else
                        o -= e.outerHeight(!0)
                }),
                this.headers.each(function() {
                    o -= A(this).outerHeight(!0)
                }),
                this.headers.next().each(function() {
                    A(this).height(Math.max(0, o - A(this).innerHeight() + A(this).height()))
                }).css("overflow", "auto");
            else if ("auto" === i)
                o = 0,
                this.headers.next().each(function() {
                    var e = A(this).is(":visible");
                    if (!e)
                        A(this).show();
                    if (o = Math.max(o, A(this).css("height", "").height()),
                    !e)
                        A(this).hide()
                }).height(o)
        },
        _activate: function(e) {
            e = this._findActive(e)[0];
            if (e === this.active[0])
                ;
            else
                e = e || this.active[0],
                this._eventHandler({
                    target: e,
                    currentTarget: e,
                    preventDefault: A.noop
                })
        },
        _findActive: function(e) {
            return "number" == typeof e ? this.headers.eq(e) : A()
        },
        _setupEvents: function(e) {
            var o = {
                keydown: "_keydown"
            };
            if (e)
                A.each(e.split(" "), function(e, i) {
                    o[i] = "_eventHandler"
                });
            this._off(this.headers.add(this.headers.next())),
            this._on(this.headers, o),
            this._on(this.headers.next(), {
                keydown: "_panelKeyDown"
            }),
            this._hoverable(this.headers),
            this._focusable(this.headers)
        },
        _eventHandler: function(e) {
            var i = this.options
              , o = this.active
              , r = A(e.currentTarget)
              , a = r[0] === o[0]
              , l = a && i.collapsible
              , u = l ? A() : r.next()
              , c = o.next()
              , c = {
                oldHeader: o,
                oldPanel: c,
                newHeader: l ? A() : r,
                newPanel: u
            };
            if (e.preventDefault(),
            a && !i.collapsible || !1 === this._trigger("beforeActivate", e, c))
                ;
            else {
                if (i.active = l ? !1 : this.headers.index(r),
                this.active = a ? A() : r,
                this._toggle(c),
                this._removeClass(o, "ui-accordion-header-active", "ui-state-active"),
                i.icons)
                    u = o.children(".ui-accordion-header-icon"),
                    this._removeClass(u, null, i.icons.activeHeader)._addClass(u, null, i.icons.header);
                if (!a) {
                    if (this._removeClass(r, "ui-accordion-header-collapsed")._addClass(r, "ui-accordion-header-active", "ui-state-active"),
                    i.icons)
                        e = r.children(".ui-accordion-header-icon"),
                        this._removeClass(e, null, i.icons.header)._addClass(e, null, i.icons.activeHeader);
                    this._addClass(r.next(), "ui-accordion-content-active")
                }
            }
        },
        _toggle: function(e) {
            var i = e.newPanel
              , o = this.prevShow.length ? this.prevShow : e.oldPanel;
            if (this.prevShow.add(this.prevHide).stop(!0, !0),
            this.prevShow = i,
            this.prevHide = o,
            this.options.animate)
                this._animate(i, o, e);
            else
                o.hide(),
                i.show(),
                this._toggleComplete(e);
            if (o.attr({
                "aria-hidden": "true"
            }),
            o.prev().attr({
                "aria-selected": "false",
                "aria-expanded": "false"
            }),
            i.length && o.length)
                o.prev().attr({
                    tabIndex: -1,
                    "aria-expanded": "false"
                });
            else if (i.length)
                this.headers.filter(function() {
                    return 0 === parseInt(A(this).attr("tabIndex"), 10)
                }).attr("tabIndex", -1);
            i.attr("aria-hidden", "false").prev().attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            })
        },
        _animate: function(e, o, i) {
            function r() {
                c._toggleComplete(i)
            }
            var a, l, u, c = this, d = 0, h = e.css("box-sizing"), p = e.length && (!o.length || e.index() < o.index()), f = this.options.animate || {}, p = p && f.down || f;
            if ("number" == typeof p)
                u = p;
            if ("string" == typeof p)
                l = p;
            if (l = l || p.easing || f.easing,
            u = u || p.duration || f.duration,
            !o.length)
                return e.animate(this.showProps, u, l, r);
            if (!e.length)
                return o.animate(this.hideProps, u, l, r);
            a = e.show().outerHeight(),
            o.animate(this.hideProps, {
                duration: u,
                easing: l,
                step: function(e, i) {
                    i.now = Math.round(e)
                }
            }),
            e.hide().animate(this.showProps, {
                duration: u,
                easing: l,
                complete: r,
                step: function(e, i) {
                    if (i.now = Math.round(e),
                    "height" !== i.prop) {
                        if ("content-box" === h)
                            d += i.now
                    } else if ("content" !== c.options.heightStyle)
                        i.now = Math.round(a - o.outerHeight() - d),
                        d = 0
                }
            })
        },
        _toggleComplete: function(e) {
            var i = e.oldPanel
              , o = i.prev();
            if (this._removeClass(i, "ui-accordion-content-active"),
            this._removeClass(o, "ui-accordion-header-active")._addClass(o, "ui-accordion-header-collapsed"),
            i.length)
                i.parent()[0].className = i.parent()[0].className;
            this._trigger("activate", null, e)
        }
    }),
    A.ui.safeActiveElement = function(i) {
        var o;
        try {
            o = i.activeElement
        } catch (e) {
            o = i.body
        }
        if (!o)
            o = i.body;
        if (!o.nodeName)
            o = i.body;
        return o
    }
    ,
    A.widget("ui.menu", {
        version: "1.12.1",
        defaultElement: "<ul>",
        delay: 300,
        options: {
            icons: {
                submenu: "ui-icon-caret-1-e"
            },
            items: "> *",
            menus: "ul",
            position: {
                my: "left top",
                at: "right top"
            },
            role: "menu",
            blur: null,
            focus: null,
            select: null
        },
        _create: function() {
            this.activeMenu = this.element,
            this.mouseHandled = !1,
            this.element.uniqueId().attr({
                role: this.options.role,
                tabIndex: 0
            }),
            this._addClass("ui-menu", "ui-widget ui-widget-content"),
            this._on({
                "mousedown .ui-menu-item": function(e) {
                    e.preventDefault()
                },
                "click .ui-menu-item": function(e) {
                    var i = A(e.target)
                      , o = A(A.ui.safeActiveElement(this.document[0]));
                    if (!this.mouseHandled && i.not(".ui-state-disabled").length) {
                        if (this.select(e),
                        !e.isPropagationStopped())
                            this.mouseHandled = !0;
                        if (i.has(".ui-menu").length)
                            this.expand(e);
                        else if (!this.element.is(":focus") && o.closest(".ui-menu").length)
                            if (this.element.trigger("focus", [!0]),
                            this.active && 1 === this.active.parents(".ui-menu").length)
                                clearTimeout(this.timer)
                    }
                },
                "mouseenter .ui-menu-item": function(e) {
                    if (this.previousFilter)
                        ;
                    else {
                        var i = A(e.target).closest(".ui-menu-item")
                          , o = A(e.currentTarget);
                        if (i[0] !== o[0])
                            ;
                        else
                            this._removeClass(o.siblings().children(".ui-state-active"), null, "ui-state-active"),
                            this.focus(e, o)
                    }
                },
                mouseleave: "collapseAll",
                "mouseleave .ui-menu": "collapseAll",
                focus: function(e, i) {
                    var o = this.active || this.element.find(this.options.items).eq(0);
                    if (!i)
                        this.focus(e, o)
                },
                blur: function(e) {
                    this._delay(function() {
                        if (!A.contains(this.element[0], A.ui.safeActiveElement(this.document[0])))
                            this.collapseAll(e)
                    })
                },
                keydown: "_keydown"
            }),
            this.refresh(),
            this._on(this.document, {
                click: function(e) {
                    if (this._closeOnDocumentClick(e))
                        this.collapseAll(e);
                    this.mouseHandled = !1
                }
            })
        },
        _destroy: function() {
            var e = this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");
            this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),
            e.children().each(function() {
                var e = A(this);
                if (e.data("ui-menu-submenu-caret"))
                    e.remove()
            })
        },
        _keydown: function(e) {
            var i, o, r, a = !0;
            switch (e.keyCode) {
            case A.ui.keyCode.PAGE_UP:
                this.previousPage(e);
                break;
            case A.ui.keyCode.PAGE_DOWN:
                this.nextPage(e);
                break;
            case A.ui.keyCode.HOME:
                this._move("first", "first", e);
                break;
            case A.ui.keyCode.END:
                this._move("last", "last", e);
                break;
            case A.ui.keyCode.UP:
                this.previous(e);
                break;
            case A.ui.keyCode.DOWN:
                this.next(e);
                break;
            case A.ui.keyCode.LEFT:
                this.collapse(e);
                break;
            case A.ui.keyCode.RIGHT:
                if (this.active && !this.active.is(".ui-state-disabled"))
                    this.expand(e);
                break;
            case A.ui.keyCode.ENTER:
            case A.ui.keyCode.SPACE:
                this._activate(e);
                break;
            case A.ui.keyCode.ESCAPE:
                this.collapse(e);
                break;
            default:
                if (i = this.previousFilter || "",
                r = a = !1,
                o = 96 <= e.keyCode && e.keyCode <= 105 ? (e.keyCode - 96).toString() : String.fromCharCode(e.keyCode),
                clearTimeout(this.filterTimer),
                o === i)
                    r = !0;
                else
                    o = i + o;
                if (i = this._filterMenuItems(o),
                !(i = r && -1 !== i.index(this.active.next()) ? this.active.nextAll(".ui-menu-item") : i).length)
                    o = String.fromCharCode(e.keyCode),
                    i = this._filterMenuItems(o);
                if (i.length)
                    this.focus(e, i),
                    this.previousFilter = o,
                    this.filterTimer = this._delay(function() {
                        delete this.previousFilter
                    }, 1e3);
                else
                    delete this.previousFilter
            }
            if (a)
                e.preventDefault()
        },
        _activate: function(e) {
            if (this.active && !this.active.is(".ui-state-disabled"))
                if (this.active.children("[aria-haspopup='true']").length)
                    this.expand(e);
                else
                    this.select(e)
        },
        refresh: function() {
            var e, i, r = this, a = this.options.icons.submenu, o = this.element.find(this.options.menus);
            if (this._toggleClass("ui-menu-icons", null, !!this.element.find(".ui-icon").length),
            e = o.filter(":not(.ui-menu)").hide().attr({
                role: this.options.role,
                "aria-hidden": "true",
                "aria-expanded": "false"
            }).each(function() {
                var e = A(this)
                  , i = e.prev()
                  , o = A("<span>").data("ui-menu-submenu-caret", !0);
                r._addClass(o, "ui-menu-icon", "ui-icon " + a),
                i.attr("aria-haspopup", "true").prepend(o),
                e.attr("aria-labelledby", i.attr("id"))
            }),
            this._addClass(e, "ui-menu", "ui-widget ui-widget-content ui-front"),
            (e = o.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function() {
                var e = A(this);
                if (r._isDivider(e))
                    r._addClass(e, "ui-menu-divider", "ui-widget-content")
            }),
            i = (o = e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({
                tabIndex: -1,
                role: this._itemRole()
            }),
            this._addClass(o, "ui-menu-item")._addClass(i, "ui-menu-item-wrapper"),
            e.filter(".ui-state-disabled").attr("aria-disabled", "true"),
            this.active && !A.contains(this.element[0], this.active[0]))
                this.blur()
        },
        _itemRole: function() {
            return {
                menu: "menuitem",
                listbox: "option"
            }[this.options.role]
        },
        _setOption: function(e, i) {
            if ("icons" === e) {
                var o = this.element.find(".ui-menu-icon");
                this._removeClass(o, null, this.options.icons.submenu)._addClass(o, null, i.submenu)
            }
            this._super(e, i)
        },
        _setOptionDisabled: function(e) {
            this._super(e),
            this.element.attr("aria-disabled", String(e)),
            this._toggleClass(null, "ui-state-disabled", !!e)
        },
        focus: function(e, i) {
            var o;
            if (this.blur(e, e && "focus" === e.type),
            this._scrollIntoView(i),
            this.active = i.first(),
            o = this.active.children(".ui-menu-item-wrapper"),
            this._addClass(o, null, "ui-state-active"),
            this.options.role)
                this.element.attr("aria-activedescendant", o.attr("id"));
            if (o = this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),
            this._addClass(o, null, "ui-state-active"),
            e && "keydown" === e.type)
                this._close();
            else
                this.timer = this._delay(function() {
                    this._close()
                }, this.delay);
            if ((o = i.children(".ui-menu")).length && e && /^mouse/.test(e.type))
                this._startOpening(o);
            this.activeMenu = i.parent(),
            this._trigger("focus", e, {
                item: i
            })
        },
        _scrollIntoView: function(e) {
            var i, o, r;
            if (this._hasScroll())
                if (i = parseFloat(A.css(this.activeMenu[0], "borderTopWidth")) || 0,
                o = parseFloat(A.css(this.activeMenu[0], "paddingTop")) || 0,
                i = e.offset().top - this.activeMenu.offset().top - i - o,
                o = this.activeMenu.scrollTop(),
                r = this.activeMenu.height(),
                e = e.outerHeight(),
                i < 0)
                    this.activeMenu.scrollTop(o + i);
                else if (r < i + e)
                    this.activeMenu.scrollTop(o + i - r + e)
        },
        blur: function(e, i) {
            if (!i)
                clearTimeout(this.timer);
            if (!this.active)
                ;
            else
                this._removeClass(this.active.children(".ui-menu-item-wrapper"), null, "ui-state-active"),
                this._trigger("blur", e, {
                    item: this.active
                }),
                this.active = null
        },
        _startOpening: function(e) {
            if (clearTimeout(this.timer),
            "true" !== e.attr("aria-hidden"))
                ;
            else
                this.timer = this._delay(function() {
                    this._close(),
                    this._open(e)
                }, this.delay)
        },
        _open: function(e) {
            var i = A.extend({
                of: this.active
            }, this.options.position);
            clearTimeout(this.timer),
            this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden", "true"),
            e.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(i)
        },
        collapseAll: function(i, o) {
            clearTimeout(this.timer),
            this.timer = this._delay(function() {
                var e = o ? this.element : A(i && i.target).closest(this.element.find(".ui-menu"));
                if (!e.length)
                    e = this.element;
                this._close(e),
                this.blur(i),
                this._removeClass(e.find(".ui-state-active"), null, "ui-state-active"),
                this.activeMenu = e
            }, this.delay)
        },
        _close: function(e) {
            if (!e)
                e = this.active ? this.active.parent() : this.element;
            e.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false")
        },
        _closeOnDocumentClick: function(e) {
            return !A(e.target).closest(".ui-menu").length
        },
        _isDivider: function(e) {
            return !/[^\-\u2014\u2013\s]/.test(e.text())
        },
        collapse: function(e) {
            var i = this.active && this.active.parent().closest(".ui-menu-item", this.element);
            if (i && i.length)
                this._close(),
                this.focus(e, i)
        },
        expand: function(e) {
            var i = this.active && this.active.children(".ui-menu ").find(this.options.items).first();
            if (i && i.length)
                this._open(i.parent()),
                this._delay(function() {
                    this.focus(e, i)
                })
        },
        next: function(e) {
            this._move("next", "first", e)
        },
        previous: function(e) {
            this._move("prev", "last", e)
        },
        isFirstItem: function() {
            return this.active && !this.active.prevAll(".ui-menu-item").length
        },
        isLastItem: function() {
            return this.active && !this.active.nextAll(".ui-menu-item").length
        },
        _move: function(e, i, o) {
            var r;
            if (this.active)
                if ("first" === e || "last" === e)
                    r = this.active["first" === e ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1);
                else
                    r = this.active[e + "All"](".ui-menu-item").eq(0);
            if (!r || !r.length || !this.active)
                r = this.activeMenu.find(this.options.items)[i]();
            this.focus(o, r)
        },
        nextPage: function(e) {
            var i, o, r;
            if (!this.active)
                this.next(e);
            else if (this.isLastItem())
                ;
            else if (this._hasScroll())
                o = this.active.offset().top,
                r = this.element.height(),
                this.active.nextAll(".ui-menu-item").each(function() {
                    return (i = A(this)).offset().top - o - r < 0
                }),
                this.focus(e, i);
            else
                this.focus(e, this.activeMenu.find(this.options.items)[!this.active ? "first" : "last"]())
        },
        previousPage: function(e) {
            var i, o, r;
            if (!this.active)
                this.next(e);
            else if (this.isFirstItem())
                ;
            else if (this._hasScroll())
                o = this.active.offset().top,
                r = this.element.height(),
                this.active.prevAll(".ui-menu-item").each(function() {
                    return 0 < (i = A(this)).offset().top - o + r
                }),
                this.focus(e, i);
            else
                this.focus(e, this.activeMenu.find(this.options.items).first())
        },
        _hasScroll: function() {
            return this.element.outerHeight() < this.element.prop("scrollHeight")
        },
        select: function(e) {
            this.active = this.active || A(e.target).closest(".ui-menu-item");
            var i = {
                item: this.active
            };
            if (!this.active.has(".ui-menu").length)
                this.collapseAll(e, !0);
            this._trigger("select", e, i)
        },
        _filterMenuItems: function(e) {
            var e = e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
              , i = new RegExp("^" + e,"i");
            return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function() {
                return i.test(String.prototype.trim.call(A(this).children(".ui-menu-item-wrapper").text()))
            })
        }
    }),
    A.widget("ui.autocomplete", {
        version: "1.12.1",
        defaultElement: "<input>",
        options: {
            appendTo: null,
            autoFocus: !1,
            delay: 300,
            minLength: 1,
            position: {
                my: "left top",
                at: "left bottom",
                collision: "none"
            },
            source: null,
            change: null,
            close: null,
            focus: null,
            open: null,
            response: null,
            search: null,
            select: null
        },
        requestIndex: 0,
        pending: 0,
        _create: function() {
            var o, r, a, e = this.element[0].nodeName.toLowerCase(), i = "textarea" === e, e = "input" === e;
            this.isMultiLine = i || !e && this._isContentEditable(this.element),
            this.valueMethod = this.element[i || e ? "val" : "text"],
            this.isNewMenu = !0,
            this._addClass("ui-autocomplete-input"),
            this.element.attr("autocomplete", "off"),
            this._on(this.element, {
                keydown: function(e) {
                    if (this.element.prop("readOnly"))
                        r = a = o = !0;
                    else {
                        r = a = o = !1;
                        var i = A.ui.keyCode;
                        switch (e.keyCode) {
                        case i.PAGE_UP:
                            o = !0,
                            this._move("previousPage", e);
                            break;
                        case i.PAGE_DOWN:
                            o = !0,
                            this._move("nextPage", e);
                            break;
                        case i.UP:
                            o = !0,
                            this._keyEvent("previous", e);
                            break;
                        case i.DOWN:
                            o = !0,
                            this._keyEvent("next", e);
                            break;
                        case i.ENTER:
                            if (this.menu.active)
                                o = !0,
                                e.preventDefault(),
                                this.menu.select(e);
                            break;
                        case i.TAB:
                            if (this.menu.active)
                                this.menu.select(e);
                            break;
                        case i.ESCAPE:
                            if (this.menu.element.is(":visible")) {
                                if (!this.isMultiLine)
                                    this._value(this.term);
                                this.close(e),
                                e.preventDefault()
                            }
                            break;
                        default:
                            r = !0,
                            this._searchTimeout(e)
                        }
                    }
                },
                keypress: function(e) {
                    if (o) {
                        if (o = !1,
                        !this.isMultiLine || this.menu.element.is(":visible"))
                            e.preventDefault()
                    } else if (r)
                        ;
                    else {
                        var i = A.ui.keyCode;
                        switch (e.keyCode) {
                        case i.PAGE_UP:
                            this._move("previousPage", e);
                            break;
                        case i.PAGE_DOWN:
                            this._move("nextPage", e);
                            break;
                        case i.UP:
                            this._keyEvent("previous", e);
                            break;
                        case i.DOWN:
                            this._keyEvent("next", e)
                        }
                    }
                },
                input: function(e) {
                    if (a)
                        a = !1,
                        e.preventDefault();
                    else
                        this._searchTimeout(e)
                },
                focus: function() {
                    this.selectedItem = null,
                    this.previous = this._value()
                },
                blur: function(e) {
                    if (this.cancelBlur)
                        delete this.cancelBlur;
                    else
                        clearTimeout(this.searching),
                        this.close(e),
                        this._change(e)
                }
            }),
            this._initSource(),
            this.menu = A("<ul>").appendTo(this._appendTo()).menu({
                role: null
            }).hide().menu("instance"),
            this._addClass(this.menu.element, "ui-autocomplete", "ui-front"),
            this._on(this.menu.element, {
                mousedown: function(e) {
                    e.preventDefault(),
                    this.cancelBlur = !0,
                    this._delay(function() {
                        if (delete this.cancelBlur,
                        this.element[0] !== A.ui.safeActiveElement(this.document[0]))
                            this.element.trigger("focus")
                    })
                },
                menufocus: function(e, i) {
                    var o;
                    if (this.isNewMenu)
                        if (this.isNewMenu = !1,
                        e.originalEvent && /^mouse/.test(e.originalEvent.type))
                            return this.menu.blur(),
                            void this.document.one("mousemove", function() {
                                A(e.target).trigger(e.originalEvent)
                            });
                    if (o = i.item.data("ui-autocomplete-item"),
                    !1 !== this._trigger("focus", e, {
                        item: o
                    }))
                        if (e.originalEvent && /^key/.test(e.originalEvent.type))
                            this._value(o.value);
                    if ((i = i.item.attr("aria-label") || o.value) && String.prototype.trim.call(i).length)
                        this.liveRegion.children().hide(),
                        A("<div>").text(i).appendTo(this.liveRegion)
                },
                menuselect: function(e, i) {
                    var o = i.item.data("ui-autocomplete-item")
                      , r = this.previous;
                    if (this.element[0] !== A.ui.safeActiveElement(this.document[0]))
                        this.element.trigger("focus"),
                        this.previous = r,
                        this._delay(function() {
                            this.previous = r,
                            this.selectedItem = o
                        });
                    if (!1 !== this._trigger("select", e, {
                        item: o
                    }))
                        this._value(o.value);
                    this.term = this._value(),
                    this.close(e),
                    this.selectedItem = o
                }
            }),
            this.liveRegion = A("<div>", {
                role: "status",
                "aria-live": "assertive",
                "aria-relevant": "additions"
            }).appendTo(this.document[0].body),
            this._addClass(this.liveRegion, null, "ui-helper-hidden-accessible"),
            this._on(this.window, {
                beforeunload: function() {
                    this.element.removeAttr("autocomplete")
                }
            })
        },
        _destroy: function() {
            clearTimeout(this.searching),
            this.element.removeAttr("autocomplete"),
            this.menu.element.remove(),
            this.liveRegion.remove()
        },
        _setOption: function(e, i) {
            if (this._super(e, i),
            "source" === e)
                this._initSource();
            if ("appendTo" === e)
                this.menu.element.appendTo(this._appendTo());
            if ("disabled" === e && i && this.xhr)
                this.xhr.abort()
        },
        _isEventTargetInWidget: function(e) {
            var i = this.menu.element[0];
            return e.target === this.element[0] || e.target === i || A.contains(i, e.target)
        },
        _closeOnClickOutside: function(e) {
            if (!this._isEventTargetInWidget(e))
                this.close()
        },
        _appendTo: function() {
            var e = this.options.appendTo;
            if (e)
                e = e.jquery || e.nodeType ? A(e) : this.document.find(e).eq(0);
            if (!e || !e[0])
                e = this.element.closest(".ui-front, dialog");
            if (!e.length)
                e = this.document[0].body;
            return e
        },
        _initSource: function() {
            var o, r, a = this;
            if (Array.isArray(this.options.source))
                o = this.options.source,
                this.source = function(e, i) {
                    i(A.ui.autocomplete.filter(o, e.term))
                }
                ;
            else if ("string" == typeof this.options.source)
                r = this.options.source,
                this.source = function(e, i) {
                    if (a.xhr)
                        a.xhr.abort();
                    a.xhr = A.ajax({
                        url: r,
                        data: e,
                        dataType: "json",
                        success: function(e) {
                            i(e)
                        },
                        error: function() {
                            i([])
                        }
                    })
                }
                ;
            else
                this.source = this.options.source
        },
        _searchTimeout: function(r) {
            clearTimeout(this.searching),
            this.searching = this._delay(function() {
                var e = this.term === this._value()
                  , i = this.menu.element.is(":visible")
                  , o = r.altKey || r.ctrlKey || r.metaKey || r.shiftKey;
                if (!e || !i && !o)
                    this.selectedItem = null,
                    this.search(null, r)
            }, this.options.delay)
        },
        search: function(e, i) {
            if (e = null != e ? e : this._value(),
            this.term = this._value(),
            e.length < this.options.minLength)
                return this.close(i);
            if (!1 === this._trigger("search", i))
                ;
            else
                return this._search(e)
        },
        _search: function(e) {
            this.pending++,
            this._addClass("ui-autocomplete-loading"),
            this.cancelSearch = !1,
            this.source({
                term: e
            }, this._response())
        },
        _response: function() {
            var i = ++this.requestIndex;
            return A.proxy(function(e) {
                if (i === this.requestIndex)
                    this.__response(e);
                if (this.pending--,
                !this.pending)
                    this._removeClass("ui-autocomplete-loading")
            }, this)
        },
        __response: function(e) {
            if (e)
                e = this._normalize(e);
            if (this._trigger("response", null, {
                content: e
            }),
            !this.options.disabled && e && e.length && !this.cancelSearch)
                this._suggest(e),
                this._trigger("open");
            else
                this._close()
        },
        close: function(e) {
            this.cancelSearch = !0,
            this._close(e)
        },
        _close: function(e) {
            if (this._off(this.document, "mousedown"),
            this.menu.element.is(":visible"))
                this.menu.element.hide(),
                this.menu.blur(),
                this.isNewMenu = !0,
                this._trigger("close", e)
        },
        _change: function(e) {
            if (this.previous !== this._value())
                this._trigger("change", e, {
                    item: this.selectedItem
                })
        },
        _normalize: function(e) {
            if (e.length && e[0].label && e[0].value)
                return e;
            else
                return A.map(e, function(e) {
                    if ("string" == typeof e)
                        return {
                            label: e,
                            value: e
                        };
                    else
                        return A.extend({}, e, {
                            label: e.label || e.value,
                            value: e.value || e.label
                        })
                })
        },
        _suggest: function(e) {
            var i = this.menu.element.empty();
            if (this._renderMenu(i, e),
            this.isNewMenu = !0,
            this.menu.refresh(),
            i.show(),
            this._resizeMenu(),
            i.position(A.extend({
                of: this.element
            }, this.options.position)),
            this.options.autoFocus)
                this.menu.next();
            this._on(this.document, {
                mousedown: "_closeOnClickOutside"
            })
        },
        _resizeMenu: function() {
            var e = this.menu.element;
            e.outerWidth(Math.max(e.width("").outerWidth() + 1, this.element.outerWidth()))
        },
        _renderMenu: function(o, e) {
            var r = this;
            A.each(e, function(e, i) {
                r._renderItemData(o, i)
            })
        },
        _renderItemData: function(e, i) {
            return this._renderItem(e, i).data("ui-autocomplete-item", i)
        },
        _renderItem: function(e, i) {
            return A("<li>").append(A("<div>").text(i.label)).appendTo(e)
        },
        _move: function(e, i) {
            if (!this.menu.element.is(":visible"))
                this.search(null, i);
            else if (this.menu.isFirstItem() && /^previous/.test(e) || this.menu.isLastItem() && /^next/.test(e)) {
                if (!this.isMultiLine)
                    this._value(this.term);
                this.menu.blur()
            } else
                this.menu[e](i)
        },
        widget: function() {
            return this.menu.element
        },
        _value: function() {
            return this.valueMethod.apply(this.element, arguments)
        },
        _keyEvent: function(e, i) {
            if (!this.isMultiLine || this.menu.element.is(":visible"))
                this._move(e, i),
                i.preventDefault()
        },
        _isContentEditable: function(e) {
            if (!e.length)
                return !1;
            var i = e.prop("contentEditable");
            if ("inherit" === i)
                return this._isContentEditable(e.parent());
            else
                return "true" === i
        }
    }),
    A.extend(A.ui.autocomplete, {
        escapeRegex: function(e) {
            return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
        },
        filter: function(e, i) {
            var o = new RegExp(A.ui.autocomplete.escapeRegex(i),"i");
            return A.grep(e, function(e) {
                return o.test(e.label || e.value || e)
            })
        }
    }),
    A.widget("ui.autocomplete", A.ui.autocomplete, {
        options: {
            messages: {
                noResults: "No search results.",
                results: function(e) {
                    return e + (1 < e ? " results are" : " result is") + " available, use up and down arrow keys to navigate."
                }
            }
        },
        __response: function(e) {
            var i;
            if (this._superApply(arguments),
            this.options.disabled || this.cancelSearch)
                ;
            else {
                if (e && e.length)
                    i = this.options.messages.results(e.length);
                else
                    i = this.options.messages.noResults;
                this.liveRegion.children().hide(),
                A("<div>").text(i).appendTo(this.liveRegion)
            }
        }
    }),
    A.ui.autocomplete;
    var q, H, U, V = /ui-corner-([a-z]){2,6}/g;
    A.widget("ui.controlgroup", {
        version: "1.12.1",
        defaultElement: "<div>",
        options: {
            direction: "horizontal",
            disabled: null,
            onlyVisible: !0,
            items: {
                button: "input[type=button], input[type=submit], input[type=reset], button, a",
                controlgroupLabel: ".ui-controlgroup-label",
                checkboxradio: "input[type='checkbox'], input[type='radio']",
                selectmenu: "select",
                spinner: ".ui-spinner-input"
            }
        },
        _create: function() {
            this._enhance()
        },
        _enhance: function() {
            this.element.attr("role", "toolbar"),
            this.refresh()
        },
        _destroy: function() {
            if (this._callChildMethod("destroy"),
            this.childWidgets.removeData("ui-controlgroup-data"),
            this.element.removeAttr("role"),
            this.options.items.controlgroupLabel)
                this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()
        },
        _initWidgets: function() {
            var l = this
              , u = [];
            A.each(this.options.items, function(r, e) {
                var i, a = {};
                if (!e)
                    ;
                else if ("controlgroupLabel" === r)
                    (i = l.element.find(e)).each(function() {
                        var e = A(this);
                        if (e.children(".ui-controlgroup-label-contents").length)
                            ;
                        else
                            e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")
                    }),
                    l._addClass(i, null, "ui-widget ui-widget-content ui-state-default"),
                    u = u.concat(i.get());
                else if (!A.fn[r])
                    ;
                else {
                    if (l["_" + r + "Options"])
                        a = l["_" + r + "Options"]("middle");
                    else
                        a = {
                            classes: {}
                        };
                    l.element.find(e).each(function() {
                        var e = A(this)
                          , i = e[r]("instance")
                          , o = A.widget.extend({}, a);
                        if ("button" === r && e.parent(".ui-spinner").length)
                            ;
                        else {
                            if (!i)
                                i = e[r]()[r]("instance");
                            if (i)
                                o.classes = l._resolveClassesValues(o.classes, i);
                            e[r](o);
                            o = e[r]("widget");
                            A.data(o[0], "ui-controlgroup-data", i ? i : e[r]("instance")),
                            u.push(o[0])
                        }
                    })
                }
            }),
            this.childWidgets = A(A.uniqueSort(u)),
            this._addClass(this.childWidgets, "ui-controlgroup-item")
        },
        _callChildMethod: function(i) {
            this.childWidgets.each(function() {
                var e = A(this).data("ui-controlgroup-data");
                if (e && e[i])
                    e[i]()
            })
        },
        _updateCornerClass: function(e, i) {
            i = this._buildSimpleOptions(i, "label").classes.label;
            this._removeClass(e, null, "ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),
            this._addClass(e, null, i)
        },
        _buildSimpleOptions: function(e, i) {
            var o = "vertical" === this.options.direction
              , r = {
                classes: {}
            };
            return r.classes[i] = {
                middle: "",
                first: "ui-corner-" + (o ? "top" : "left"),
                last: "ui-corner-" + (o ? "bottom" : "right"),
                only: "ui-corner-all"
            }[e],
            r
        },
        _spinnerOptions: function(e) {
            e = this._buildSimpleOptions(e, "ui-spinner");
            return e.classes["ui-spinner-up"] = "",
            e.classes["ui-spinner-down"] = "",
            e
        },
        _buttonOptions: function(e) {
            return this._buildSimpleOptions(e, "ui-button")
        },
        _checkboxradioOptions: function(e) {
            return this._buildSimpleOptions(e, "ui-checkboxradio-label")
        },
        _selectmenuOptions: function(e) {
            var i = "vertical" === this.options.direction;
            return {
                width: i ? "auto" : !1,
                classes: {
                    middle: {
                        "ui-selectmenu-button-open": "",
                        "ui-selectmenu-button-closed": ""
                    },
                    first: {
                        "ui-selectmenu-button-open": "ui-corner-" + (i ? "top" : "tl"),
                        "ui-selectmenu-button-closed": "ui-corner-" + (i ? "top" : "left")
                    },
                    last: {
                        "ui-selectmenu-button-open": i ? "" : "ui-corner-tr",
                        "ui-selectmenu-button-closed": "ui-corner-" + (i ? "bottom" : "right")
                    },
                    only: {
                        "ui-selectmenu-button-open": "ui-corner-top",
                        "ui-selectmenu-button-closed": "ui-corner-all"
                    }
                }[e]
            }
        },
        _resolveClassesValues: function(o, r) {
            var a = {};
            return A.each(o, function(e) {
                var i = r.options.classes[e] || ""
                  , i = String.prototype.trim.call(i.replace(V, ""));
                a[e] = (i + " " + o[e]).replace(/\s+/g, " ")
            }),
            a
        },
        _setOption: function(e, i) {
            if ("direction" === e)
                this._removeClass("ui-controlgroup-" + this.options.direction);
            if (this._super(e, i),
            "disabled" === e)
                this._callChildMethod(i ? "disable" : "enable");
            else
                this.refresh()
        },
        refresh: function() {
            var a, l = this;
            if (this._addClass("ui-controlgroup ui-controlgroup-" + this.options.direction),
            "horizontal" === this.options.direction)
                this._addClass(null, "ui-helper-clearfix");
            if (this._initWidgets(),
            a = this.childWidgets,
            this.options.onlyVisible)
                a = a.filter(":visible");
            if (a.length)
                A.each(["first", "last"], function(e, i) {
                    var o = a[i]().data("ui-controlgroup-data");
                    if (o && l["_" + o.widgetName + "Options"]) {
                        var r = l["_" + o.widgetName + "Options"](1 === a.length ? "only" : i);
                        r.classes = l._resolveClassesValues(r.classes, o),
                        o.element[o.widgetName](r)
                    } else
                        l._updateCornerClass(a[i](), i)
                }),
                this._callChildMethod("refresh")
        }
    }),
    A.widget("ui.checkboxradio", [A.ui.formResetMixin, {
        version: "1.12.1",
        options: {
            disabled: null,
            label: null,
            icon: !0,
            classes: {
                "ui-checkboxradio-label": "ui-corner-all",
                "ui-checkboxradio-icon": "ui-corner-all"
            }
        },
        _getCreateOptions: function() {
            var e, i = this, o = this._super() || {};
            if (this._readType(),
            e = this.element.labels(),
            this.label = A(e[e.length - 1]),
            !this.label.length)
                A.error("No label found for checkboxradio widget");
            if (this.originalLabel = "",
            this.label.contents().not(this.element[0]).each(function() {
                i.originalLabel += 3 === this.nodeType ? A(this).text() : this.outerHTML
            }),
            this.originalLabel)
                o.label = this.originalLabel;
            if (null != (e = this.element[0].disabled))
                o.disabled = e;
            return o
        },
        _create: function() {
            var e = this.element[0].checked;
            if (this._bindFormResetHandler(),
            null == this.options.disabled)
                this.options.disabled = this.element[0].disabled;
            if (this._setOption("disabled", this.options.disabled),
            this._addClass("ui-checkboxradio", "ui-helper-hidden-accessible"),
            this._addClass(this.label, "ui-checkboxradio-label", "ui-button ui-widget"),
            "radio" === this.type)
                this._addClass(this.label, "ui-checkboxradio-radio-label");
            if (this.options.label && this.options.label !== this.originalLabel)
                this._updateLabel();
            else if (this.originalLabel)
                this.options.label = this.originalLabel;
            if (this._enhance(),
            e)
                if (this._addClass(this.label, "ui-checkboxradio-checked", "ui-state-active"),
                this.icon)
                    this._addClass(this.icon, null, "ui-state-hover");
            this._on({
                change: "_toggleClasses",
                focus: function() {
                    this._addClass(this.label, null, "ui-state-focus ui-visual-focus")
                },
                blur: function() {
                    this._removeClass(this.label, null, "ui-state-focus ui-visual-focus")
                }
            })
        },
        _readType: function() {
            var e = this.element[0].nodeName.toLowerCase();
            if (this.type = this.element[0].type,
            "input" !== e || !/radio|checkbox/.test(this.type))
                A.error("Can't create checkboxradio on element.nodeName=" + e + " and element.type=" + this.type)
        },
        _enhance: function() {
            this._updateIcon(this.element[0].checked)
        },
        widget: function() {
            return this.label
        },
        _getRadioGroup: function() {
            var e, i = this.element[0].name, o = "input[name='" + A.ui.escapeSelector(i) + "']";
            if (!i)
                return A([]);
            if (this.form.length)
                e = A(this.form[0].elements).filter(o);
            else
                e = A(o).filter(function() {
                    return 0 === A(this).form().length
                });
            return e.not(this.element)
        },
        _toggleClasses: function() {
            var e = this.element[0].checked;
            if (this._toggleClass(this.label, "ui-checkboxradio-checked", "ui-state-active", e),
            this.options.icon && "checkbox" === this.type)
                this._toggleClass(this.icon, null, "ui-icon-check ui-state-checked", e)._toggleClass(this.icon, null, "ui-icon-blank", !e);
            if ("radio" === this.type)
                this._getRadioGroup().each(function() {
                    var e = A(this).checkboxradio("instance");
                    if (e)
                        e._removeClass(e.label, "ui-checkboxradio-checked", "ui-state-active")
                })
        },
        _destroy: function() {
            if (this._unbindFormResetHandler(),
            this.icon)
                this.icon.remove(),
                this.iconSpace.remove()
        },
        _setOption: function(e, i) {
            if ("label" === e && !i)
                ;
            else if (this._super(e, i),
            "disabled" === e)
                this._toggleClass(this.label, null, "ui-state-disabled", i),
                this.element[0].disabled = i;
            else
                this.refresh()
        },
        _updateIcon: function(e) {
            var i = "ui-icon ui-icon-background ";
            if (this.options.icon) {
                if (!this.icon)
                    this.icon = A("<span>"),
                    this.iconSpace = A("<span> </span>"),
                    this._addClass(this.iconSpace, "ui-checkboxradio-icon-space");
                if ("checkbox" === this.type)
                    i += e ? "ui-icon-check ui-state-checked" : "ui-icon-blank",
                    this._removeClass(this.icon, null, e ? "ui-icon-blank" : "ui-icon-check");
                else
                    i += "ui-icon-blank";
                if (this._addClass(this.icon, "ui-checkboxradio-icon", i),
                !e)
                    this._removeClass(this.icon, null, "ui-icon-check ui-state-checked");
                this.icon.prependTo(this.label).after(this.iconSpace)
            } else if (void 0 !== this.icon)
                this.icon.remove(),
                this.iconSpace.remove(),
                delete this.icon
        },
        _updateLabel: function() {
            var e = this.label.contents().not(this.element[0]);
            if (this.icon)
                e = e.not(this.icon[0]);
            if (this.iconSpace)
                e = e.not(this.iconSpace[0]);
            e.remove(),
            this.label.append(this.options.label)
        },
        refresh: function() {
            var e = this.element[0].checked
              , i = this.element[0].disabled;
            if (this._updateIcon(e),
            this._toggleClass(this.label, "ui-checkboxradio-checked", "ui-state-active", e),
            null !== this.options.label)
                this._updateLabel();
            if (i !== this.options.disabled)
                this._setOptions({
                    disabled: i
                })
        }
    }]),
    A.ui.checkboxradio;
    if (A.widget("ui.button", {
        version: "1.12.1",
        defaultElement: "<button>",
        options: {
            classes: {
                "ui-button": "ui-corner-all"
            },
            disabled: null,
            icon: null,
            iconPosition: "beginning",
            label: null,
            showLabel: !0
        },
        _getCreateOptions: function() {
            var e, i = this._super() || {};
            if (this.isInput = this.element.is("input"),
            null != (e = this.element[0].disabled))
                i.disabled = e;
            if (this.originalLabel = this.isInput ? this.element.val() : this.element.html(),
            this.originalLabel)
                i.label = this.originalLabel;
            return i
        },
        _create: function() {
            if (!this.option.showLabel & !this.options.icon)
                this.options.showLabel = !0;
            if (null == this.options.disabled)
                this.options.disabled = this.element[0].disabled || !1;
            if (this.hasTitle = !!this.element.attr("title"),
            this.options.label && this.options.label !== this.originalLabel)
                if (this.isInput)
                    this.element.val(this.options.label);
                else
                    this.element.html(this.options.label);
            if (this._addClass("ui-button", "ui-widget"),
            this._setOption("disabled", this.options.disabled),
            this._enhance(),
            this.element.is("a"))
                this._on({
                    keyup: function(e) {
                        if (e.keyCode === A.ui.keyCode.SPACE)
                            if (e.preventDefault(),
                            this.element[0].click)
                                this.element[0].click();
                            else
                                this.element.trigger("click")
                    }
                })
        },
        _enhance: function() {
            if (!this.element.is("button"))
                this.element.attr("role", "button");
            if (this.options.icon)
                this._updateIcon("icon", this.options.icon),
                this._updateTooltip()
        },
        _updateTooltip: function() {
            if (this.title = this.element.attr("title"),
            !this.options.showLabel && !this.title)
                this.element.attr("title", this.options.label)
        },
        _updateIcon: function(e, i) {
            var e = "iconPosition" !== e
              , o = e ? this.options.iconPosition : i
              , r = "top" === o || "bottom" === o;
            if (!this.icon) {
                if (this.icon = A("<span>"),
                this._addClass(this.icon, "ui-button-icon", "ui-icon"),
                !this.options.showLabel)
                    this._addClass("ui-button-icon-only")
            } else if (e)
                this._removeClass(this.icon, null, this.options.icon);
            if (e)
                this._addClass(this.icon, null, i);
            if (this._attachIcon(o),
            r) {
                if (this._addClass(this.icon, null, "ui-widget-icon-block"),
                this.iconSpace)
                    this.iconSpace.remove()
            } else {
                if (!this.iconSpace)
                    this.iconSpace = A("<span> </span>"),
                    this._addClass(this.iconSpace, "ui-button-icon-space");
                this._removeClass(this.icon, null, "ui-wiget-icon-block"),
                this._attachIconSpace(o)
            }
        },
        _destroy: function() {
            if (this.element.removeAttr("role"),
            this.icon)
                this.icon.remove();
            if (this.iconSpace)
                this.iconSpace.remove();
            if (!this.hasTitle)
                this.element.removeAttr("title")
        },
        _attachIconSpace: function(e) {
            this.icon[/^(?:end|bottom)/.test(e) ? "before" : "after"](this.iconSpace)
        },
        _attachIcon: function(e) {
            this.element[/^(?:end|bottom)/.test(e) ? "append" : "prepend"](this.icon)
        },
        _setOptions: function(e) {
            var i = void 0 === e.showLabel ? this.options.showLabel : e.showLabel
              , o = void 0 === e.icon ? this.options.icon : e.icon;
            if (!i && !o)
                e.showLabel = !0;
            this._super(e)
        },
        _setOption: function(e, i) {
            if ("icon" === e)
                if (i)
                    this._updateIcon(e, i);
                else if (this.icon)
                    if (this.icon.remove(),
                    this.iconSpace)
                        this.iconSpace.remove();
            if ("iconPosition" === e)
                this._updateIcon(e, i);
            if ("showLabel" === e)
                this._toggleClass("ui-button-icon-only", null, !i),
                this._updateTooltip();
            if ("label" === e)
                if (this.isInput)
                    this.element.val(i);
                else if (this.element.html(i),
                this.icon)
                    this._attachIcon(this.options.iconPosition),
                    this._attachIconSpace(this.options.iconPosition);
            if (this._super(e, i),
            "disabled" === e)
                if (this._toggleClass(null, "ui-state-disabled", i),
                this.element[0].disabled = i)
                    this.element.blur()
        },
        refresh: function() {
            var e = this.element.is("input, button") ? this.element[0].disabled : this.element.hasClass("ui-button-disabled");
            if (e !== this.options.disabled)
                this._setOptions({
                    disabled: e
                });
            this._updateTooltip()
        }
    }),
    !1 !== A.uiBackCompat)
        A.widget("ui.button", A.ui.button, {
            options: {
                text: !0,
                icons: {
                    primary: null,
                    secondary: null
                }
            },
            _create: function() {
                if (this.options.showLabel && !this.options.text)
                    this.options.showLabel = this.options.text;
                if (!this.options.showLabel && this.options.text)
                    this.options.text = this.options.showLabel;
                if (!this.options.icon && (this.options.icons.primary || this.options.icons.secondary))
                    if (this.options.icons.primary)
                        this.options.icon = this.options.icons.primary;
                    else
                        this.options.icon = this.options.icons.secondary,
                        this.options.iconPosition = "end";
                else if (this.options.icon)
                    this.options.icons.primary = this.options.icon;
                this._super()
            },
            _setOption: function(e, i) {
                if ("text" === e)
                    this._super("showLabel", i);
                else {
                    if ("showLabel" === e)
                        this.options.text = i;
                    if ("icon" === e)
                        this.options.icons.primary = i;
                    if ("icons" === e)
                        if (i.primary)
                            this._super("icon", i.primary),
                            this._super("iconPosition", "beginning");
                        else if (i.secondary)
                            this._super("icon", i.secondary),
                            this._super("iconPosition", "end");
                    this._superApply(arguments)
                }
            }
        }),
        A.fn.button = (U = A.fn.button,
        function() {
            if (!this.length || (this.length,
            "INPUT" !== this[0].tagName) || this.length && "INPUT" === this[0].tagName && ("checkbox" !== this.attr("type") && "radio" !== this.attr("type")))
                return U.apply(this, arguments);
            if (!A.ui.checkboxradio)
                A.error("Checkboxradio widget missing");
            if (0 === arguments.length)
                return this.checkboxradio({
                    icon: !1
                });
            else
                return this.checkboxradio.apply(this, arguments)
        }
        ),
        A.fn.buttonset = function() {
            if (!A.ui.controlgroup)
                A.error("Controlgroup widget missing");
            if ("option" === arguments[0] && "items" === arguments[1] && arguments[2])
                return this.controlgroup.apply(this, [arguments[0], "items.button", arguments[2]]);
            if ("option" === arguments[0] && "items" === arguments[1])
                return this.controlgroup.apply(this, [arguments[0], "items.button"]);
            if ("object" == typeof arguments[0] && arguments[0].items)
                arguments[0].items = {
                    button: arguments[0].items
                };
            return this.controlgroup.apply(this, arguments)
        }
        ;
    var R;
    A.ui.button;
    function j() {
        this._curInst = null,
        this._keyEvent = !1,
        this._disabledInputs = [],
        this._datepickerShowing = !1,
        this._inDialog = !1,
        this._mainDivId = "ui-datepicker-div",
        this._inlineClass = "ui-datepicker-inline",
        this._appendClass = "ui-datepicker-append",
        this._triggerClass = "ui-datepicker-trigger",
        this._dialogClass = "ui-datepicker-dialog",
        this._disableClass = "ui-datepicker-disabled",
        this._unselectableClass = "ui-datepicker-unselectable",
        this._currentClass = "ui-datepicker-current-day",
        this._dayOverClass = "ui-datepicker-days-cell-over",
        this.regional = [],
        this.regional[""] = {
            closeText: "Done",
            prevText: "Prev",
            nextText: "Next",
            currentText: "Today",
            monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
            dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
            weekHeader: "Wk",
            dateFormat: "mm/dd/yy",
            firstDay: 0,
            isRTL: !1,
            showMonthAfterYear: !1,
            yearSuffix: ""
        },
        this._defaults = {
            showOn: "focus",
            showAnim: "fadeIn",
            showOptions: {},
            defaultDate: null,
            appendText: "",
            buttonText: "...",
            buttonImage: "",
            buttonImageOnly: !1,
            hideIfNoPrevNext: !1,
            navigationAsDateFormat: !1,
            gotoCurrent: !1,
            changeMonth: !1,
            changeYear: !1,
            yearRange: "c-10:c+10",
            showOtherMonths: !1,
            selectOtherMonths: !1,
            showWeek: !1,
            calculateWeek: this.iso8601Week,
            shortYearCutoff: "+10",
            minDate: null,
            maxDate: null,
            duration: "fast",
            beforeShowDay: null,
            beforeShow: null,
            onSelect: null,
            onChangeMonthYear: null,
            onClose: null,
            numberOfMonths: 1,
            showCurrentAtPos: 0,
            stepMonths: 1,
            stepBigMonths: 12,
            altField: "",
            altFormat: "",
            constrainInput: !0,
            showButtonPanel: !1,
            autoSize: !1,
            disabled: !1
        },
        A.extend(this._defaults, this.regional[""]),
        this.regional.en = A.extend(!0, {}, this.regional[""]),
        this.regional["en-US"] = A.extend(!0, {}, this.regional.en),
        this.dpDiv = Y(A("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
    }
    function Y(e) {
        var i = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
        return e.on("mouseout", i, function() {
            if (A(this).removeClass("ui-state-hover"),
            -1 !== this.className.indexOf("ui-datepicker-prev"))
                A(this).removeClass("ui-datepicker-prev-hover");
            if (-1 !== this.className.indexOf("ui-datepicker-next"))
                A(this).removeClass("ui-datepicker-next-hover")
        }).on("mouseover", i, Q)
    }
    function Q() {
        if (!A.datepicker._isDisabledDatepicker(R.inline ? R.dpDiv.parent()[0] : R.input[0])) {
            if (A(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),
            A(this).addClass("ui-state-hover"),
            -1 !== this.className.indexOf("ui-datepicker-prev"))
                A(this).addClass("ui-datepicker-prev-hover");
            if (-1 !== this.className.indexOf("ui-datepicker-next"))
                A(this).addClass("ui-datepicker-next-hover")
        }
    }
    function G(e, i) {
        for (var o in A.extend(e, i),
        i)
            if (null == i[o])
                e[o] = i[o]
    }
    A.extend(A.ui, {
        datepicker: {
            version: "1.12.1"
        }
    }),
    A.extend(j.prototype, {
        markerClassName: "hasDatepicker",
        maxRows: 4,
        _widgetDatepicker: function() {
            return this.dpDiv
        },
        setDefaults: function(e) {
            return G(this._defaults, e || {}),
            this
        },
        _attachDatepicker: function(e, i) {
            var o, r = e.nodeName.toLowerCase(), a = "div" === r || "span" === r;
            if (!e.id)
                this.uuid += 1,
                e.id = "dp" + this.uuid;
            if ((o = this._newInst(A(e), a)).settings = A.extend({}, i || {}),
            "input" === r)
                this._connectDatepicker(e, o);
            else if (a)
                this._inlineDatepicker(e, o)
        },
        _newInst: function(e, i) {
            return {
                id: e[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1"),
                input: e,
                selectedDay: 0,
                selectedMonth: 0,
                selectedYear: 0,
                drawMonth: 0,
                drawYear: 0,
                inline: i,
                dpDiv: !i ? this.dpDiv : Y(A("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
            }
        },
        _connectDatepicker: function(e, i) {
            var o = A(e);
            if (i.append = A([]),
            i.trigger = A([]),
            o.hasClass(this.markerClassName))
                ;
            else if (this._attachments(o, i),
            o.addClass(this.markerClassName).on("keydown", this._doKeyDown).on("keypress", this._doKeyPress).on("keyup", this._doKeyUp),
            this._autoSize(i),
            A.data(e, "datepicker", i),
            i.settings.disabled)
                this._disableDatepicker(e)
        },
        _attachments: function(e, i) {
            var o, r = this._get(i, "appendText"), a = this._get(i, "isRTL");
            if (i.append)
                i.append.remove();
            if (r)
                i.append = A("<span class='" + this._appendClass + "'>" + r + "</span>"),
                e[a ? "before" : "after"](i.append);
            if (e.off("focus", this._showDatepicker),
            i.trigger)
                i.trigger.remove();
            if ("focus" === (r = this._get(i, "showOn")) || "both" === r)
                e.on("focus", this._showDatepicker);
            if ("button" === r || "both" === r)
                r = this._get(i, "buttonText"),
                o = this._get(i, "buttonImage"),
                i.trigger = A(this._get(i, "buttonImageOnly") ? A("<img/>").addClass(this._triggerClass).attr({
                    src: o,
                    alt: r,
                    title: r
                }) : A("<button type='button'></button>").addClass(this._triggerClass).html(!o ? r : A("<img/>").attr({
                    src: o,
                    alt: r,
                    title: r
                }))),
                e[a ? "before" : "after"](i.trigger),
                i.trigger.on("click", function() {
                    if (A.datepicker._datepickerShowing && A.datepicker._lastInput === e[0])
                        A.datepicker._hideDatepicker();
                    else if (A.datepicker._datepickerShowing && A.datepicker._lastInput !== e[0])
                        A.datepicker._hideDatepicker(),
                        A.datepicker._showDatepicker(e[0]);
                    else
                        A.datepicker._showDatepicker(e[0]);
                    return !1
                })
        },
        _autoSize: function(e) {
            if (this._get(e, "autoSize") && !e.inline) {
                var i, o, r, a, l = new Date(2009,11,20), u = this._get(e, "dateFormat");
                if (u.match(/[DM]/))
                    l.setMonth((i = function(e) {
                        for (a = r = o = 0; a < e.length; a++)
                            if (e[a].length > o)
                                o = e[a].length,
                                r = a;
                        return r
                    }
                    )(this._get(e, u.match(/MM/) ? "monthNames" : "monthNamesShort"))),
                    l.setDate(i(this._get(e, u.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - l.getDay());
                e.input.attr("size", this._formatDate(e, l).length)
            }
        },
        _inlineDatepicker: function(e, i) {
            var o = A(e);
            if (o.hasClass(this.markerClassName))
                ;
            else {
                if (o.addClass(this.markerClassName).append(i.dpDiv),
                A.data(e, "datepicker", i),
                this._setDate(i, this._getDefaultDate(i), !0),
                this._updateDatepicker(i),
                this._updateAlternate(i),
                i.settings.disabled)
                    this._disableDatepicker(e);
                i.dpDiv.css("display", "block")
            }
        },
        _dialogDatepicker: function(e, i, o, r, a) {
            var l, u = this._dialogInst;
            if (!u)
                this.uuid += 1,
                l = "dp" + this.uuid,
                this._dialogInput = A("<input type='text' id='" + l + "' style='position: absolute; top: -100px; width: 0px;'/>"),
                this._dialogInput.on("keydown", this._doKeyDown),
                A("body").append(this._dialogInput),
                (u = this._dialogInst = this._newInst(this._dialogInput, !1)).settings = {},
                A.data(this._dialogInput[0], "datepicker", u);
            if (G(u.settings, r || {}),
            i = i && i.constructor === Date ? this._formatDate(u, i) : i,
            this._dialogInput.val(i),
            this._pos = a ? a.length ? a : [a.pageX, a.pageY] : null,
            !this._pos)
                l = document.documentElement.clientWidth,
                r = document.documentElement.clientHeight,
                i = document.documentElement.scrollLeft || document.body.scrollLeft,
                a = document.documentElement.scrollTop || document.body.scrollTop,
                this._pos = [l / 2 - 100 + i, r / 2 - 150 + a];
            if (this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"),
            u.settings.onSelect = o,
            this._inDialog = !0,
            this.dpDiv.addClass(this._dialogClass),
            this._showDatepicker(this._dialogInput[0]),
            A.blockUI)
                A.blockUI(this.dpDiv);
            return A.data(this._dialogInput[0], "datepicker", u),
            this
        },
        _destroyDatepicker: function(e) {
            var i, o = A(e), r = A.data(e, "datepicker");
            if (!o.hasClass(this.markerClassName))
                ;
            else {
                if (i = e.nodeName.toLowerCase(),
                A.removeData(e, "datepicker"),
                "input" === i)
                    r.append.remove(),
                    r.trigger.remove(),
                    o.removeClass(this.markerClassName).off("focus", this._showDatepicker).off("keydown", this._doKeyDown).off("keypress", this._doKeyPress).off("keyup", this._doKeyUp);
                else if ("div" === i || "span" === i)
                    o.removeClass(this.markerClassName).empty();
                if (R === r)
                    R = null
            }
        },
        _enableDatepicker: function(i) {
            var e, o = A(i), r = A.data(i, "datepicker");
            if (!o.hasClass(this.markerClassName))
                ;
            else {
                if ("input" === (e = i.nodeName.toLowerCase()))
                    i.disabled = !1,
                    r.trigger.filter("button").each(function() {
                        this.disabled = !1
                    }).end().filter("img").css({
                        opacity: "1.0",
                        cursor: ""
                    });
                else if ("div" === e || "span" === e)
                    (r = o.children("." + this._inlineClass)).children().removeClass("ui-state-disabled"),
                    r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1);
                this._disabledInputs = A.map(this._disabledInputs, function(e) {
                    return e === i ? null : e
                })
            }
        },
        _disableDatepicker: function(i) {
            var e, o = A(i), r = A.data(i, "datepicker");
            if (!o.hasClass(this.markerClassName))
                ;
            else {
                if ("input" === (e = i.nodeName.toLowerCase()))
                    i.disabled = !0,
                    r.trigger.filter("button").each(function() {
                        this.disabled = !0
                    }).end().filter("img").css({
                        opacity: "0.5",
                        cursor: "default"
                    });
                else if ("div" === e || "span" === e)
                    (r = o.children("." + this._inlineClass)).children().addClass("ui-state-disabled"),
                    r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0);
                this._disabledInputs = A.map(this._disabledInputs, function(e) {
                    return e === i ? null : e
                }),
                this._disabledInputs[this._disabledInputs.length] = i
            }
        },
        _isDisabledDatepicker: function(e) {
            if (!e)
                ;
            else
                for (var i = 0; i < this._disabledInputs.length; i++)
                    if (this._disabledInputs[i] === e)
                        return !0;
            return !1
        },
        _getInst: function(e) {
            try {
                return A.data(e, "datepicker")
            } catch (e) {
                throw "Missing instance data for this datepicker"
            }
        },
        _optionDatepicker: function(e, i, o) {
            var r, a, l, u, c = this._getInst(e);
            if (2 === arguments.length && "string" == typeof i)
                return "defaults" === i ? A.extend({}, A.datepicker._defaults) : c ? "all" === i ? A.extend({}, c.settings) : this._get(c, i) : null;
            if (r = i || {},
            "string" == typeof i)
                (r = {})[i] = o;
            if (c) {
                if (this._curInst === c)
                    this._hideDatepicker();
                if (a = this._getDateDatepicker(e, !0),
                l = this._getMinMaxDate(c, "min"),
                u = this._getMinMaxDate(c, "max"),
                G(c.settings, r),
                null !== l && void 0 !== r.dateFormat && void 0 === r.minDate)
                    c.settings.minDate = this._formatDate(c, l);
                if (null !== u && void 0 !== r.dateFormat && void 0 === r.maxDate)
                    c.settings.maxDate = this._formatDate(c, u);
                if ("disabled"in r)
                    if (r.disabled)
                        this._disableDatepicker(e);
                    else
                        this._enableDatepicker(e);
                this._attachments(A(e), c),
                this._autoSize(c),
                this._setDate(c, a),
                this._updateAlternate(c),
                this._updateDatepicker(c)
            }
        },
        _changeDatepicker: function(e, i, o) {
            this._optionDatepicker(e, i, o)
        },
        _refreshDatepicker: function(e) {
            e = this._getInst(e);
            if (e)
                this._updateDatepicker(e)
        },
        _setDateDatepicker: function(e, i) {
            e = this._getInst(e);
            if (e)
                this._setDate(e, i),
                this._updateDatepicker(e),
                this._updateAlternate(e)
        },
        _getDateDatepicker: function(e, i) {
            e = this._getInst(e);
            if (e && !e.inline)
                this._setDateFromField(e, i);
            return e ? this._getDate(e) : null
        },
        _doKeyDown: function(e) {
            var i, o, r = A.datepicker._getInst(e.target), a = !0, l = r.dpDiv.is(".ui-datepicker-rtl");
            if (r._keyEvent = !0,
            A.datepicker._datepickerShowing)
                switch (e.keyCode) {
                case 9:
                    A.datepicker._hideDatepicker(),
                    a = !1;
                    break;
                case 13:
                    if ((o = A("td." + A.datepicker._dayOverClass + ":not(." + A.datepicker._currentClass + ")", r.dpDiv))[0])
                        A.datepicker._selectDay(e.target, r.selectedMonth, r.selectedYear, o[0]);
                    if (o = A.datepicker._get(r, "onSelect"))
                        i = A.datepicker._formatDate(r),
                        o.apply(r.input ? r.input[0] : null, [i, r]);
                    else
                        A.datepicker._hideDatepicker();
                    return !1;
                case 27:
                    A.datepicker._hideDatepicker();
                    break;
                case 33:
                    A.datepicker._adjustDate(e.target, e.ctrlKey ? -A.datepicker._get(r, "stepBigMonths") : -A.datepicker._get(r, "stepMonths"), "M");
                    break;
                case 34:
                    A.datepicker._adjustDate(e.target, e.ctrlKey ? +A.datepicker._get(r, "stepBigMonths") : +A.datepicker._get(r, "stepMonths"), "M");
                    break;
                case 35:
                    if (e.ctrlKey || e.metaKey)
                        A.datepicker._clearDate(e.target);
                    a = e.ctrlKey || e.metaKey;
                    break;
                case 36:
                    if (e.ctrlKey || e.metaKey)
                        A.datepicker._gotoToday(e.target);
                    a = e.ctrlKey || e.metaKey;
                    break;
                case 37:
                    if (e.ctrlKey || e.metaKey)
                        A.datepicker._adjustDate(e.target, l ? 1 : -1, "D");
                    if (a = e.ctrlKey || e.metaKey,
                    e.originalEvent.altKey)
                        A.datepicker._adjustDate(e.target, e.ctrlKey ? -A.datepicker._get(r, "stepBigMonths") : -A.datepicker._get(r, "stepMonths"), "M");
                    break;
                case 38:
                    if (e.ctrlKey || e.metaKey)
                        A.datepicker._adjustDate(e.target, -7, "D");
                    a = e.ctrlKey || e.metaKey;
                    break;
                case 39:
                    if (e.ctrlKey || e.metaKey)
                        A.datepicker._adjustDate(e.target, l ? -1 : 1, "D");
                    if (a = e.ctrlKey || e.metaKey,
                    e.originalEvent.altKey)
                        A.datepicker._adjustDate(e.target, e.ctrlKey ? +A.datepicker._get(r, "stepBigMonths") : +A.datepicker._get(r, "stepMonths"), "M");
                    break;
                case 40:
                    if (e.ctrlKey || e.metaKey)
                        A.datepicker._adjustDate(e.target, 7, "D");
                    a = e.ctrlKey || e.metaKey;
                    break;
                default:
                    a = !1
                }
            else if (36 === e.keyCode && e.ctrlKey)
                A.datepicker._showDatepicker(this);
            else
                a = !1;
            if (a)
                e.preventDefault(),
                e.stopPropagation()
        },
        _doKeyPress: function(e) {
            var i, o = A.datepicker._getInst(e.target);
            if (A.datepicker._get(o, "constrainInput"))
                return o = A.datepicker._possibleChars(A.datepicker._get(o, "dateFormat")),
                i = String.fromCharCode(null == e.charCode ? e.keyCode : e.charCode),
                e.ctrlKey || e.metaKey || (i < " " || !o || -1 < o.indexOf(i))
        },
        _doKeyUp: function(e) {
            e = A.datepicker._getInst(e.target);
            if (e.input.val() !== e.lastVal)
                try {
                    if (A.datepicker.parseDate(A.datepicker._get(e, "dateFormat"), e.input ? e.input.val() : null, A.datepicker._getFormatConfig(e)))
                        A.datepicker._setDateFromField(e),
                        A.datepicker._updateAlternate(e),
                        A.datepicker._updateDatepicker(e)
                } catch (e) {}
            return !0
        },
        _showDatepicker: function(e) {
            if ("input" !== (e = e.target || e).nodeName.toLowerCase())
                e = A("input", e.parentNode)[0];
            if (A.datepicker._isDisabledDatepicker(e) || A.datepicker._lastInput === e)
                ;
            else {
                var i, o, r, a = A.datepicker._getInst(e);
                if (A.datepicker._curInst && A.datepicker._curInst !== a)
                    if (A.datepicker._curInst.dpDiv.stop(!0, !0),
                    a && A.datepicker._datepickerShowing)
                        A.datepicker._hideDatepicker(A.datepicker._curInst.input[0]);
                if (!1 === (o = (o = A.datepicker._get(a, "beforeShow")) ? o.apply(e, [e, a]) : {}))
                    ;
                else {
                    if (G(a.settings, o),
                    a.lastVal = null,
                    A.datepicker._lastInput = e,
                    A.datepicker._setDateFromField(a),
                    A.datepicker._inDialog)
                        e.value = "";
                    if (!A.datepicker._pos)
                        A.datepicker._pos = A.datepicker._findPos(e),
                        A.datepicker._pos[1] += e.offsetHeight;
                    if (i = !1,
                    A(e).parents().each(function() {
                        return !(i |= "fixed" === A(this).css("position"))
                    }),
                    o = {
                        left: A.datepicker._pos[0],
                        top: A.datepicker._pos[1]
                    },
                    A.datepicker._pos = null,
                    a.dpDiv.empty(),
                    a.dpDiv.css({
                        position: "absolute",
                        display: "block",
                        top: "-1000px"
                    }),
                    A.datepicker._updateDatepicker(a),
                    o = A.datepicker._checkOffset(a, o, i),
                    a.dpDiv.css({
                        position: A.datepicker._inDialog && A.blockUI ? "static" : i ? "fixed" : "absolute",
                        display: "none",
                        left: o.left + "px",
                        top: o.top + "px"
                    }),
                    !a.inline) {
                        if (o = A.datepicker._get(a, "showAnim"),
                        r = A.datepicker._get(a, "duration"),
                        a.dpDiv.css("z-index", function(e) {
                            for (var i; e.length && e[0] !== document; ) {
                                if ("absolute" === (i = e.css("position")) || "relative" === i || "fixed" === i)
                                    if (i = parseInt(e.css("zIndex"), 10),
                                    !isNaN(i) && 0 !== i)
                                        return i;
                                e = e.parent()
                            }
                            return 0
                        }(A(e)) + 1),
                        A.datepicker._datepickerShowing = !0,
                        A.effects && A.effects.effect[o])
                            a.dpDiv.show(o, A.datepicker._get(a, "showOptions"), r);
                        else
                            a.dpDiv[o || "show"](o ? r : null);
                        if (A.datepicker._shouldFocusInput(a))
                            a.input.trigger("focus");
                        A.datepicker._curInst = a
                    }
                }
            }
        },
        _updateDatepicker: function(e) {
            this.maxRows = 4,
            (R = e).dpDiv.empty().append(this._generateHTML(e)),
            this._attachHandlers(e);
            var i, o = this._getNumberOfMonths(e), r = o[1], a = e.dpDiv.find("." + this._dayOverClass + " a");
            if (0 < a.length)
                Q.apply(a.get(0));
            if (e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),
            1 < r)
                e.dpDiv.addClass("ui-datepicker-multi-" + r).css("width", 17 * r + "em");
            if (e.dpDiv[(1 !== o[0] || 1 !== o[1] ? "add" : "remove") + "Class"]("ui-datepicker-multi"),
            e.dpDiv[(this._get(e, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl"),
            e === A.datepicker._curInst && A.datepicker._datepickerShowing && A.datepicker._shouldFocusInput(e))
                e.input.trigger("focus");
            if (e.yearshtml)
                i = e.yearshtml,
                setTimeout(function() {
                    if (i === e.yearshtml && e.yearshtml)
                        e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml);
                    i = e.yearshtml = null
                }, 0)
        },
        _shouldFocusInput: function(e) {
            return e.input && e.input.is(":visible") && !e.input.is(":disabled") && !e.input.is(":focus")
        },
        _checkOffset: function(e, i, o) {
            var r = e.dpDiv.outerWidth()
              , a = e.dpDiv.outerHeight()
              , l = e.input ? e.input.outerWidth() : 0
              , u = e.input ? e.input.outerHeight() : 0
              , c = document.documentElement.clientWidth + (o ? 0 : A(document).scrollLeft())
              , d = document.documentElement.clientHeight + (o ? 0 : A(document).scrollTop());
            return i.left -= this._get(e, "isRTL") ? r - l : 0,
            i.left -= o && i.left === e.input.offset().left ? A(document).scrollLeft() : 0,
            i.top -= o && i.top === e.input.offset().top + u ? A(document).scrollTop() : 0,
            i.left -= Math.min(i.left, c < i.left + r && r < c ? Math.abs(i.left + r - c) : 0),
            i.top -= Math.min(i.top, d < i.top + a && a < d ? Math.abs(a + u) : 0),
            i
        },
        _findPos: function(e) {
            for (var i = this._getInst(e), o = this._get(i, "isRTL"); e && ("hidden" === e.type || 1 !== e.nodeType || A.expr.pseudos.hidden(e)); )
                e = e[o ? "previousSibling" : "nextSibling"];
            return [(i = A(e).offset()).left, i.top]
        },
        _hideDatepicker: function(e) {
            var i, o, r = this._curInst;
            if (!r || e && r !== A.data(e, "datepicker"))
                ;
            else if (this._datepickerShowing) {
                if (e = this._get(r, "showAnim"),
                o = this._get(r, "duration"),
                i = function() {
                    A.datepicker._tidyDialog(r)
                }
                ,
                A.effects && (A.effects.effect[e] || A.effects[e]))
                    r.dpDiv.hide(e, A.datepicker._get(r, "showOptions"), o, i);
                else
                    r.dpDiv["slideDown" === e ? "slideUp" : "fadeIn" === e ? "fadeOut" : "hide"](e ? o : null, i);
                if (!e)
                    i();
                if (this._datepickerShowing = !1,
                o = this._get(r, "onClose"))
                    o.apply(r.input ? r.input[0] : null, [r.input ? r.input.val() : "", r]);
                if (this._lastInput = null,
                this._inDialog)
                    if (this._dialogInput.css({
                        position: "absolute",
                        left: "0",
                        top: "-100px"
                    }),
                    A.blockUI)
                        A.unblockUI(),
                        A("body").append(this.dpDiv);
                this._inDialog = !1
            }
        },
        _tidyDialog: function(e) {
            e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")
        },
        _checkExternalClick: function(e) {
            if (!A.datepicker._curInst)
                ;
            else {
                var e = A(e.target)
                  , i = A.datepicker._getInst(e[0]);
                if (e[0].id !== A.datepicker._mainDivId && 0 === e.parents("#" + A.datepicker._mainDivId).length && !e.hasClass(A.datepicker.markerClassName) && !e.closest("." + A.datepicker._triggerClass).length && A.datepicker._datepickerShowing && (!A.datepicker._inDialog || !A.blockUI) || e.hasClass(A.datepicker.markerClassName) && A.datepicker._curInst !== i)
                    A.datepicker._hideDatepicker()
            }
        },
        _adjustDate: function(e, i, o) {
            var e = A(e)
              , r = this._getInst(e[0]);
            if (this._isDisabledDatepicker(e[0]))
                ;
            else
                this._adjustInstDate(r, i + ("M" === o ? this._get(r, "showCurrentAtPos") : 0), o),
                this._updateDatepicker(r)
        },
        _gotoToday: function(e) {
            var i, e = A(e), o = this._getInst(e[0]);
            if (this._get(o, "gotoCurrent") && o.currentDay)
                o.selectedDay = o.currentDay,
                o.drawMonth = o.selectedMonth = o.currentMonth,
                o.drawYear = o.selectedYear = o.currentYear;
            else
                i = new Date,
                o.selectedDay = i.getDate(),
                o.drawMonth = o.selectedMonth = i.getMonth(),
                o.drawYear = o.selectedYear = i.getFullYear();
            this._notifyChange(o),
            this._adjustDate(e)
        },
        _selectMonthYear: function(e, i, o) {
            var e = A(e)
              , r = this._getInst(e[0]);
            r["selected" + ("M" === o ? "Month" : "Year")] = r["draw" + ("M" === o ? "Month" : "Year")] = parseInt(i.options[i.selectedIndex].value, 10),
            this._notifyChange(r),
            this._adjustDate(e)
        },
        _selectDay: function(e, i, o, r) {
            var a = A(e);
            if (A(r).hasClass(this._unselectableClass) || this._isDisabledDatepicker(a[0]))
                ;
            else
                (a = this._getInst(a[0])).selectedDay = a.currentDay = A("a", r).html(),
                a.selectedMonth = a.currentMonth = i,
                a.selectedYear = a.currentYear = o,
                this._selectDate(e, this._formatDate(a, a.currentDay, a.currentMonth, a.currentYear))
        },
        _clearDate: function(e) {
            e = A(e);
            this._selectDate(e, "")
        },
        _selectDate: function(e, i) {
            var o, e = A(e), e = this._getInst(e[0]);
            if (i = null != i ? i : this._formatDate(e),
            e.input)
                e.input.val(i);
            if (this._updateAlternate(e),
            o = this._get(e, "onSelect"))
                o.apply(e.input ? e.input[0] : null, [i, e]);
            else if (e.input)
                e.input.trigger("change");
            if (e.inline)
                this._updateDatepicker(e);
            else {
                if (this._hideDatepicker(),
                this._lastInput = e.input[0],
                "object" != typeof e.input[0])
                    e.input.trigger("focus");
                this._lastInput = null
            }
        },
        _updateAlternate: function(e) {
            var i, o, r = this._get(e, "altField");
            if (r)
                o = this._get(e, "altFormat") || this._get(e, "dateFormat"),
                i = this._getDate(e),
                o = this.formatDate(o, i, this._getFormatConfig(e)),
                A(r).val(o)
        },
        noWeekends: function(e) {
            e = e.getDay();
            return [0 < e && e < 6, ""]
        },
        iso8601Week: function(e) {
            var i, e = new Date(e.getTime());
            return e.setDate(e.getDate() + 4 - (e.getDay() || 7)),
            i = e.getTime(),
            e.setMonth(0),
            e.setDate(1),
            Math.floor(Math.round((i - e) / 864e5) / 7) + 1
        },
        parseDate: function(i, a, e) {
            if (null == i || null == a)
                throw "Invalid arguments";
            if ("" === (a = "object" == typeof a ? a.toString() : a + ""))
                return null;
            function o(e) {
                var i = T(e)
                  , i = "@" === e ? 14 : "!" === e ? 20 : "y" === e && i ? 4 : "o" === e ? 3 : 2
                  , e = new RegExp("^\\d{" + ("y" === e ? i : 1) + "," + i + "}");
                if (i = a.substring(d).match(e))
                    return d += i[0].length,
                    parseInt(i[0], 10);
                throw "Missing number at position " + d
            }
            function r(e, i, o) {
                var r = -1
                  , e = A.map(T(e) ? o : i, function(e, i) {
                    return [[i, e]]
                }).sort(function(e, i) {
                    return -(e[1].length - i[1].length)
                });
                if (A.each(e, function(e, i) {
                    var o = i[1];
                    if (a.substr(d, o.length).toLowerCase() === o.toLowerCase())
                        return r = i[0],
                        d += o.length,
                        !1
                }),
                -1 !== r)
                    return r + 1;
                else
                    throw "Unknown name at position " + d
            }
            function l() {
                if (a.charAt(d) !== i.charAt(k))
                    throw "Unexpected literal at position " + d;
                d++
            }
            for (var u, c, d = 0, h = (e ? e.shortYearCutoff : null) || this._defaults.shortYearCutoff, h = "string" != typeof h ? h : (new Date).getFullYear() % 100 + parseInt(h, 10), p = (e ? e.dayNamesShort : null) || this._defaults.dayNamesShort, f = (e ? e.dayNames : null) || this._defaults.dayNames, g = (e ? e.monthNamesShort : null) || this._defaults.monthNamesShort, m = (e ? e.monthNames : null) || this._defaults.monthNames, w = -1, v = -1, y = -1, b = -1, C = !1, T = function(e) {
                e = k + 1 < i.length && i.charAt(k + 1) === e;
                if (e)
                    k++;
                return e
            }, k = 0; k < i.length; k++)
                if (C)
                    if ("'" === i.charAt(k) && !T("'"))
                        C = !1;
                    else
                        l();
                else
                    switch (i.charAt(k)) {
                    case "d":
                        y = o("d");
                        break;
                    case "D":
                        r("D", p, f);
                        break;
                    case "o":
                        b = o("o");
                        break;
                    case "m":
                        v = o("m");
                        break;
                    case "M":
                        v = r("M", g, m);
                        break;
                    case "y":
                        w = o("y");
                        break;
                    case "@":
                        w = (c = new Date(o("@"))).getFullYear(),
                        v = c.getMonth() + 1,
                        y = c.getDate();
                        break;
                    case "!":
                        w = (c = new Date((o("!") - this._ticksTo1970) / 1e4)).getFullYear(),
                        v = c.getMonth() + 1,
                        y = c.getDate();
                        break;
                    case "'":
                        if (T("'"))
                            l();
                        else
                            C = !0;
                        break;
                    default:
                        l()
                    }
            if (d < a.length)
                if (e = a.substr(d),
                !/^\s+/.test(e))
                    throw "Extra/unparsed characters found in date: " + e;
            if (-1 === w)
                w = (new Date).getFullYear();
            else if (w < 100)
                w += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (w <= h ? 0 : -100);
            if (-1 < b)
                for (v = 1,
                y = b; ; ) {
                    if (y <= (u = this._getDaysInMonth(w, v - 1)))
                        break;
                    v++,
                    y -= u
                }
            if ((c = this._daylightSavingAdjust(new Date(w,v - 1,y))).getFullYear() !== w || c.getMonth() + 1 !== v || c.getDate() !== y)
                throw "Invalid date";
            return c
        },
        ATOM: "yy-mm-dd",
        COOKIE: "D, dd M yy",
        ISO_8601: "yy-mm-dd",
        RFC_822: "D, d M y",
        RFC_850: "DD, dd-M-y",
        RFC_1036: "D, d M y",
        RFC_1123: "D, d M yy",
        RFC_2822: "D, d M yy",
        RSS: "D, d M y",
        TICKS: "!",
        TIMESTAMP: "@",
        W3C: "yy-mm-dd",
        _ticksTo1970: 24 * (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)) * 60 * 60 * 1e7,
        formatDate: function(i, e, o) {
            if (!e)
                return "";
            function r(e, i, o) {
                var r = "" + i;
                if (p(e))
                    for (; r.length < o; )
                        r = "0" + r;
                return r
            }
            function a(e, i, o, r) {
                return p(e) ? r[i] : o[i]
            }
            var l, u = (o ? o.dayNamesShort : null) || this._defaults.dayNamesShort, c = (o ? o.dayNames : null) || this._defaults.dayNames, d = (o ? o.monthNamesShort : null) || this._defaults.monthNamesShort, h = (o ? o.monthNames : null) || this._defaults.monthNames, p = function(e) {
                e = l + 1 < i.length && i.charAt(l + 1) === e;
                if (e)
                    l++;
                return e
            }, f = "", g = !1;
            if (e)
                for (l = 0; l < i.length; l++)
                    if (g)
                        if ("'" === i.charAt(l) && !p("'"))
                            g = !1;
                        else
                            f += i.charAt(l);
                    else
                        switch (i.charAt(l)) {
                        case "d":
                            f += r("d", e.getDate(), 2);
                            break;
                        case "D":
                            f += a("D", e.getDay(), u, c);
                            break;
                        case "o":
                            f += r("o", Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime() - new Date(e.getFullYear(),0,0).getTime()) / 864e5), 3);
                            break;
                        case "m":
                            f += r("m", e.getMonth() + 1, 2);
                            break;
                        case "M":
                            f += a("M", e.getMonth(), d, h);
                            break;
                        case "y":
                            f += p("y") ? e.getFullYear() : (e.getFullYear() % 100 < 10 ? "0" : "") + e.getFullYear() % 100;
                            break;
                        case "@":
                            f += e.getTime();
                            break;
                        case "!":
                            f += 1e4 * e.getTime() + this._ticksTo1970;
                            break;
                        case "'":
                            if (p("'"))
                                f += "'";
                            else
                                g = !0;
                            break;
                        default:
                            f += i.charAt(l)
                        }
            return f
        },
        _possibleChars: function(i) {
            function e(e) {
                if (e = a + 1 < i.length && i.charAt(a + 1) === e)
                    a++;
                return e
            }
            for (var o = "", r = !1, a = 0; a < i.length; a++)
                if (r)
                    if ("'" === i.charAt(a) && !e("'"))
                        r = !1;
                    else
                        o += i.charAt(a);
                else
                    switch (i.charAt(a)) {
                    case "d":
                    case "m":
                    case "y":
                    case "@":
                        o += "0123456789";
                        break;
                    case "D":
                    case "M":
                        return null;
                    case "'":
                        if (e("'"))
                            o += "'";
                        else
                            r = !0;
                        break;
                    default:
                        o += i.charAt(a)
                    }
            return o
        },
        _get: function(e, i) {
            return void 0 !== e.settings[i] ? e.settings[i] : this._defaults[i]
        },
        _setDateFromField: function(e, i) {
            if (e.input.val() === e.lastVal)
                ;
            else {
                var o = this._get(e, "dateFormat")
                  , r = e.lastVal = e.input ? e.input.val() : null
                  , a = this._getDefaultDate(e)
                  , l = a
                  , u = this._getFormatConfig(e);
                try {
                    l = this.parseDate(o, r, u) || a
                } catch (e) {
                    r = i ? "" : r
                }
                e.selectedDay = l.getDate(),
                e.drawMonth = e.selectedMonth = l.getMonth(),
                e.drawYear = e.selectedYear = l.getFullYear(),
                e.currentDay = r ? l.getDate() : 0,
                e.currentMonth = r ? l.getMonth() : 0,
                e.currentYear = r ? l.getFullYear() : 0,
                this._adjustInstDate(e)
            }
        },
        _getDefaultDate: function(e) {
            return this._restrictMinMax(e, this._determineDate(e, this._get(e, "defaultDate"), new Date))
        },
        _determineDate: function(c, e, i) {
            var o, r = null == e || "" === e ? i : "string" == typeof e ? function(e) {
                try {
                    return A.datepicker.parseDate(A.datepicker._get(c, "dateFormat"), e, A.datepicker._getFormatConfig(c))
                } catch (e) {}
                for (var i = (e.toLowerCase().match(/^c/) ? A.datepicker._getDate(c) : null) || new Date, o = i.getFullYear(), r = i.getMonth(), a = i.getDate(), l = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, u = l.exec(e); u; ) {
                    switch (u[2] || "d") {
                    case "d":
                    case "D":
                        a += parseInt(u[1], 10);
                        break;
                    case "w":
                    case "W":
                        a += 7 * parseInt(u[1], 10);
                        break;
                    case "m":
                    case "M":
                        r += parseInt(u[1], 10),
                        a = Math.min(a, A.datepicker._getDaysInMonth(o, r));
                        break;
                    case "y":
                    case "Y":
                        o += parseInt(u[1], 10),
                        a = Math.min(a, A.datepicker._getDaysInMonth(o, r))
                    }
                    u = l.exec(e)
                }
                return new Date(o,r,a)
            }(e) : "number" == typeof e ? isNaN(e) ? i : (r = e,
            (o = new Date).setDate(o.getDate() + r),
            o) : new Date(e.getTime());
            if (r = r && "Invalid Date" === r.toString() ? i : r)
                r.setHours(0),
                r.setMinutes(0),
                r.setSeconds(0),
                r.setMilliseconds(0);
            return this._daylightSavingAdjust(r)
        },
        _daylightSavingAdjust: function(e) {
            if (e)
                return e.setHours(12 < e.getHours() ? e.getHours() + 2 : 0),
                e;
            else
                return null
        },
        _setDate: function(e, i, o) {
            var r = !i
              , a = e.selectedMonth
              , l = e.selectedYear
              , i = this._restrictMinMax(e, this._determineDate(e, i, new Date));
            if (e.selectedDay = e.currentDay = i.getDate(),
            e.drawMonth = e.selectedMonth = e.currentMonth = i.getMonth(),
            e.drawYear = e.selectedYear = e.currentYear = i.getFullYear(),
            (a !== e.selectedMonth || l !== e.selectedYear) && !o)
                this._notifyChange(e);
            if (this._adjustInstDate(e),
            e.input)
                e.input.val(r ? "" : this._formatDate(e))
        },
        _getDate: function(e) {
            return !e.currentYear || e.input && "" === e.input.val() ? null : this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))
        },
        _attachHandlers: function(e) {
            var i = this._get(e, "stepMonths")
              , o = "#" + e.id.replace(/\\\\/g, "\\");
            e.dpDiv.find("[data-handler]").map(function() {
                var e = {
                    prev: function() {
                        A.datepicker._adjustDate(o, -i, "M")
                    },
                    next: function() {
                        A.datepicker._adjustDate(o, +i, "M")
                    },
                    hide: function() {
                        A.datepicker._hideDatepicker()
                    },
                    today: function() {
                        A.datepicker._gotoToday(o)
                    },
                    selectDay: function() {
                        return A.datepicker._selectDay(o, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this),
                        !1
                    },
                    selectMonth: function() {
                        return A.datepicker._selectMonthYear(o, this, "M"),
                        !1
                    },
                    selectYear: function() {
                        return A.datepicker._selectMonthYear(o, this, "Y"),
                        !1
                    }
                };
                A(this).on(this.getAttribute("data-event"), e[this.getAttribute("data-handler")])
            })
        },
        _generateHTML: function(e) {
            var i, o, r, a, l, N, $, z, q, u, c, H, d, h, p, f, g, m, w, v, y, b, U, C, T, k, x, V, j, S, A, E, M = new Date, Y = this._daylightSavingAdjust(new Date(M.getFullYear(),M.getMonth(),M.getDate())), I = this._get(e, "isRTL"), M = this._get(e, "showButtonPanel"), P = this._get(e, "hideIfNoPrevNext"), O = this._get(e, "navigationAsDateFormat"), R = this._getNumberOfMonths(e), G = this._get(e, "showCurrentAtPos"), D = this._get(e, "stepMonths"), Q = 1 !== R[0] || 1 !== R[1], K = this._daylightSavingAdjust(!e.currentDay ? new Date(9999,9,9) : new Date(e.currentYear,e.currentMonth,e.currentDay)), B = this._getMinMaxDate(e, "min"), L = this._getMinMaxDate(e, "max"), W = e.drawMonth - G, F = e.drawYear;
            if (W < 0)
                W += 12,
                F--;
            if (L)
                for (i = this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth() - R[0] * R[1] + 1,L.getDate())),
                i = B && i < B ? B : i; this._daylightSavingAdjust(new Date(F,W,1)) > i; )
                    if (--W < 0)
                        W = 11,
                        F--;
            for (e.drawMonth = W,
            e.drawYear = F,
            G = this._get(e, "prevText"),
            G = !O ? G : this.formatDate(G, this._daylightSavingAdjust(new Date(F,W - D,1)), this._getFormatConfig(e)),
            o = this._canAdjustMonth(e, -1, F, W) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + G + "'><span class='ui-icon ui-icon-circle-triangle-" + (I ? "e" : "w") + "'>" + G + "</span></a>" : P ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + G + "'><span class='ui-icon ui-icon-circle-triangle-" + (I ? "e" : "w") + "'>" + G + "</span></a>",
            G = this._get(e, "nextText"),
            G = !O ? G : this.formatDate(G, this._daylightSavingAdjust(new Date(F,W + D,1)), this._getFormatConfig(e)),
            r = this._canAdjustMonth(e, 1, F, W) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + G + "'><span class='ui-icon ui-icon-circle-triangle-" + (I ? "w" : "e") + "'>" + G + "</span></a>" : P ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + G + "'><span class='ui-icon ui-icon-circle-triangle-" + (I ? "w" : "e") + "'>" + G + "</span></a>",
            D = this._get(e, "currentText"),
            P = this._get(e, "gotoCurrent") && e.currentDay ? K : Y,
            D = !O ? D : this.formatDate(D, P, this._getFormatConfig(e)),
            G = !e.inline ? "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(e, "closeText") + "</button>" : "",
            O = M ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (I ? G : "") + (this._isInRange(e, P) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" + D + "</button>" : "") + (I ? "" : G) + "</div>" : "",
            a = parseInt(this._get(e, "firstDay"), 10),
            a = isNaN(a) ? 0 : a,
            l = this._get(e, "showWeek"),
            N = this._get(e, "dayNames"),
            $ = this._get(e, "dayNamesMin"),
            z = this._get(e, "monthNames"),
            q = this._get(e, "monthNamesShort"),
            u = this._get(e, "beforeShowDay"),
            c = this._get(e, "showOtherMonths"),
            H = this._get(e, "selectOtherMonths"),
            d = this._getDefaultDate(e),
            h = "",
            f = 0; f < R[0]; f++) {
                for (g = "",
                this.maxRows = 4,
                m = 0; m < R[1]; m++) {
                    if (w = this._daylightSavingAdjust(new Date(F,W,e.selectedDay)),
                    v = " ui-corner-all",
                    y = "",
                    Q) {
                        if (y += "<div class='ui-datepicker-group",
                        1 < R[1])
                            switch (m) {
                            case 0:
                                y += " ui-datepicker-group-first",
                                v = " ui-corner-" + (I ? "right" : "left");
                                break;
                            case R[1] - 1:
                                y += " ui-datepicker-group-last",
                                v = " ui-corner-" + (I ? "left" : "right");
                                break;
                            default:
                                y += " ui-datepicker-group-middle",
                                v = ""
                            }
                        y += "'>"
                    }
                    for (y += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + v + "'>" + (/all|left/.test(v) && 0 === f ? I ? r : o : "") + (/all|right/.test(v) && 0 === f ? I ? o : r : "") + this._generateMonthYearHeader(e, W, F, B, L, 0 < f || 0 < m, z, q) + "</div><table class='ui-datepicker-calendar'><thead><tr>",
                    b = l ? "<th class='ui-datepicker-week-col'>" + this._get(e, "weekHeader") + "</th>" : "",
                    p = 0; p < 7; p++)
                        b += "<th scope='col'" + (5 <= (p + a + 6) % 7 ? " class='ui-datepicker-week-end'" : "") + "><span title='" + N[U = (p + a) % 7] + "'>" + $[U] + "</span></th>";
                    if (y += b + "</tr></thead><tbody>",
                    T = this._getDaysInMonth(F, W),
                    F === e.selectedYear && W === e.selectedMonth)
                        e.selectedDay = Math.min(e.selectedDay, T);
                    for (C = (this._getFirstDayOfMonth(F, W) - a + 7) % 7,
                    T = Math.ceil((C + T) / 7),
                    k = Q ? this.maxRows > T ? this.maxRows : T : T,
                    this.maxRows = k,
                    x = this._daylightSavingAdjust(new Date(F,W,1 - C)),
                    V = 0; V < k; V++) {
                        for (y += "<tr>",
                        j = !l ? "" : "<td class='ui-datepicker-week-col'>" + this._get(e, "calculateWeek")(x) + "</td>",
                        p = 0; p < 7; p++)
                            S = u ? u.apply(e.input ? e.input[0] : null, [x]) : [!0, ""],
                            E = (A = x.getMonth() !== W) && !H || !S[0] || B && x < B || L && L < x,
                            j += "<td class='" + (5 <= (p + a + 6) % 7 ? " ui-datepicker-week-end" : "") + (A ? " ui-datepicker-other-month" : "") + (x.getTime() === w.getTime() && W === e.selectedMonth && e._keyEvent || d.getTime() === x.getTime() && d.getTime() === w.getTime() ? " " + this._dayOverClass : "") + (E ? " " + this._unselectableClass + " ui-state-disabled" : "") + (A && !c ? "" : " " + S[1] + (x.getTime() === K.getTime() ? " " + this._currentClass : "") + (x.getTime() === Y.getTime() ? " ui-datepicker-today" : "")) + "'" + ((!A || c) && S[2] ? " title='" + S[2].replace(/'/g, "&#39;") + "'" : "") + (E ? "" : " data-handler='selectDay' data-event='click' data-month='" + x.getMonth() + "' data-year='" + x.getFullYear() + "'") + ">" + (A && !c ? "&#xa0;" : E ? "<span class='ui-state-default'>" + x.getDate() + "</span>" : "<a class='ui-state-default" + (x.getTime() === Y.getTime() ? " ui-state-highlight" : "") + (x.getTime() === K.getTime() ? " ui-state-active" : "") + (A ? " ui-priority-secondary" : "") + "' href='#'>" + x.getDate() + "</a>") + "</td>",
                            x.setDate(x.getDate() + 1),
                            x = this._daylightSavingAdjust(x);
                        y += j + "</tr>"
                    }
                    if (11 < ++W)
                        W = 0,
                        F++;
                    g += y += "</tbody></table>" + (Q ? "</div>" + (0 < R[0] && m === R[1] - 1 ? "<div class='ui-datepicker-row-break'></div>" : "") : "")
                }
                h += g
            }
            return h += O,
            e._keyEvent = !1,
            h
        },
        _generateMonthYearHeader: function(e, i, o, r, a, l, u, c) {
            var d, h, p, f, g, m, w, v = this._get(e, "changeMonth"), y = this._get(e, "changeYear"), b = this._get(e, "showMonthAfterYear"), C = "<div class='ui-datepicker-title'>", T = "";
            if (l || !v)
                T += "<span class='ui-datepicker-month'>" + u[i] + "</span>";
            else {
                for (d = r && r.getFullYear() === o,
                h = a && a.getFullYear() === o,
                T += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",
                p = 0; p < 12; p++)
                    if ((!d || p >= r.getMonth()) && (!h || p <= a.getMonth()))
                        T += "<option value='" + p + "'" + (p === i ? " selected='selected'" : "") + ">" + c[p] + "</option>";
                T += "</select>"
            }
            if (!b)
                C += T + (l || (!v || !y) ? "&#xa0;" : "");
            if (!e.yearshtml)
                if (e.yearshtml = "",
                l || !y)
                    C += "<span class='ui-datepicker-year'>" + o + "</span>";
                else {
                    for (u = this._get(e, "yearRange").split(":"),
                    f = (new Date).getFullYear(),
                    m = (g = function(e) {
                        e = e.match(/c[+\-].*/) ? o + parseInt(e.substring(1), 10) : e.match(/[+\-].*/) ? f + parseInt(e, 10) : parseInt(e, 10);
                        return isNaN(e) ? f : e
                    }
                    )(u[0]),
                    w = Math.max(m, g(u[1] || "")),
                    m = r ? Math.max(m, r.getFullYear()) : m,
                    w = a ? Math.min(w, a.getFullYear()) : w,
                    e.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>"; m <= w; m++)
                        e.yearshtml += "<option value='" + m + "'" + (m === o ? " selected='selected'" : "") + ">" + m + "</option>";
                    e.yearshtml += "</select>",
                    C += e.yearshtml,
                    e.yearshtml = null
                }
            if (C += this._get(e, "yearSuffix"),
            b)
                C += (l || (!v || !y) ? "&#xa0;" : "") + T;
            return C += "</div>"
        },
        _adjustInstDate: function(e, i, o) {
            var r = e.selectedYear + ("Y" === o ? i : 0)
              , a = e.selectedMonth + ("M" === o ? i : 0)
              , i = Math.min(e.selectedDay, this._getDaysInMonth(r, a)) + ("D" === o ? i : 0)
              , r = this._restrictMinMax(e, this._daylightSavingAdjust(new Date(r,a,i)));
            if (e.selectedDay = r.getDate(),
            e.drawMonth = e.selectedMonth = r.getMonth(),
            e.drawYear = e.selectedYear = r.getFullYear(),
            "M" === o || "Y" === o)
                this._notifyChange(e)
        },
        _restrictMinMax: function(e, i) {
            var o = this._getMinMaxDate(e, "min")
              , e = this._getMinMaxDate(e, "max")
              , o = o && i < o ? o : i;
            return e && e < o ? e : o
        },
        _notifyChange: function(e) {
            var i = this._get(e, "onChangeMonthYear");
            if (i)
                i.apply(e.input ? e.input[0] : null, [e.selectedYear, e.selectedMonth + 1, e])
        },
        _getNumberOfMonths: function(e) {
            e = this._get(e, "numberOfMonths");
            return null == e ? [1, 1] : "number" == typeof e ? [1, e] : e
        },
        _getMinMaxDate: function(e, i) {
            return this._determineDate(e, this._get(e, i + "Date"), null)
        },
        _getDaysInMonth: function(e, i) {
            return 32 - this._daylightSavingAdjust(new Date(e,i,32)).getDate()
        },
        _getFirstDayOfMonth: function(e, i) {
            return new Date(e,i,1).getDay()
        },
        _canAdjustMonth: function(e, i, o, r) {
            var a = this._getNumberOfMonths(e)
              , o = this._daylightSavingAdjust(new Date(o,r + (i < 0 ? i : a[0] * a[1]),1));
            if (i < 0)
                o.setDate(this._getDaysInMonth(o.getFullYear(), o.getMonth()));
            return this._isInRange(e, o)
        },
        _isInRange: function(e, i) {
            var o, r = this._getMinMaxDate(e, "min"), a = this._getMinMaxDate(e, "max"), l = null, u = null, e = this._get(e, "yearRange");
            if (e) {
                if (e = e.split(":"),
                o = (new Date).getFullYear(),
                l = parseInt(e[0], 10),
                u = parseInt(e[1], 10),
                e[0].match(/[+\-].*/))
                    l += o;
                if (e[1].match(/[+\-].*/))
                    u += o
            }
            return (!r || i.getTime() >= r.getTime()) && (!a || i.getTime() <= a.getTime()) && (!l || i.getFullYear() >= l) && (!u || i.getFullYear() <= u)
        },
        _getFormatConfig: function(e) {
            var i = this._get(e, "shortYearCutoff");
            return {
                shortYearCutoff: "string" != typeof i ? i : (new Date).getFullYear() % 100 + parseInt(i, 10),
                dayNamesShort: this._get(e, "dayNamesShort"),
                dayNames: this._get(e, "dayNames"),
                monthNamesShort: this._get(e, "monthNamesShort"),
                monthNames: this._get(e, "monthNames")
            }
        },
        _formatDate: function(e, i, o, r) {
            if (!i)
                e.currentDay = e.selectedDay,
                e.currentMonth = e.selectedMonth,
                e.currentYear = e.selectedYear;
            r = i ? "object" == typeof i ? i : this._daylightSavingAdjust(new Date(r,o,i)) : this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));
            return this.formatDate(this._get(e, "dateFormat"), r, this._getFormatConfig(e))
        }
    }),
    A.fn.datepicker = function(e) {
        if (!this.length)
            return this;
        if (!A.datepicker.initialized)
            A(document).on("mousedown", A.datepicker._checkExternalClick),
            A.datepicker.initialized = !0;
        if (0 === A("#" + A.datepicker._mainDivId).length)
            A("body").append(A.datepicker.dpDiv);
        var i = Array.prototype.slice.call(arguments, 1);
        if ("string" == typeof e && ("isDisabled" === e || "getDate" === e || "widget" === e))
            return A.datepicker["_" + e + "Datepicker"].apply(A.datepicker, [this[0]].concat(i));
        if ("option" === e && 2 === arguments.length && "string" == typeof arguments[1])
            return A.datepicker["_" + e + "Datepicker"].apply(A.datepicker, [this[0]].concat(i));
        else
            return this.each(function() {
                "string" == typeof e ? A.datepicker["_" + e + "Datepicker"].apply(A.datepicker, [this].concat(i)) : A.datepicker._attachDatepicker(this, e)
            })
    }
    ,
    A.datepicker = new j,
    A.datepicker.initialized = !1,
    A.datepicker.uuid = (new Date).getTime(),
    A.datepicker.version = "1.12.1";
    A.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
    var D = !1;
    A(document).on("mouseup", function() {
        D = !1
    }),
    A.widget("ui.mouse", {
        version: "1.12.1",
        options: {
            cancel: "input, textarea, button, select, option",
            distance: 1,
            delay: 0
        },
        _mouseInit: function() {
            var i = this;
            this.element.on("mousedown." + this.widgetName, function(e) {
                return i._mouseDown(e)
            }).on("click." + this.widgetName, function(e) {
                if (!0 === A.data(e.target, i.widgetName + ".preventClickEvent"))
                    return A.removeData(e.target, i.widgetName + ".preventClickEvent"),
                    e.stopImmediatePropagation(),
                    !1
            }),
            this.started = !1
        },
        _mouseDestroy: function() {
            if (this.element.off("." + this.widgetName),
            this._mouseMoveDelegate)
                this.document.off("mousemove." + this.widgetName, this._mouseMoveDelegate).off("mouseup." + this.widgetName, this._mouseUpDelegate)
        },
        _mouseDown: function(e) {
            if (D)
                ;
            else {
                this._mouseMoved = !1,
                this._mouseStarted && this._mouseUp(e),
                this._mouseDownEvent = e;
                var i = this
                  , o = 1 === e.which
                  , r = "string" == typeof this.options.cancel && e.target.nodeName ? A(e.target).closest(this.options.cancel).length : !1;
                if (!o || r || !this._mouseCapture(e))
                    ;
                else {
                    if (this.mouseDelayMet = !this.options.delay,
                    !this.mouseDelayMet)
                        this._mouseDelayTimer = setTimeout(function() {
                            i.mouseDelayMet = !0
                        }, this.options.delay);
                    if (this._mouseDistanceMet(e) && this._mouseDelayMet(e))
                        if (this._mouseStarted = !1 !== this._mouseStart(e),
                        !this._mouseStarted)
                            return e.preventDefault(),
                            !0;
                    if (!0 === A.data(e.target, this.widgetName + ".preventClickEvent"))
                        A.removeData(e.target, this.widgetName + ".preventClickEvent");
                    this._mouseMoveDelegate = function(e) {
                        return i._mouseMove(e)
                    }
                    ,
                    this._mouseUpDelegate = function(e) {
                        return i._mouseUp(e)
                    }
                    ,
                    this.document.on("mousemove." + this.widgetName, this._mouseMoveDelegate).on("mouseup." + this.widgetName, this._mouseUpDelegate),
                    e.preventDefault(),
                    D = !0
                }
                return !0
            }
        },
        _mouseMove: function(e) {
            if (this._mouseMoved)
                if (A.ui.ie && (!document.documentMode || document.documentMode < 9) && !e.button)
                    return this._mouseUp(e);
                else if (!e.which)
                    if (e.originalEvent.altKey || e.originalEvent.ctrlKey || e.originalEvent.metaKey || e.originalEvent.shiftKey)
                        this.ignoreMissingWhich = !0;
                    else if (!this.ignoreMissingWhich)
                        return this._mouseUp(e);
            if (e.which || e.button)
                this._mouseMoved = !0;
            if (this._mouseStarted)
                return this._mouseDrag(e),
                e.preventDefault();
            if (this._mouseDistanceMet(e) && this._mouseDelayMet(e))
                this._mouseStarted = !1 !== this._mouseStart(this._mouseDownEvent, e),
                this._mouseStarted ? this._mouseDrag(e) : this._mouseUp(e);
            return !this._mouseStarted
        },
        _mouseUp: function(e) {
            if (this.document.off("mousemove." + this.widgetName, this._mouseMoveDelegate).off("mouseup." + this.widgetName, this._mouseUpDelegate),
            this._mouseStarted) {
                if (this._mouseStarted = !1,
                e.target === this._mouseDownEvent.target)
                    A.data(e.target, this.widgetName + ".preventClickEvent", !0);
                this._mouseStop(e)
            }
            if (this._mouseDelayTimer)
                clearTimeout(this._mouseDelayTimer),
                delete this._mouseDelayTimer;
            this.ignoreMissingWhich = !1,
            D = !1,
            e.preventDefault()
        },
        _mouseDistanceMet: function(e) {
            return Math.max(Math.abs(this._mouseDownEvent.pageX - e.pageX), Math.abs(this._mouseDownEvent.pageY - e.pageY)) >= this.options.distance
        },
        _mouseDelayMet: function() {
            return this.mouseDelayMet
        },
        _mouseStart: function() {},
        _mouseDrag: function() {},
        _mouseStop: function() {},
        _mouseCapture: function() {
            return !0
        }
    }),
    A.ui.plugin = {
        add: function(e, i, o) {
            var r, a = A.ui[e].prototype;
            for (r in o)
                a.plugins[r] = a.plugins[r] || [],
                a.plugins[r].push([i, o[r]])
        },
        call: function(e, i, o, r) {
            var a, l = e.plugins[i];
            if (!l)
                ;
            else if (!(r || e.element[0].parentNode && 11 !== e.element[0].parentNode.nodeType))
                ;
            else
                for (a = 0; a < l.length; a++)
                    if (e.options[l[a][0]])
                        l[a][1].apply(e.element, o)
        }
    },
    A.ui.safeBlur = function(e) {
        if (e && "body" !== e.nodeName.toLowerCase())
            A(e).trigger("blur")
    }
    ,
    A.widget("ui.draggable", A.ui.mouse, {
        version: "1.12.1",
        widgetEventPrefix: "drag",
        options: {
            addClasses: !0,
            appendTo: "parent",
            axis: !1,
            connectToSortable: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            iframeFix: !1,
            opacity: !1,
            refreshPositions: !1,
            revert: !1,
            revertDuration: 500,
            scaling: 1,
            scope: "default",
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            snap: !1,
            snapMode: "both",
            snapTolerance: 20,
            stack: !1,
            zIndex: !1,
            drag: null,
            start: null,
            stop: null
        },
        _create: function() {
            if ("original" === this.options.helper)
                this._setPositionRelative();
            if (this.options.addClasses)
                this._addClass("ui-draggable");
            this._setHandleClassName(),
            this._mouseInit()
        },
        _setOption: function(e, i) {
            if (this._super(e, i),
            "handle" === e)
                this._removeHandleClassName(),
                this._setHandleClassName()
        },
        _destroy: function() {
            if ((this.helper || this.element).is(".ui-draggable-dragging"))
                this.destroyOnClear = !0;
            else
                this._removeHandleClassName(),
                this._mouseDestroy()
        },
        _mouseCapture: function(e) {
            var i = this.options;
            if (this.helper || i.disabled || 0 < A(e.target).closest(".ui-resizable-handle").length)
                return !1;
            if (this.handle = this._getHandle(e),
            this.handle)
                return this._blurActiveElement(e),
                this._blockFrames(!0 === i.iframeFix ? "iframe" : i.iframeFix),
                !0;
            else
                return !1
        },
        _blockFrames: function(e) {
            this.iframeBlocks = this.document.find(e).map(function() {
                var e = A(this);
                return A("<div>").css("position", "absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]
            })
        },
        _unblockFrames: function() {
            if (this.iframeBlocks)
                this.iframeBlocks.remove(),
                delete this.iframeBlocks
        },
        _blurActiveElement: function(e) {
            var i = A.ui.safeActiveElement(this.document[0]);
            if (A(e.target).closest(i).length)
                ;
            else
                A.ui.safeBlur(i)
        },
        _mouseStart: function(e) {
            var i = this.options;
            if (this.helper = this._createHelper(e),
            this._addClass(this.helper, "ui-draggable-dragging"),
            this._cacheHelperProportions(),
            A.ui.ddmanager)
                A.ui.ddmanager.current = this;
            if (this._cacheMargins(),
            this.cssPosition = this.helper.css("position"),
            this.scrollParent = this.helper.scrollParent(!0),
            this.offsetParent = this.helper.offsetParent(),
            this.hasFixedAncestor = 0 < this.helper.parents().filter(function() {
                return "fixed" === A(this).css("position")
            }).length,
            this.positionAbs = this.element.offset(),
            this._refreshOffsets(e),
            this.originalPosition = this.position = this._generatePosition(e, !1),
            this.originalPageX = e.pageX,
            this.originalPageY = e.pageY,
            i.cursorAt && this._adjustOffsetFromHelper(i.cursorAt),
            this._setContainment(),
            !1 === this._trigger("start", e))
                return this._clear(),
                !1;
            if (this._cacheHelperProportions(),
            A.ui.ddmanager && !i.dropBehaviour)
                A.ui.ddmanager.prepareOffsets(this, e);
            if (this._mouseDrag(e, !0),
            A.ui.ddmanager)
                A.ui.ddmanager.dragStart(this, e);
            return !0
        },
        _refreshOffsets: function(e) {
            this.offset = {
                top: this.positionAbs.top - this.margins.top,
                left: this.positionAbs.left - this.margins.left,
                scroll: !1,
                parent: this._getParentOffset(),
                relative: this._getRelativeOffset()
            },
            this.offset.click = {
                left: e.pageX - this.offset.left,
                top: e.pageY - this.offset.top
            }
        },
        _mouseDrag: function(e, i) {
            if (this.hasFixedAncestor)
                this.offset.parent = this._getParentOffset();
            if (this.position = this._generatePosition(e, !0),
            this.positionAbs = this._convertPositionTo("absolute"),
            !i) {
                i = this._uiHash();
                if (!1 === this._trigger("drag", e, i))
                    return this._mouseUp(new A.Event("mouseup",e)),
                    !1;
                this.position = i.position
            }
            if (this.helper[0].style.left = this.position.left * this.options.scaling + "px",
            this.helper[0].style.top = this.position.top * this.options.scaling + "px",
            A.ui.ddmanager)
                A.ui.ddmanager.drag(this, e);
            return !1
        },
        _mouseStop: function(e) {
            var i = this
              , o = !1;
            if (A.ui.ddmanager && !this.options.dropBehaviour)
                o = A.ui.ddmanager.drop(this, e);
            if (this.dropped)
                o = this.dropped,
                this.dropped = !1;
            if ("invalid" === this.options.revert && !o || "valid" === this.options.revert && o || !0 === this.options.revert || "function" == typeof this.options.revert && this.options.revert.call(this.element, o))
                A(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {
                    if (!1 !== i._trigger("stop", e))
                        i._clear()
                });
            else if (!1 !== this._trigger("stop", e))
                this._clear();
            return !1
        },
        _mouseUp: function(e) {
            if (this._unblockFrames(),
            A.ui.ddmanager)
                A.ui.ddmanager.dragStop(this, e);
            if (this.handleElement.is(e.target))
                this.element.trigger("focus");
            return A.ui.mouse.prototype._mouseUp.call(this, e)
        },
        cancel: function() {
            if (this.helper.is(".ui-draggable-dragging"))
                this._mouseUp(new A.Event("mouseup",{
                    target: this.element[0]
                }));
            else
                this._clear();
            return this
        },
        _getHandle: function(e) {
            return this.options.handle ? !!A(e.target).closest(this.element.find(this.options.handle)).length : !0
        },
        _setHandleClassName: function() {
            this.handleElement = this.options.handle ? this.element.find(this.options.handle) : this.element,
            this._addClass(this.handleElement, "ui-draggable-handle")
        },
        _removeHandleClassName: function() {
            this._removeClass(this.handleElement, "ui-draggable-handle")
        },
        _createHelper: function(e) {
            var i = this.options
              , o = "function" == typeof i.helper
              , e = o ? A(i.helper.apply(this.element[0], [e])) : "clone" === i.helper ? this.element.clone().removeAttr("id") : this.element;
            if (!e.parents("body").length)
                e.appendTo("parent" === i.appendTo ? this.element[0].parentNode : i.appendTo);
            if (o && e[0] === this.element[0])
                this._setPositionRelative();
            if (e[0] !== this.element[0] && !/(fixed|absolute)/.test(e.css("position")))
                e.css("position", "absolute");
            return e
        },
        _setPositionRelative: function() {
            if (!/^(?:r|a|f)/.test(this.element.css("position")))
                this.element[0].style.position = "relative"
        },
        _adjustOffsetFromHelper: function(e) {
            if ("string" == typeof e)
                e = e.split(" ");
            if (Array.isArray(e))
                e = {
                    left: +e[0],
                    top: +e[1] || 0
                };
            if ("left"in e)
                this.offset.click.left = e.left + this.margins.left;
            if ("right"in e)
                this.offset.click.left = this.helperProportions.width - e.right + this.margins.left;
            if ("top"in e)
                this.offset.click.top = e.top + this.margins.top;
            if ("bottom"in e)
                this.offset.click.top = this.helperProportions.height - e.bottom + this.margins.top
        },
        _isRootNode: function(e) {
            return /(html|body)/i.test(e.tagName) || e === this.document[0]
        },
        _getParentOffset: function() {
            var e = this.offsetParent.offset()
              , i = this.document[0];
            if ("absolute" === this.cssPosition && this.scrollParent[0] !== i && A.contains(this.scrollParent[0], this.offsetParent[0]))
                e.left += this.scrollParent.scrollLeft(),
                e.top += this.scrollParent.scrollTop();
            if (this._isRootNode(this.offsetParent[0]))
                e = {
                    top: 0,
                    left: 0
                };
            return {
                top: e.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: e.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function() {
            if ("relative" !== this.cssPosition)
                return {
                    top: 0,
                    left: 0
                };
            else {
                var e = this.element.position()
                  , i = this._isRootNode(this.scrollParent[0]);
                return {
                    top: e.top - (parseInt(this.helper.css("top"), 10) || 0) + (!i ? this.scrollParent.scrollTop() : 0),
                    left: e.left - (parseInt(this.helper.css("left"), 10) || 0) + (!i ? this.scrollParent.scrollLeft() : 0)
                }
            }
        },
        _cacheMargins: function() {
            this.margins = {
                left: parseInt(this.element.css("marginLeft"), 10) || 0,
                top: parseInt(this.element.css("marginTop"), 10) || 0,
                right: parseInt(this.element.css("marginRight"), 10) || 0,
                bottom: parseInt(this.element.css("marginBottom"), 10) || 0
            }
        },
        _cacheHelperProportions: function() {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function() {
            var e, i = this.options, o = this.document[0];
            if (this.relativeContainer = null,
            !i.containment)
                this.containment = null;
            else if ("window" === i.containment)
                this.containment = [A(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, A(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, A(window).scrollLeft() + A(window).width() - this.helperProportions.width - this.margins.left, A(window).scrollTop() + (A(window).height() || o.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top];
            else if ("document" === i.containment)
                this.containment = [0, 0, A(o).width() - this.helperProportions.width - this.margins.left, (A(o).height() || o.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top];
            else if (i.containment.constructor === Array)
                this.containment = i.containment;
            else {
                if ("parent" === i.containment)
                    i.containment = this.helper[0].parentNode;
                if (!(i = (o = A(i.containment))[0]))
                    ;
                else
                    e = /(scroll|auto)/.test(o.css("overflow")),
                    this.containment = [(parseInt(o.css("borderLeftWidth"), 10) || 0) + (parseInt(o.css("paddingLeft"), 10) || 0), (parseInt(o.css("borderTopWidth"), 10) || 0) + (parseInt(o.css("paddingTop"), 10) || 0), (e ? Math.max(i.scrollWidth, i.offsetWidth) : i.offsetWidth) - (parseInt(o.css("borderRightWidth"), 10) || 0) - (parseInt(o.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (e ? Math.max(i.scrollHeight, i.offsetHeight) : i.offsetHeight) - (parseInt(o.css("borderBottomWidth"), 10) || 0) - (parseInt(o.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom],
                    this.relativeContainer = o
            }
        },
        _convertPositionTo: function(e, i) {
            if (!i)
                i = this.position;
            var e = "absolute" === e ? 1 : -1
              , o = this._isRootNode(this.scrollParent[0]);
            return {
                top: i.top + this.offset.relative.top * e + this.offset.parent.top * e - ("fixed" === this.cssPosition ? -this.offset.scroll.top : o ? 0 : this.offset.scroll.top) * e,
                left: i.left + this.offset.relative.left * e + this.offset.parent.left * e - ("fixed" === this.cssPosition ? -this.offset.scroll.left : o ? 0 : this.offset.scroll.left) * e
            }
        },
        _generatePosition: function(e, i) {
            var o, r = this.options, a = this._isRootNode(this.scrollParent[0]), l = e.pageX, u = e.pageY;
            if (!a || !this.offset.scroll)
                this.offset.scroll = {
                    top: this.scrollParent.scrollTop(),
                    left: this.scrollParent.scrollLeft()
                };
            if (i) {
                if (this.containment) {
                    if (this.relativeContainer)
                        i = this.relativeContainer.offset(),
                        o = [this.containment[0] + i.left, this.containment[1] + i.top, this.containment[2] + i.left, this.containment[3] + i.top];
                    else
                        o = this.containment;
                    if (e.pageX - this.offset.click.left < o[0])
                        l = o[0] + this.offset.click.left;
                    if (e.pageY - this.offset.click.top < o[1])
                        u = o[1] + this.offset.click.top;
                    if (e.pageX - this.offset.click.left > o[2])
                        l = o[2] + this.offset.click.left;
                    if (e.pageY - this.offset.click.top > o[3])
                        u = o[3] + this.offset.click.top
                }
                if (r.grid)
                    i = r.grid[1] ? this.originalPageY + Math.round((u - this.originalPageY) / r.grid[1]) * r.grid[1] : this.originalPageY,
                    u = o ? i - this.offset.click.top >= o[1] || i - this.offset.click.top > o[3] ? i : i - this.offset.click.top >= o[1] ? i - r.grid[1] : i + r.grid[1] : i,
                    e = r.grid[0] ? this.originalPageX + Math.round((l - this.originalPageX) / r.grid[0]) * r.grid[0] : this.originalPageX,
                    l = o ? e - this.offset.click.left >= o[0] || e - this.offset.click.left > o[2] ? e : e - this.offset.click.left >= o[0] ? e - r.grid[0] : e + r.grid[0] : e;
                if ("y" === r.axis)
                    l = this.originalPageX;
                if ("x" === r.axis)
                    u = this.originalPageY
            }
            return {
                top: u - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.offset.scroll.top : a ? 0 : this.offset.scroll.top),
                left: l - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.offset.scroll.left : a ? 0 : this.offset.scroll.left)
            }
        },
        _clear: function() {
            if (this._removeClass(this.helper, "ui-draggable-dragging"),
            this.helper[0] !== this.element[0] && !this.cancelHelperRemoval)
                this.helper.remove();
            if (this.helper = null,
            this.cancelHelperRemoval = !1,
            this.destroyOnClear)
                this.destroy()
        },
        _trigger: function(e, i, o) {
            if (o = o || this._uiHash(),
            A.ui.plugin.call(this, e, [i, o, this], !0),
            /^(drag|start|stop)/.test(e))
                this.positionAbs = this._convertPositionTo("absolute"),
                o.offset = this.positionAbs;
            return A.Widget.prototype._trigger.call(this, e, i, o)
        },
        plugins: {},
        _uiHash: function() {
            return {
                helper: this.helper,
                position: this.position,
                originalPosition: this.originalPosition,
                offset: this.positionAbs
            }
        }
    }),
    A.ui.plugin.add("draggable", "connectToSortable", {
        start: function(i, e, o) {
            var r = A.extend({}, e, {
                item: o.element
            });
            o.sortables = [],
            A(o.options.connectToSortable).each(function() {
                var e = A(this).sortable("instance");
                if (e && !e.options.disabled)
                    o.sortables.push(e),
                    e.refreshPositions(),
                    e._trigger("activate", i, r)
            })
        },
        stop: function(i, e, o) {
            var r = A.extend({}, e, {
                item: o.element
            });
            o.cancelHelperRemoval = !1,
            A.each(o.sortables, function() {
                var e = this;
                if (e.isOver)
                    e.isOver = 0,
                    o.cancelHelperRemoval = !0,
                    e.cancelHelperRemoval = !1,
                    e._storedCSS = {
                        position: e.placeholder.css("position"),
                        top: e.placeholder.css("top"),
                        left: e.placeholder.css("left")
                    },
                    e._mouseStop(i),
                    e.options.helper = e.options._helper;
                else
                    e.cancelHelperRemoval = !0,
                    e._trigger("deactivate", i, r)
            })
        },
        drag: function(o, r, a) {
            A.each(a.sortables, function() {
                var e = !1
                  , i = this;
                if (i.positionAbs = a.positionAbs,
                i.helperProportions = a.helperProportions,
                i.offset.click = a.offset.click,
                i._intersectsWith(i.containerCache))
                    e = !0,
                    A.each(a.sortables, function() {
                        if (this.positionAbs = a.positionAbs,
                        this.helperProportions = a.helperProportions,
                        this.offset.click = a.offset.click,
                        this !== i && this._intersectsWith(this.containerCache) && A.contains(i.element[0], this.element[0]))
                            e = !1;
                        return e
                    });
                if (e) {
                    if (!i.isOver)
                        i.isOver = 1,
                        a._parent = r.helper.parent(),
                        i.currentItem = r.helper.appendTo(i.element).data("ui-sortable-item", !0),
                        i.options._helper = i.options.helper,
                        i.options.helper = function() {
                            return r.helper[0]
                        }
                        ,
                        o.target = i.currentItem[0],
                        i._mouseCapture(o, !0),
                        i._mouseStart(o, !0, !0),
                        i.offset.click.top = a.offset.click.top,
                        i.offset.click.left = a.offset.click.left,
                        i.offset.parent.left -= a.offset.parent.left - i.offset.parent.left,
                        i.offset.parent.top -= a.offset.parent.top - i.offset.parent.top,
                        a._trigger("toSortable", o),
                        a.dropped = i.element,
                        A.each(a.sortables, function() {
                            this.refreshPositions()
                        }),
                        a.currentItem = a.element,
                        i.fromOutside = a;
                    if (i.currentItem)
                        i._mouseDrag(o),
                        r.position = i.position
                } else if (i.isOver) {
                    if (i.isOver = 0,
                    i.cancelHelperRemoval = !0,
                    i.options._revert = i.options.revert,
                    i.options.revert = !1,
                    i._trigger("out", o, i._uiHash(i)),
                    i._mouseStop(o, !0),
                    i.options.revert = i.options._revert,
                    i.options.helper = i.options._helper,
                    i.placeholder)
                        i.placeholder.remove();
                    r.helper.appendTo(a._parent),
                    a._refreshOffsets(o),
                    r.position = a._generatePosition(o, !0),
                    a._trigger("fromSortable", o),
                    a.dropped = !1,
                    A.each(a.sortables, function() {
                        this.refreshPositions()
                    })
                }
            })
        }
    }),
    A.ui.plugin.add("draggable", "cursor", {
        start: function(e, i, o) {
            var t = A("body")
              , o = o.options;
            if (t.css("cursor"))
                o._cursor = t.css("cursor");
            t.css("cursor", o.cursor)
        },
        stop: function(e, i, o) {
            o = o.options;
            if (o._cursor)
                A("body").css("cursor", o._cursor)
        }
    }),
    A.ui.plugin.add("draggable", "opacity", {
        start: function(e, i, o) {
            i = A(i.helper),
            o = o.options;
            if (i.css("opacity"))
                o._opacity = i.css("opacity");
            i.css("opacity", o.opacity)
        },
        stop: function(e, i, o) {
            o = o.options;
            if (o._opacity)
                A(i.helper).css("opacity", o._opacity)
        }
    }),
    A.ui.plugin.add("draggable", "scroll", {
        start: function(e, i, o) {
            if (!o.scrollParentNotHidden)
                o.scrollParentNotHidden = o.helper.scrollParent(!1);
            if (o.scrollParentNotHidden[0] !== o.document[0] && "HTML" !== o.scrollParentNotHidden[0].tagName)
                o.overflowOffset = o.scrollParentNotHidden.offset()
        },
        drag: function(e, i, o) {
            var r = o.options
              , a = !1
              , l = o.scrollParentNotHidden[0]
              , u = o.document[0];
            if (l !== u && "HTML" !== l.tagName) {
                if (!r.axis || "x" !== r.axis)
                    if (o.overflowOffset.top + l.offsetHeight - e.pageY < r.scrollSensitivity)
                        l.scrollTop = a = l.scrollTop + r.scrollSpeed;
                    else if (e.pageY - o.overflowOffset.top < r.scrollSensitivity)
                        l.scrollTop = a = l.scrollTop - r.scrollSpeed;
                if (!r.axis || "y" !== r.axis)
                    if (o.overflowOffset.left + l.offsetWidth - e.pageX < r.scrollSensitivity)
                        l.scrollLeft = a = l.scrollLeft + r.scrollSpeed;
                    else if (e.pageX - o.overflowOffset.left < r.scrollSensitivity)
                        l.scrollLeft = a = l.scrollLeft - r.scrollSpeed
            } else {
                if (!r.axis || "x" !== r.axis)
                    if (e.pageY - A(u).scrollTop() < r.scrollSensitivity)
                        a = A(u).scrollTop(A(u).scrollTop() - r.scrollSpeed);
                    else if (A(window).height() - (e.pageY - A(u).scrollTop()) < r.scrollSensitivity)
                        a = A(u).scrollTop(A(u).scrollTop() + r.scrollSpeed);
                if (!r.axis || "y" !== r.axis)
                    if (e.pageX - A(u).scrollLeft() < r.scrollSensitivity)
                        a = A(u).scrollLeft(A(u).scrollLeft() - r.scrollSpeed);
                    else if (A(window).width() - (e.pageX - A(u).scrollLeft()) < r.scrollSensitivity)
                        a = A(u).scrollLeft(A(u).scrollLeft() + r.scrollSpeed)
            }
            if (!1 !== a && A.ui.ddmanager && !r.dropBehaviour)
                A.ui.ddmanager.prepareOffsets(o, e)
        }
    }),
    A.ui.plugin.add("draggable", "snap", {
        start: function(e, i, o) {
            var r = o.options;
            o.snapElements = [],
            A(r.snap.constructor !== String ? r.snap.items || ":data(ui-draggable)" : r.snap).each(function() {
                var e = A(this)
                  , i = e.offset();
                if (this !== o.element[0])
                    o.snapElements.push({
                        item: this,
                        width: e.outerWidth(),
                        height: e.outerHeight(),
                        top: i.top,
                        left: i.left
                    })
            })
        },
        drag: function(e, i, o) {
            for (var r, a, l, u, c, d, t, h, p, f = o.options, g = f.snapTolerance, m = i.offset.left, w = m + o.helperProportions.width, v = i.offset.top, y = v + o.helperProportions.height, b = o.snapElements.length - 1; 0 <= b; b--)
                if (d = (c = o.snapElements[b].left - o.margins.left) + o.snapElements[b].width,
                h = (t = o.snapElements[b].top - o.margins.top) + o.snapElements[b].height,
                w < c - g || d + g < m || y < t - g || h + g < v || !A.contains(o.snapElements[b].item.ownerDocument, o.snapElements[b].item)) {
                    if (o.snapElements[b].snapping)
                        o.options.snap.release && o.options.snap.release.call(o.element, e, A.extend(o._uiHash(), {
                            snapItem: o.snapElements[b].item
                        }));
                    o.snapElements[b].snapping = !1
                } else {
                    if ("inner" !== f.snapMode) {
                        if (r = Math.abs(t - y) <= g,
                        a = Math.abs(h - v) <= g,
                        l = Math.abs(c - w) <= g,
                        u = Math.abs(d - m) <= g,
                        r)
                            i.position.top = o._convertPositionTo("relative", {
                                top: t - o.helperProportions.height,
                                left: 0
                            }).top;
                        if (a)
                            i.position.top = o._convertPositionTo("relative", {
                                top: h,
                                left: 0
                            }).top;
                        if (l)
                            i.position.left = o._convertPositionTo("relative", {
                                top: 0,
                                left: c - o.helperProportions.width
                            }).left;
                        if (u)
                            i.position.left = o._convertPositionTo("relative", {
                                top: 0,
                                left: d
                            }).left
                    }
                    if (p = r || a || l || u,
                    "outer" !== f.snapMode) {
                        if (r = Math.abs(t - v) <= g,
                        a = Math.abs(h - y) <= g,
                        l = Math.abs(c - m) <= g,
                        u = Math.abs(d - w) <= g,
                        r)
                            i.position.top = o._convertPositionTo("relative", {
                                top: t,
                                left: 0
                            }).top;
                        if (a)
                            i.position.top = o._convertPositionTo("relative", {
                                top: h - o.helperProportions.height,
                                left: 0
                            }).top;
                        if (l)
                            i.position.left = o._convertPositionTo("relative", {
                                top: 0,
                                left: c
                            }).left;
                        if (u)
                            i.position.left = o._convertPositionTo("relative", {
                                top: 0,
                                left: d - o.helperProportions.width
                            }).left
                    }
                    if (!o.snapElements[b].snapping && (r || a || l || u || p))
                        o.options.snap.snap && o.options.snap.snap.call(o.element, e, A.extend(o._uiHash(), {
                            snapItem: o.snapElements[b].item
                        }));
                    o.snapElements[b].snapping = r || a || l || u || p
                }
        }
    }),
    A.ui.plugin.add("draggable", "stack", {
        start: function(e, i, o) {
            var r, o = o.options, o = A.makeArray(A(o.stack)).sort(function(e, i) {
                return (parseInt(A(e).css("zIndex"), 10) || 0) - (parseInt(A(i).css("zIndex"), 10) || 0)
            });
            if (!o.length)
                ;
            else
                r = parseInt(A(o[0]).css("zIndex"), 10) || 0,
                A(o).each(function(e) {
                    A(this).css("zIndex", r + e)
                }),
                this.css("zIndex", r + o.length)
        }
    }),
    A.ui.plugin.add("draggable", "zIndex", {
        start: function(e, i, o) {
            i = A(i.helper),
            o = o.options;
            if (i.css("zIndex"))
                o._zIndex = i.css("zIndex");
            i.css("zIndex", o.zIndex)
        },
        stop: function(e, i, o) {
            o = o.options;
            if (o._zIndex)
                A(i.helper).css("zIndex", o._zIndex)
        }
    }),
    A.ui.draggable,
    A.widget("ui.resizable", A.ui.mouse, {
        version: "1.12.1",
        widgetEventPrefix: "resize",
        options: {
            alsoResize: !1,
            animate: !1,
            animateDuration: "slow",
            animateEasing: "swing",
            aspectRatio: !1,
            autoHide: !1,
            classes: {
                "ui-resizable-se": "ui-icon ui-icon-gripsmall-diagonal-se"
            },
            containment: !1,
            ghost: !1,
            grid: !1,
            handles: "e,s,se",
            helper: !1,
            maxHeight: null,
            maxWidth: null,
            minHeight: 10,
            minWidth: 10,
            zIndex: 90,
            resize: null,
            start: null,
            stop: null
        },
        _num: function(e) {
            return parseFloat(e) || 0
        },
        _isNumber: function(e) {
            return !isNaN(parseFloat(e))
        },
        _hasScroll: function(e, i) {
            if ("hidden" === A(e).css("overflow"))
                return !1;
            var o, i = i && "left" === i ? "scrollLeft" : "scrollTop";
            if (0 < e[i])
                return !0;
            else
                return e[i] = 1,
                o = 0 < e[i],
                e[i] = 0,
                o
        },
        _create: function() {
            var e, i = this.options, o = this;
            if (this._addClass("ui-resizable"),
            A.extend(this, {
                _aspectRatio: !!i.aspectRatio,
                aspectRatio: i.aspectRatio,
                originalElement: this.element,
                _proportionallyResizeElements: [],
                _helper: i.helper || i.ghost || i.animate ? i.helper || "ui-resizable-helper" : null
            }),
            this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i))
                this.element.wrap(A("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
                    position: this.element.css("position"),
                    width: this.element.outerWidth(),
                    height: this.element.outerHeight(),
                    top: this.element.css("top"),
                    left: this.element.css("left")
                })),
                this.element = this.element.parent().data("ui-resizable", this.element.resizable("instance")),
                this.elementIsWrapper = !0,
                e = {
                    marginTop: this.originalElement.css("marginTop"),
                    marginRight: this.originalElement.css("marginRight"),
                    marginBottom: this.originalElement.css("marginBottom"),
                    marginLeft: this.originalElement.css("marginLeft")
                },
                this.element.css(e),
                this.originalElement.css("margin", 0),
                this.originalResizeStyle = this.originalElement.css("resize"),
                this.originalElement.css("resize", "none"),
                this._proportionallyResizeElements.push(this.originalElement.css({
                    position: "static",
                    zoom: 1,
                    display: "block"
                })),
                this.originalElement.css(e),
                this._proportionallyResize();
            if (this._setupHandles(),
            i.autoHide)
                A(this.element).on("mouseenter", function() {
                    if (i.disabled)
                        ;
                    else
                        o._removeClass("ui-resizable-autohide"),
                        o._handles.show()
                }).on("mouseleave", function() {
                    if (i.disabled)
                        ;
                    else if (!o.resizing)
                        o._addClass("ui-resizable-autohide"),
                        o._handles.hide()
                });
            this._mouseInit()
        },
        _destroy: function() {
            this._mouseDestroy();
            function e(e) {
                A(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()
            }
            var i;
            if (this.elementIsWrapper)
                e(this.element),
                i = this.element,
                this.originalElement.css({
                    position: i.css("position"),
                    width: i.outerWidth(),
                    height: i.outerHeight(),
                    top: i.css("top"),
                    left: i.css("left")
                }).insertAfter(i),
                i.remove();
            return this.originalElement.css("resize", this.originalResizeStyle),
            e(this.originalElement),
            this
        },
        _setOption: function(e, i) {
            switch (this._super(e, i),
            e) {
            case "handles":
                this._removeHandles(),
                this._setupHandles()
            }
        },
        _setupHandles: function() {
            var e, i, n, o, r, a = this.options, l = this;
            if (this.handles = a.handles || (!A(".ui-resizable-handle", this.element).length ? "e,s,se" : {
                n: ".ui-resizable-n",
                e: ".ui-resizable-e",
                s: ".ui-resizable-s",
                w: ".ui-resizable-w",
                se: ".ui-resizable-se",
                sw: ".ui-resizable-sw",
                ne: ".ui-resizable-ne",
                nw: ".ui-resizable-nw"
            }),
            this._handles = A(),
            this.handles.constructor === String) {
                if ("all" === this.handles)
                    this.handles = "n,e,s,w,se,sw,ne,nw";
                for (n = this.handles.split(","),
                this.handles = {},
                i = 0; i < n.length; i++)
                    o = "ui-resizable-" + (e = String.prototype.trim.call(n[i])),
                    r = A("<div>"),
                    this._addClass(r, "ui-resizable-handle " + o),
                    r.css({
                        zIndex: a.zIndex
                    }),
                    this.handles[e] = ".ui-resizable-" + e,
                    this.element.append(r)
            }
            if (this._renderAxis = function(e) {
                var i, o, r;
                for (i in e = e || this.element,
                this.handles) {
                    if (this.handles[i].constructor === String)
                        this.handles[i] = this.element.children(this.handles[i]).first().show();
                    else if (this.handles[i].jquery || this.handles[i].nodeType)
                        this.handles[i] = A(this.handles[i]),
                        this._on(this.handles[i], {
                            mousedown: l._mouseDown
                        });
                    if (this.elementIsWrapper && this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i))
                        r = A(this.handles[i], this.element),
                        r = /sw|ne|nw|se|n|s/.test(i) ? r.outerHeight() : r.outerWidth(),
                        o = ["padding", /ne|nw|n/.test(i) ? "Top" : /se|sw|s/.test(i) ? "Bottom" : /^e$/.test(i) ? "Right" : "Left"].join(""),
                        e.css(o, r),
                        this._proportionallyResize();
                    this._handles = this._handles.add(this.handles[i])
                }
            }
            ,
            this._renderAxis(this.element),
            this._handles = this._handles.add(this.element.find(".ui-resizable-handle")),
            this._handles.disableSelection(),
            this._handles.on("mouseover", function() {
                if (!l.resizing) {
                    if (this.className)
                        r = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);
                    l.axis = r && r[1] ? r[1] : "se"
                }
            }),
            a.autoHide)
                this._handles.hide(),
                this._addClass("ui-resizable-autohide")
        },
        _removeHandles: function() {
            this._handles.remove()
        },
        _mouseCapture: function(e) {
            var i, o, r = !1;
            for (i in this.handles)
                if ((o = A(this.handles[i])[0]) === e.target || A.contains(o, e.target))
                    r = !0;
            return !this.options.disabled && r
        },
        _mouseStart: function(e) {
            var i, o, r = this.options, a = this.element;
            if (this.resizing = !0,
            this._renderProxy(),
            i = this._num(this.helper.css("left")),
            o = this._num(this.helper.css("top")),
            r.containment)
                i += A(r.containment).scrollLeft() || 0,
                o += A(r.containment).scrollTop() || 0;
            return this.offset = this.helper.offset(),
            this.position = {
                left: i,
                top: o
            },
            this.size = this._helper ? {
                width: this.helper.width(),
                height: this.helper.height()
            } : {
                width: a.width(),
                height: a.height()
            },
            this.originalSize = this._helper ? {
                width: a.outerWidth(),
                height: a.outerHeight()
            } : {
                width: a.width(),
                height: a.height()
            },
            this.sizeDiff = {
                width: a.outerWidth() - a.width(),
                height: a.outerHeight() - a.height()
            },
            this.originalPosition = {
                left: i,
                top: o
            },
            this.originalMousePosition = {
                left: e.pageX,
                top: e.pageY
            },
            this.aspectRatio = "number" == typeof r.aspectRatio ? r.aspectRatio : this.originalSize.width / this.originalSize.height || 1,
            a = A(".ui-resizable-" + this.axis).css("cursor"),
            A("body").css("cursor", "auto" === a ? this.axis + "-resize" : a),
            this._addClass("ui-resizable-resizing"),
            this._propagate("start", e),
            !0
        },
        _mouseDrag: function(e) {
            var i = this.originalMousePosition
              , o = this.axis
              , r = e.pageX - i.left || 0
              , i = e.pageY - i.top || 0
              , o = this._change[o];
            if (this._updatePrevProperties(),
            !o)
                ;
            else {
                if (o = o.apply(this, [e, r, i]),
                this._updateVirtualBoundaries(e.shiftKey),
                this._aspectRatio || e.shiftKey)
                    o = this._updateRatio(o, e);
                if (o = this._respectSize(o, e),
                this._updateCache(o),
                this._propagate("resize", e),
                r = this._applyChanges(),
                !this._helper && this._proportionallyResizeElements.length)
                    this._proportionallyResize();
                if (!A.isEmptyObject(r))
                    this._updatePrevProperties(),
                    this._trigger("resize", e, this.ui()),
                    this._applyChanges()
            }
            return !1
        },
        _mouseStop: function(e) {
            this.resizing = !1;
            var i, o, r, a = this.options, l = this;
            if (this._helper) {
                if (o = (i = (o = this._proportionallyResizeElements).length && /textarea/i.test(o[0].nodeName)) && this._hasScroll(o[0], "left") ? 0 : l.sizeDiff.height,
                i = i ? 0 : l.sizeDiff.width,
                i = {
                    width: l.helper.width() - i,
                    height: l.helper.height() - o
                },
                o = parseFloat(l.element.css("left")) + (l.position.left - l.originalPosition.left) || null,
                r = parseFloat(l.element.css("top")) + (l.position.top - l.originalPosition.top) || null,
                !a.animate)
                    this.element.css(A.extend(i, {
                        top: r,
                        left: o
                    }));
                if (l.helper.height(l.size.height),
                l.helper.width(l.size.width),
                this._helper && !a.animate)
                    this._proportionallyResize()
            }
            if (A("body").css("cursor", "auto"),
            this._removeClass("ui-resizable-resizing"),
            this._propagate("stop", e),
            this._helper)
                this.helper.remove();
            return !1
        },
        _updatePrevProperties: function() {
            this.prevPosition = {
                top: this.position.top,
                left: this.position.left
            },
            this.prevSize = {
                width: this.size.width,
                height: this.size.height
            }
        },
        _applyChanges: function() {
            var e = {};
            if (this.position.top !== this.prevPosition.top)
                e.top = this.position.top + "px";
            if (this.position.left !== this.prevPosition.left)
                e.left = this.position.left + "px";
            if (this.size.width !== this.prevSize.width)
                e.width = this.size.width + "px";
            if (this.size.height !== this.prevSize.height)
                e.height = this.size.height + "px";
            return this.helper.css(e),
            e
        },
        _updateVirtualBoundaries: function(e) {
            var i, o, r, a = this.options, a = {
                minWidth: this._isNumber(a.minWidth) ? a.minWidth : 0,
                maxWidth: this._isNumber(a.maxWidth) ? a.maxWidth : 1 / 0,
                minHeight: this._isNumber(a.minHeight) ? a.minHeight : 0,
                maxHeight: this._isNumber(a.maxHeight) ? a.maxHeight : 1 / 0
            };
            if (this._aspectRatio || e) {
                if (e = a.minHeight * this.aspectRatio,
                o = a.minWidth / this.aspectRatio,
                i = a.maxHeight * this.aspectRatio,
                r = a.maxWidth / this.aspectRatio,
                a.minWidth < e)
                    a.minWidth = e;
                if (a.minHeight < o)
                    a.minHeight = o;
                if (i < a.maxWidth)
                    a.maxWidth = i;
                if (r < a.maxHeight)
                    a.maxHeight = r
            }
            this._vBoundaries = a
        },
        _updateCache: function(e) {
            if (this.offset = this.helper.offset(),
            this._isNumber(e.left))
                this.position.left = e.left;
            if (this._isNumber(e.top))
                this.position.top = e.top;
            if (this._isNumber(e.height))
                this.size.height = e.height;
            if (this._isNumber(e.width))
                this.size.width = e.width
        },
        _updateRatio: function(e) {
            var i = this.position
              , o = this.size
              , r = this.axis;
            if (this._isNumber(e.height))
                e.width = e.height * this.aspectRatio;
            else if (this._isNumber(e.width))
                e.height = e.width / this.aspectRatio;
            if ("sw" === r)
                e.left = i.left + (o.width - e.width),
                e.top = null;
            if ("nw" === r)
                e.top = i.top + (o.height - e.height),
                e.left = i.left + (o.width - e.width);
            return e
        },
        _respectSize: function(e) {
            var i = this._vBoundaries
              , o = this.axis
              , r = this._isNumber(e.width) && i.maxWidth && i.maxWidth < e.width
              , a = this._isNumber(e.height) && i.maxHeight && i.maxHeight < e.height
              , l = this._isNumber(e.width) && i.minWidth && i.minWidth > e.width
              , u = this._isNumber(e.height) && i.minHeight && i.minHeight > e.height
              , c = this.originalPosition.left + this.originalSize.width
              , d = this.originalPosition.top + this.originalSize.height
              , h = /sw|nw|w/.test(o)
              , o = /nw|ne|n/.test(o);
            if (l)
                e.width = i.minWidth;
            if (u)
                e.height = i.minHeight;
            if (r)
                e.width = i.maxWidth;
            if (a)
                e.height = i.maxHeight;
            if (l && h)
                e.left = c - i.minWidth;
            if (r && h)
                e.left = c - i.maxWidth;
            if (u && o)
                e.top = d - i.minHeight;
            if (a && o)
                e.top = d - i.maxHeight;
            if (!e.width && !e.height && !e.left && e.top)
                e.top = null;
            else if (!e.width && !e.height && !e.top && e.left)
                e.left = null;
            return e
        },
        _getPaddingPlusBorderDimensions: function(e) {
            for (var i = 0, o = [], r = [e.css("borderTopWidth"), e.css("borderRightWidth"), e.css("borderBottomWidth"), e.css("borderLeftWidth")], a = [e.css("paddingTop"), e.css("paddingRight"), e.css("paddingBottom"), e.css("paddingLeft")]; i < 4; i++)
                o[i] = parseFloat(r[i]) || 0,
                o[i] += parseFloat(a[i]) || 0;
            return {
                height: o[0] + o[2],
                width: o[1] + o[3]
            }
        },
        _proportionallyResize: function() {
            if (!this._proportionallyResizeElements.length)
                ;
            else
                for (var e, i = 0, o = this.helper || this.element; i < this._proportionallyResizeElements.length; i++) {
                    if (e = this._proportionallyResizeElements[i],
                    !this.outerDimensions)
                        this.outerDimensions = this._getPaddingPlusBorderDimensions(e);
                    e.css({
                        height: o.height() - this.outerDimensions.height || 0,
                        width: o.width() - this.outerDimensions.width || 0
                    })
                }
        },
        _renderProxy: function() {
            var e = this.element
              , i = this.options;
            if (this.elementOffset = e.offset(),
            this._helper)
                this.helper = this.helper || A("<div style='overflow:hidden;'></div>"),
                this._addClass(this.helper, this._helper),
                this.helper.css({
                    width: this.element.outerWidth(),
                    height: this.element.outerHeight(),
                    position: "absolute",
                    left: this.elementOffset.left + "px",
                    top: this.elementOffset.top + "px",
                    zIndex: ++i.zIndex
                }),
                this.helper.appendTo("body").disableSelection();
            else
                this.helper = this.element
        },
        _change: {
            e: function(e, i) {
                return {
                    width: this.originalSize.width + i
                }
            },
            w: function(e, i) {
                var o = this.originalSize;
                return {
                    left: this.originalPosition.left + i,
                    width: o.width - i
                }
            },
            n: function(e, i, o) {
                var r = this.originalSize;
                return {
                    top: this.originalPosition.top + o,
                    height: r.height - o
                }
            },
            s: function(e, i, o) {
                return {
                    height: this.originalSize.height + o
                }
            },
            se: function(e, i, o) {
                return A.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [e, i, o]))
            },
            sw: function(e, i, o) {
                return A.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [e, i, o]))
            },
            ne: function(e, i, o) {
                return A.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [e, i, o]))
            },
            nw: function(e, i, o) {
                return A.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [e, i, o]))
            }
        },
        _propagate: function(n, e) {
            A.ui.plugin.call(this, n, [e, this.ui()]),
            "resize" !== n && this._trigger(n, e, this.ui())
        },
        plugins: {},
        ui: function() {
            return {
                originalElement: this.originalElement,
                element: this.element,
                helper: this.helper,
                position: this.position,
                size: this.size,
                originalSize: this.originalSize,
                originalPosition: this.originalPosition
            }
        }
    }),
    A.ui.plugin.add("resizable", "animate", {
        stop: function(i) {
            var o = A(this).resizable("instance")
              , e = o.options
              , r = o._proportionallyResizeElements
              , a = r.length && /textarea/i.test(r[0].nodeName)
              , l = a && o._hasScroll(r[0], "left") ? 0 : o.sizeDiff.height
              , a = a ? 0 : o.sizeDiff.width
              , a = {
                width: o.size.width - a,
                height: o.size.height - l
            }
              , l = parseFloat(o.element.css("left")) + (o.position.left - o.originalPosition.left) || null
              , u = parseFloat(o.element.css("top")) + (o.position.top - o.originalPosition.top) || null;
            o.element.animate(A.extend(a, u && l ? {
                top: u,
                left: l
            } : {}), {
                duration: e.animateDuration,
                easing: e.animateEasing,
                step: function() {
                    var e = {
                        width: parseFloat(o.element.css("width")),
                        height: parseFloat(o.element.css("height")),
                        top: parseFloat(o.element.css("top")),
                        left: parseFloat(o.element.css("left"))
                    };
                    if (r && r.length)
                        A(r[0]).css({
                            width: e.width,
                            height: e.height
                        });
                    o._updateCache(e),
                    o._propagate("resize", i)
                }
            })
        }
    }),
    A.ui.plugin.add("resizable", "containment", {
        start: function() {
            var o, r, e, i, a = A(this).resizable("instance"), l = a.options, u = a.element, l = l.containment, u = l instanceof A ? l.get(0) : /parent/.test(l) ? u.parent().get(0) : l;
            if (!u)
                ;
            else if (a.containerElement = A(u),
            /document/.test(l) || l === document)
                a.containerOffset = {
                    left: 0,
                    top: 0
                },
                a.containerPosition = {
                    left: 0,
                    top: 0
                },
                a.parentData = {
                    element: A(document),
                    left: 0,
                    top: 0,
                    width: A(document).width(),
                    height: A(document).height() || document.body.parentNode.scrollHeight
                };
            else
                o = A(u),
                r = [],
                A(["Top", "Right", "Left", "Bottom"]).each(function(e, i) {
                    r[e] = a._num(o.css("padding" + i))
                }),
                a.containerOffset = o.offset(),
                a.containerPosition = o.position(),
                a.containerSize = {
                    height: o.innerHeight() - r[3],
                    width: o.innerWidth() - r[1]
                },
                l = a.containerOffset,
                i = a.containerSize.height,
                e = a.containerSize.width,
                e = a._hasScroll(u, "left") ? u.scrollWidth : e,
                i = a._hasScroll(u) ? u.scrollHeight : i,
                a.parentData = {
                    element: u,
                    left: l.left,
                    top: l.top,
                    width: e,
                    height: i
                }
        },
        resize: function(e) {
            var i = A(this).resizable("instance")
              , o = i.options
              , r = i.containerOffset
              , a = i.position
              , e = i._aspectRatio || e.shiftKey
              , l = {
                top: 0,
                left: 0
            }
              , u = i.containerElement
              , c = !0;
            if (u[0] !== document && /static/.test(u.css("position")))
                l = r;
            if (a.left < (i._helper ? r.left : 0)) {
                if (i.size.width = i.size.width + (i._helper ? i.position.left - r.left : i.position.left - l.left),
                e)
                    i.size.height = i.size.width / i.aspectRatio,
                    c = !1;
                i.position.left = o.helper ? r.left : 0
            }
            if (a.top < (i._helper ? r.top : 0)) {
                if (i.size.height = i.size.height + (i._helper ? i.position.top - r.top : i.position.top),
                e)
                    i.size.width = i.size.height * i.aspectRatio,
                    c = !1;
                i.position.top = i._helper ? r.top : 0
            }
            if (u = i.containerElement.get(0) === i.element.parent().get(0),
            o = /relative|absolute/.test(i.containerElement.css("position")),
            u && o)
                i.offset.left = i.parentData.left + i.position.left,
                i.offset.top = i.parentData.top + i.position.top;
            else
                i.offset.left = i.element.offset().left,
                i.offset.top = i.element.offset().top;
            if (a = Math.abs(i.sizeDiff.width + (i._helper ? i.offset.left - l.left : i.offset.left - r.left)),
            u = Math.abs(i.sizeDiff.height + (i._helper ? i.offset.top - l.top : i.offset.top - r.top)),
            a + i.size.width >= i.parentData.width)
                if (i.size.width = i.parentData.width - a,
                e)
                    i.size.height = i.size.width / i.aspectRatio,
                    c = !1;
            if (u + i.size.height >= i.parentData.height)
                if (i.size.height = i.parentData.height - u,
                e)
                    i.size.width = i.size.height * i.aspectRatio,
                    c = !1;
            if (!c)
                i.position.left = i.prevPosition.left,
                i.position.top = i.prevPosition.top,
                i.size.width = i.prevSize.width,
                i.size.height = i.prevSize.height
        },
        stop: function() {
            var e = A(this).resizable("instance")
              , i = e.options
              , o = e.containerOffset
              , r = e.containerPosition
              , a = e.containerElement
              , l = A(e.helper)
              , u = l.offset()
              , c = l.outerWidth() - e.sizeDiff.width
              , l = l.outerHeight() - e.sizeDiff.height;
            if (e._helper && !i.animate && /relative/.test(a.css("position")))
                A(this).css({
                    left: u.left - r.left - o.left,
                    width: c,
                    height: l
                });
            if (e._helper && !i.animate && /static/.test(a.css("position")))
                A(this).css({
                    left: u.left - r.left - o.left,
                    width: c,
                    height: l
                })
        }
    }),
    A.ui.plugin.add("resizable", "alsoResize", {
        start: function() {
            var e = A(this).resizable("instance").options;
            A(e.alsoResize).each(function() {
                var e = A(this);
                e.data("ui-resizable-alsoresize", {
                    width: parseFloat(e.width()),
                    height: parseFloat(e.height()),
                    left: parseFloat(e.css("left")),
                    top: parseFloat(e.css("top"))
                })
            })
        },
        resize: function(e, o) {
            var i = A(this).resizable("instance")
              , r = i.options
              , a = i.originalSize
              , l = i.originalPosition
              , u = {
                height: i.size.height - a.height || 0,
                width: i.size.width - a.width || 0,
                top: i.position.top - l.top || 0,
                left: i.position.left - l.left || 0
            };
            A(r.alsoResize).each(function() {
                var e = A(this)
                  , r = A(this).data("ui-resizable-alsoresize")
                  , a = {}
                  , i = e.parents(o.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"];
                A.each(i, function(e, i) {
                    var o = (r[i] || 0) + (u[i] || 0);
                    if (o && 0 <= o)
                        a[i] = o || null
                }),
                e.css(a)
            })
        },
        stop: function() {
            A(this).removeData("ui-resizable-alsoresize")
        }
    }),
    A.ui.plugin.add("resizable", "ghost", {
        start: function() {
            var e = A(this).resizable("instance")
              , i = e.size;
            if (e.ghost = e.originalElement.clone(),
            e.ghost.css({
                opacity: .25,
                display: "block",
                position: "relative",
                height: i.height,
                width: i.width,
                margin: 0,
                left: 0,
                top: 0
            }),
            e._addClass(e.ghost, "ui-resizable-ghost"),
            !1 !== A.uiBackCompat && "string" == typeof e.options.ghost)
                e.ghost.addClass(this.options.ghost);
            e.ghost.appendTo(e.helper)
        },
        resize: function() {
            var e = A(this).resizable("instance");
            if (e.ghost)
                e.ghost.css({
                    position: "relative",
                    height: e.size.height,
                    width: e.size.width
                })
        },
        stop: function() {
            var e = A(this).resizable("instance");
            if (e.ghost && e.helper)
                e.helper.get(0).removeChild(e.ghost.get(0))
        }
    }),
    A.ui.plugin.add("resizable", "grid", {
        resize: function() {
            var e, i = A(this).resizable("instance"), o = i.options, r = i.size, a = i.originalSize, l = i.originalPosition, u = i.axis, c = "number" == typeof o.grid ? [o.grid, o.grid] : o.grid, d = c[0] || 1, h = c[1] || 1, p = Math.round((r.width - a.width) / d) * d, r = Math.round((r.height - a.height) / h) * h, f = a.width + p, g = a.height + r, m = o.maxWidth && o.maxWidth < f, w = o.maxHeight && o.maxHeight < g, v = o.minWidth && o.minWidth > f, y = o.minHeight && o.minHeight > g;
            if (o.grid = c,
            v)
                f += d;
            if (y)
                g += h;
            if (m)
                f -= d;
            if (w)
                g -= h;
            if (/^(se|s|e)$/.test(u))
                i.size.width = f,
                i.size.height = g;
            else if (/^(ne)$/.test(u))
                i.size.width = f,
                i.size.height = g,
                i.position.top = l.top - r;
            else if (/^(sw)$/.test(u))
                i.size.width = f,
                i.size.height = g,
                i.position.left = l.left - p;
            else {
                if (g - h <= 0 || f - d <= 0)
                    e = i._getPaddingPlusBorderDimensions(this);
                if (0 < g - h)
                    i.size.height = g,
                    i.position.top = l.top - r;
                else
                    g = h - e.height,
                    i.size.height = g,
                    i.position.top = l.top + a.height - g;
                if (0 < f - d)
                    i.size.width = f,
                    i.position.left = l.left - p;
                else
                    f = d - e.width,
                    i.size.width = f,
                    i.position.left = l.left + a.width - f
            }
        }
    }),
    A.ui.resizable;
    if (A.widget("ui.dialog", {
        version: "1.12.1",
        options: {
            appendTo: "body",
            autoFocus: !1,
            autoOpen: !0,
            buttons: [],
            classes: {
                "ui-dialog": "ui-corner-all",
                "ui-dialog-titlebar": "ui-corner-all"
            },
            closeOnEscape: !0,
            closeText: "Close",
            draggable: !0,
            hide: null,
            height: "auto",
            maxHeight: null,
            maxWidth: null,
            minHeight: 150,
            minWidth: 150,
            modal: !1,
            position: {
                my: "center",
                at: "center",
                of: window,
                collision: "fit",
                scaling: 1,
                using: function(e) {
                    var i = A(this).css(e).offset().top;
                    if (i < 0)
                        A(this).css("top", e.top - i)
                }
            },
            resizable: !0,
            show: null,
            title: null,
            width: 300,
            beforeClose: null,
            close: null,
            drag: null,
            dragStart: null,
            dragStop: null,
            focus: null,
            open: null,
            resize: null,
            resizeStart: null,
            resizeStop: null
        },
        sizeRelatedOptions: {
            buttons: !0,
            height: !0,
            maxHeight: !0,
            maxWidth: !0,
            minHeight: !0,
            minWidth: !0,
            width: !0
        },
        resizableRelatedOptions: {
            maxHeight: !0,
            maxWidth: !0,
            minHeight: !0,
            minWidth: !0
        },
        _create: function() {
            if (this.originalCss = {
                display: this.element[0].style.display,
                width: this.element[0].style.width,
                minHeight: this.element[0].style.minHeight,
                maxHeight: this.element[0].style.maxHeight,
                height: this.element[0].style.height
            },
            this.originalPosition = {
                parent: this.element.parent(),
                index: this.element.parent().children().index(this.element)
            },
            this.originalTitle = this.element.attr("title"),
            null == this.options.title && null != this.originalTitle)
                this.options.title = this.originalTitle;
            if (this.options.disabled)
                this.options.disabled = !1;
            if (this._createWrapper(),
            this.element.show().removeAttr("title").appendTo(this.uiDialog),
            this._addClass("ui-dialog-content", "ui-widget-content"),
            this._createTitlebar(),
            this._createButtonPane(),
            this.options.draggable && A.fn.draggable)
                this._makeDraggable();
            if (this.options.resizable && A.fn.resizable)
                this._makeResizable();
            this._isOpen = !1,
            this._trackFocus()
        },
        _init: function() {
            if (this.options.autoOpen)
                this.open()
        },
        _appendTo: function() {
            var e = this.options.appendTo;
            if (e && (e.jquery || e.nodeType))
                return A(e);
            else
                return this.document.find(e || "body").eq(0)
        },
        _destroy: function() {
            var e, i = this.originalPosition;
            if (this._untrackInstance(),
            this._destroyOverlay(),
            this.element.removeUniqueId().css(this.originalCss).detach(),
            this.uiDialog.remove(),
            this.originalTitle)
                this.element.attr("title", this.originalTitle);
            if ((e = i.parent.children().eq(i.index)).length && e[0] !== this.element[0])
                e.before(this.element);
            else
                i.parent.append(this.element)
        },
        widget: function() {
            return this.uiDialog
        },
        disable: A.noop,
        enable: A.noop,
        close: function(e) {
            var i = this;
            if (!this._isOpen || !1 === this._trigger("beforeClose", e))
                ;
            else {
                if (this._isOpen = !1,
                this._focusedElement = null,
                this._destroyOverlay(),
                this._untrackInstance(),
                !this.opener.filter(":focusable").trigger("focus").length)
                    A.ui.safeBlur(A.ui.safeActiveElement(this.document[0]));
                this._hide(this.uiDialog, this.options.hide, function() {
                    i._trigger("close", e)
                })
            }
        },
        isOpen: function() {
            return this._isOpen
        },
        moveToTop: function() {
            this._moveToTop()
        },
        _moveToTop: function(e, i) {
            var o = !1
              , r = this.uiDialog.siblings(".ui-front:visible").map(function() {
                return +A(this).css("z-index")
            }).get()
              , r = Math.max.apply(null, r);
            if (r >= +this.uiDialog.css("z-index"))
                this.uiDialog.css("z-index", r + 1),
                o = !0;
            if (this.options.autoFocus && o && !i)
                this._trigger("focus", e);
            return o
        },
        open: function() {
            var e = this;
            if (this._isOpen) {
                if (this._moveToTop())
                    this._focusTabbable()
            } else {
                if (this._isOpen = !0,
                this.opener = A(A.ui.safeActiveElement(this.document[0])),
                this._size(),
                this._position(),
                this._createOverlay(),
                this._moveToTop(null, !0),
                this.overlay)
                    this.overlay.css("z-index", this.uiDialog.css("z-index") - 1);
                this._show(this.uiDialog, this.options.show, function() {
                    if (e.options.autoFocus)
                        e._focusTabbable(),
                        e._trigger("focus")
                }),
                this._makeFocusTarget(),
                this._trigger("open")
            }
        },
        _focusTabbable: function() {
            var e = this._focusedElement;
            if (!e)
                e = this.element.find("[autofocus]");
            if (!e.length)
                e = this.element.find(":tabbable");
            if (!e.length)
                e = this.uiDialogButtonPane.find(":tabbable");
            if (!e.length)
                e = this.uiDialogTitlebarClose.filter(":tabbable");
            if (!e.length)
                e = this.uiDialog;
            e.eq(0).trigger("focus")
        },
        _keepFocus: function(e) {
            function i() {
                var e = A.ui.safeActiveElement(this.document[0]);
                if (!(this.uiDialog[0] === e || A.contains(this.uiDialog[0], e)))
                    this._focusTabbable()
            }
            e.preventDefault(),
            i.call(this),
            this._delay(i)
        },
        _createWrapper: function() {
            if (this.uiDialog = A("<div>").hide().attr({
                tabIndex: -1,
                role: "dialog"
            }).appendTo(this._appendTo()),
            this._addClass(this.uiDialog, "ui-dialog", "ui-widget ui-widget-content ui-front"),
            this._on(this.uiDialog, {
                keydown: function(e) {
                    if (this.options.closeOnEscape && !e.isDefaultPrevented() && e.keyCode && e.keyCode === A.ui.keyCode.ESCAPE)
                        e.preventDefault(),
                        this.close(e);
                    else if (e.keyCode !== A.ui.keyCode.TAB || e.isDefaultPrevented())
                        ;
                    else {
                        var i = this.uiDialog.find(":tabbable")
                          , o = i.filter(":first")
                          , r = i.filter(":last");
                        if ((e.target === r[0] || e.target === this.uiDialog[0]) && !e.shiftKey)
                            this._delay(function() {
                                o.trigger("focus")
                            }),
                            e.preventDefault();
                        else if ((e.target === o[0] || e.target === this.uiDialog[0]) && e.shiftKey)
                            this._delay(function() {
                                r.trigger("focus")
                            }),
                            e.preventDefault()
                    }
                },
                mousedown: function(e) {
                    if (this._moveToTop(e))
                        this._focusTabbable()
                }
            }),
            !this.element.find("[aria-describedby]").length)
                this.uiDialog.attr({
                    "aria-describedby": this.element.uniqueId().attr("id")
                })
        },
        _createTitlebar: function() {
            var e;
            this.uiDialogTitlebar = A("<div>"),
            this._addClass(this.uiDialogTitlebar, "ui-dialog-titlebar", "ui-widget-header ui-helper-clearfix"),
            this._on(this.uiDialogTitlebar, {
                mousedown: function(e) {
                    if (!A(e.target).closest(".ui-dialog-titlebar-close"))
                        this.uiDialog.trigger("focus")
                }
            }),
            this.uiDialogTitlebarClose = A("<button type='button'></button>").button({
                label: A("<a>").text(this.options.closeText).html(),
                icon: "ui-icon-closethick",
                showLabel: !1
            }).appendTo(this.uiDialogTitlebar),
            this._addClass(this.uiDialogTitlebarClose, "ui-dialog-titlebar-close"),
            this._on(this.uiDialogTitlebarClose, {
                click: function(e) {
                    e.preventDefault(),
                    this.close(e)
                }
            }),
            e = A("<span>").uniqueId().prependTo(this.uiDialogTitlebar),
            this._addClass(e, "ui-dialog-title"),
            this._title(e),
            this.uiDialogTitlebar.prependTo(this.uiDialog),
            this.uiDialog.attr({
                "aria-labelledby": e.attr("id")
            })
        },
        _title: function(e) {
            if (this.options.title)
                e.text(this.options.title);
            else
                e.html("&#160;")
        },
        _createButtonPane: function() {
            this.uiDialogButtonPane = A("<div>"),
            this._addClass(this.uiDialogButtonPane, "ui-dialog-buttonpane", "ui-widget-content ui-helper-clearfix"),
            this.uiButtonSet = A("<div>").appendTo(this.uiDialogButtonPane),
            this._addClass(this.uiButtonSet, "ui-dialog-buttonset"),
            this._createButtons()
        },
        _createButtons: function() {
            var r = this
              , e = this.options.buttons;
            if (this.uiDialogButtonPane.remove(),
            this.uiButtonSet.empty(),
            A.isEmptyObject(e) || Array.isArray(e) && !e.length)
                this._removeClass(this.uiDialog, "ui-dialog-buttons");
            else
                A.each(e, function(e, i) {
                    var o;
                    if (i = A.extend({
                        type: "button"
                    }, i = "function" == typeof i ? {
                        click: i,
                        text: e
                    } : i),
                    o = i.click,
                    e = {
                        icon: i.icon,
                        iconPosition: i.iconPosition,
                        showLabel: i.showLabel,
                        icons: i.icons,
                        text: i.text
                    },
                    delete i.click,
                    delete i.icon,
                    delete i.iconPosition,
                    delete i.showLabel,
                    delete i.icons,
                    "boolean" == typeof i.text)
                        delete i.text;
                    A("<button></button>", i).button(e).appendTo(r.uiButtonSet).on("click", function() {
                        o.apply(r.element[0], arguments)
                    })
                }),
                this._addClass(this.uiDialog, "ui-dialog-buttons"),
                this.uiDialogButtonPane.appendTo(this.uiDialog)
        },
        _makeDraggable: function() {
            var a = this
              , l = this.options;
            function u(e) {
                return {
                    position: e.position,
                    offset: e.offset
                }
            }
            this.uiDialog.draggable({
                cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
                handle: ".ui-dialog-titlebar",
                containment: "document",
                scaling: l.position.scaling,
                start: function(e, i) {
                    a._addClass(A(this), "ui-dialog-dragging"),
                    a._blockFrames(),
                    a._trigger("dragStart", e, u(i))
                },
                drag: function(e, i) {
                    a._trigger("drag", e, u(i))
                },
                stop: function(e, i) {
                    var o = i.offset.left - a.document.scrollLeft()
                      , r = i.offset.top - a.document.scrollTop();
                    l.position = {
                        my: "left top",
                        at: "left" + (0 <= o ? "+" : "") + o + " top" + (0 <= r ? "+" : "") + r,
                        of: a.window
                    },
                    a._removeClass(A(this), "ui-dialog-dragging"),
                    a._unblockFrames(),
                    a._trigger("dragStop", e, u(i))
                }
            })
        },
        _makeResizable: function() {
            var a = this
              , l = this.options
              , e = l.resizable
              , i = this.uiDialog.css("position")
              , e = "string" == typeof e ? e : "n,e,s,w,se,sw,ne,nw";
            function u(e) {
                return {
                    originalPosition: e.originalPosition,
                    originalSize: e.originalSize,
                    position: e.position,
                    size: e.size
                }
            }
            this.uiDialog.resizable({
                cancel: ".ui-dialog-content",
                containment: "document",
                alsoResize: this.element,
                maxWidth: l.maxWidth,
                maxHeight: l.maxHeight,
                minWidth: l.minWidth,
                minHeight: this._minHeight(),
                handles: e,
                start: function(e, i) {
                    a._addClass(A(this), "ui-dialog-resizing"),
                    a._blockFrames(),
                    a._trigger("resizeStart", e, u(i))
                },
                resize: function(e, i) {
                    a._trigger("resize", e, u(i))
                },
                stop: function(e, i) {
                    var o = a.uiDialog.offset()
                      , r = o.left - a.document.scrollLeft()
                      , o = o.top - a.document.scrollTop();
                    l.height = a.uiDialog.height(),
                    l.width = a.uiDialog.width(),
                    l.position = {
                        my: "left top",
                        at: "left" + (0 <= r ? "+" : "") + r + " top" + (0 <= o ? "+" : "") + o,
                        of: a.window
                    },
                    a._removeClass(A(this), "ui-dialog-resizing"),
                    a._unblockFrames(),
                    a._trigger("resizeStop", e, u(i))
                }
            }).css("position", i)
        },
        _trackFocus: function() {
            this._on(this.widget(), {
                focusin: function(e) {
                    this._makeFocusTarget(),
                    this._focusedElement = A(e.target)
                }
            })
        },
        _makeFocusTarget: function() {
            this._untrackInstance(),
            this._trackingInstances().unshift(this)
        },
        _untrackInstance: function() {
            var e = this._trackingInstances()
              , i = A.inArray(this, e);
            if (-1 !== i)
                e.splice(i, 1)
        },
        _trackingInstances: function() {
            var e = this.document.data("ui-dialog-instances");
            if (!e)
                this.document.data("ui-dialog-instances", e = []);
            return e
        },
        _minHeight: function() {
            var e = this.options;
            return "auto" === e.height ? e.minHeight : Math.min(e.minHeight, e.height)
        },
        _position: function() {
            var e = this.uiDialog.is(":visible");
            if (!e)
                this.uiDialog.show();
            if (this.uiDialog.position(this.options.position),
            !e)
                this.uiDialog.hide()
        },
        _setOptions: function(e) {
            var o = this
              , r = !1
              , a = {};
            if (A.each(e, function(e, i) {
                if (o._setOption(e, i),
                e in o.sizeRelatedOptions)
                    r = !0;
                if (e in o.resizableRelatedOptions)
                    a[e] = i
            }),
            r)
                this._size(),
                this._position();
            if (this.uiDialog.is(":data(ui-resizable)"))
                this.uiDialog.resizable("option", a)
        },
        _setOption: function(e, i) {
            var o, r = this.uiDialog;
            if ("disabled" === e)
                ;
            else {
                if (this._super(e, i),
                "appendTo" === e)
                    this.uiDialog.appendTo(this._appendTo());
                if ("buttons" === e)
                    this._createButtons();
                if ("closeText" === e)
                    this.uiDialogTitlebarClose.button({
                        label: A("<a>").text("" + this.options.closeText).html()
                    });
                if ("draggable" === e) {
                    if ((o = r.is(":data(ui-draggable)")) && !i)
                        r.draggable("destroy");
                    if (!o && i)
                        this._makeDraggable()
                }
                if ("position" === e)
                    this._position();
                if ("resizable" === e) {
                    if ((o = r.is(":data(ui-resizable)")) && !i)
                        r.resizable("destroy");
                    if (o && "string" == typeof i)
                        r.resizable("option", "handles", i);
                    if (!o && !1 !== i)
                        this._makeResizable()
                }
                if ("title" === e)
                    this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))
            }
        },
        _size: function() {
            var e, i, o, r = this.options;
            if (this.element.show().css({
                width: "auto",
                minHeight: 0,
                maxHeight: "none",
                height: 0
            }),
            r.minWidth > r.width)
                r.width = r.minWidth;
            if (e = this.uiDialog.css({
                height: "auto",
                width: r.width
            }).outerHeight(),
            i = Math.max(0, r.minHeight - e),
            o = "number" == typeof r.maxHeight ? Math.max(0, r.maxHeight - e) : "none",
            "auto" === r.height)
                this.element.css({
                    minHeight: i,
                    maxHeight: o,
                    height: "auto"
                });
            else
                this.element.height(Math.max(0, r.height - e));
            if (this.uiDialog.is(":data(ui-resizable)"))
                this.uiDialog.resizable("option", "minHeight", this._minHeight())
        },
        _blockFrames: function() {
            this.iframeBlocks = this.document.find("iframe").map(function() {
                var e = A(this);
                return A("<div>").css({
                    position: "absolute",
                    width: e.outerWidth(),
                    height: e.outerHeight()
                }).appendTo(e.parent()).offset(e.offset())[0]
            })
        },
        _unblockFrames: function() {
            if (this.iframeBlocks)
                this.iframeBlocks.remove(),
                delete this.iframeBlocks
        },
        _allowInteraction: function(e) {
            if (A(e.target).closest(".ui-dialog").length)
                return !0;
            else
                return !!A(e.target).closest(".ui-datepicker").length
        },
        _createOverlay: function() {
            if (!this.options.modal)
                ;
            else {
                var i = !0;
                if (this._delay(function() {
                    i = !1
                }),
                !this.document.data("ui-dialog-overlays"))
                    this._on(this.document, {
                        focusin: function(e) {
                            if (i)
                                ;
                            else if (!this._allowInteraction(e))
                                e.preventDefault(),
                                this._trackingInstances()[0]._focusTabbable()
                        }
                    });
                this.overlay = A("<div>").appendTo(this._appendTo()),
                this._addClass(this.overlay, null, "ui-widget-overlay ui-front"),
                this._on(this.overlay, {
                    mousedown: "_keepFocus"
                }),
                this.document.data("ui-dialog-overlays", (this.document.data("ui-dialog-overlays") || 0) + 1)
            }
        },
        _destroyOverlay: function() {
            if (!this.options.modal)
                ;
            else if (this.overlay) {
                var e = this.document.data("ui-dialog-overlays") - 1;
                if (!e)
                    this._off(this.document, "focusin"),
                    this.document.removeData("ui-dialog-overlays");
                else
                    this.document.data("ui-dialog-overlays", e);
                this.overlay.remove(),
                this.overlay = null
            }
        }
    }),
    !1 !== A.uiBackCompat)
        A.widget("ui.dialog", A.ui.dialog, {
            options: {
                dialogClass: ""
            },
            _createWrapper: function() {
                this._super(),
                this.uiDialog.addClass(this.options.dialogClass)
            },
            _setOption: function(e, i) {
                if ("dialogClass" === e)
                    this.uiDialog.removeClass(this.options.dialogClass).addClass(i);
                this._superApply(arguments)
            }
        });
    A.ui.dialog;
    A.widget("ui.droppable", {
        version: "1.12.1",
        widgetEventPrefix: "drop",
        options: {
            accept: "*",
            addClasses: !0,
            greedy: !1,
            scope: "default",
            tolerance: "intersect",
            activate: null,
            deactivate: null,
            drop: null,
            out: null,
            over: null
        },
        _create: function() {
            var e, i = this.options, o = i.accept;
            this.isover = !1,
            this.isout = !0,
            this.accept = "function" == typeof o ? o : function(e) {
                return e.is(o)
            }
            ,
            this.proportions = function() {
                if (arguments.length)
                    e = arguments[0];
                else
                    return e ? e : e = {
                        width: this.element[0].offsetWidth,
                        height: this.element[0].offsetHeight
                    }
            }
            ,
            this._addToManager(i.scope),
            i.addClasses && this._addClass("ui-droppable")
        },
        _addToManager: function(e) {
            A.ui.ddmanager.droppables[e] = A.ui.ddmanager.droppables[e] || [],
            A.ui.ddmanager.droppables[e].push(this)
        },
        _splice: function(e) {
            for (var i = 0; i < e.length; i++)
                if (e[i] === this)
                    e.splice(i, 1)
        },
        _destroy: function() {
            var e = A.ui.ddmanager.droppables[this.options.scope];
            this._splice(e)
        },
        _setOption: function(e, i) {
            if ("accept" === e)
                this.accept = "function" == typeof i ? i : function(e) {
                    return e.is(i)
                }
                ;
            else if ("scope" === e) {
                var o = A.ui.ddmanager.droppables[this.options.scope];
                this._splice(o),
                this._addToManager(i)
            }
            this._super(e, i)
        },
        _activate: function(e) {
            var i = A.ui.ddmanager.current;
            if (this._addActiveClass(),
            i)
                this._trigger("activate", e, this.ui(i))
        },
        _deactivate: function(e) {
            var i = A.ui.ddmanager.current;
            if (this._removeActiveClass(),
            i)
                this._trigger("deactivate", e, this.ui(i))
        },
        _over: function(e) {
            var i = A.ui.ddmanager.current;
            if (!i || (i.currentItem || i.element)[0] === this.element[0])
                ;
            else if (this.accept.call(this.element[0], i.currentItem || i.element))
                this._addHoverClass(),
                this._trigger("over", e, this.ui(i))
        },
        _out: function(e) {
            var i = A.ui.ddmanager.current;
            if (!i || (i.currentItem || i.element)[0] === this.element[0])
                ;
            else if (this.accept.call(this.element[0], i.currentItem || i.element))
                this._removeHoverClass(),
                this._trigger("out", e, this.ui(i))
        },
        _drop: function(i, e) {
            var o = e || A.ui.ddmanager.current
              , r = !1;
            if (!o || (o.currentItem || o.element)[0] === this.element[0])
                return !1;
            if (this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function() {
                var e = A(this).droppable("instance");
                if (e.options.greedy && !e.options.disabled && e.options.scope === o.options.scope && e.accept.call(e.element[0], o.currentItem || o.element) && B(o, A.extend(e, {
                    offset: e.element.offset()
                }), e.options.tolerance, i))
                    return !(r = !0)
            }),
            r)
                return !1;
            if (this.accept.call(this.element[0], o.currentItem || o.element))
                return this._removeActiveClass(),
                this._removeHoverClass(),
                this._trigger("drop", i, this.ui(o)),
                this.element;
            else
                return !1
        },
        ui: function(e) {
            return {
                draggable: e.currentItem || e.element,
                helper: e.helper,
                position: e.position,
                offset: e.positionAbs
            }
        },
        _addHoverClass: function() {
            this._addClass("ui-droppable-hover")
        },
        _removeHoverClass: function() {
            this._removeClass("ui-droppable-hover")
        },
        _addActiveClass: function() {
            this._addClass("ui-droppable-active")
        },
        _removeActiveClass: function() {
            this._removeClass("ui-droppable-active")
        }
    });
    var B = A.ui.intersect = function(e, i, o, r) {
        if (!i.offset)
            return !1;
        var a = (e.positionAbs || e.position.absolute).left + e.margins.left
          , l = (e.positionAbs || e.position.absolute).top + e.margins.top
          , u = a + e.helperProportions.width
          , c = l + e.helperProportions.height
          , d = i.offset.left
          , t = i.offset.top
          , h = d + i.proportions().width
          , p = t + i.proportions().height;
        switch (o) {
        case "fit":
            return d <= a && u <= h && t <= l && c <= p;
        case "intersect":
            return d < a + e.helperProportions.width / 2 && u - e.helperProportions.width / 2 < h && t < l + e.helperProportions.height / 2 && c - e.helperProportions.height / 2 < p;
        case "pointer":
            return K(r.pageY, t, i.proportions().height) && K(r.pageX, d, i.proportions().width);
        case "touch":
            return (t <= l && l <= p || t <= c && c <= p || l < t && p < c) && (d <= a && a <= h || d <= u && u <= h || a < d && h < u);
        default:
            return !1
        }
    }
    ;
    function K(e, i, o) {
        return i <= e && e < i + o
    }
    if (!(A.ui.ddmanager = {
        current: null,
        droppables: {
            default: []
        },
        prepareOffsets: function(t, e) {
            var i, o, r = A.ui.ddmanager.droppables[t.options.scope] || [], a = e ? e.type : null, l = (t.currentItem || t.element).find(":data(ui-droppable)").addBack();
            e: for (i = 0; i < r.length; i++)
                if (r[i].options.disabled || t && !r[i].accept.call(r[i].element[0], t.currentItem || t.element))
                    ;
                else {
                    for (o = 0; o < l.length; o++)
                        if (l[o] === r[i].element[0]) {
                            r[i].proportions().height = 0;
                            continue e
                        }
                    if (r[i].visible = "none" !== r[i].element.css("display"),
                    !r[i].visible)
                        ;
                    else {
                        if ("mousedown" === a)
                            r[i]._activate.call(r[i], e);
                        r[i].offset = r[i].element.offset(),
                        r[i].proportions({
                            width: r[i].element[0].offsetWidth,
                            height: r[i].element[0].offsetHeight
                        })
                    }
                }
        },
        drop: function(e, i) {
            var o = !1;
            return A.each((A.ui.ddmanager.droppables[e.options.scope] || []).slice(), function() {
                if (!this.options)
                    ;
                else {
                    if (!this.options.disabled && this.visible && B(e, this, this.options.tolerance, i))
                        o = this._drop.call(this, i) || o;
                    if (!this.options.disabled && this.visible && this.accept.call(this.element[0], e.currentItem || e.element))
                        this.isout = !0,
                        this.isover = !1,
                        this._deactivate.call(this, i)
                }
            }),
            o
        },
        dragStart: function(e, i) {
            e.element.parentsUntil("body").on("scroll.droppable", function() {
                if (!e.options.refreshPositions)
                    A.ui.ddmanager.prepareOffsets(e, i)
            })
        },
        drag: function(a, l) {
            if (a.options.refreshPositions)
                A.ui.ddmanager.prepareOffsets(a, l);
            A.each(A.ui.ddmanager.droppables[a.options.scope] || [], function() {
                if (this.options.disabled || this.greedyChild || !this.visible)
                    ;
                else {
                    var e, i, o, r = B(a, this, this.options.tolerance, l), r = !r && this.isover ? "isout" : r && !this.isover ? "isover" : null;
                    if (!r)
                        ;
                    else {
                        if (this.options.greedy)
                            if (i = this.options.scope,
                            (o = this.element.parents(":data(ui-droppable)").filter(function() {
                                return A(this).droppable("instance").options.scope === i
                            })).length)
                                (e = A(o[0]).droppable("instance")).greedyChild = "isover" === r;
                        if (e && "isover" === r)
                            e.isover = !1,
                            e.isout = !0,
                            e._out.call(e, l);
                        if (this[r] = !0,
                        this["isout" === r ? "isover" : "isout"] = !1,
                        this["isover" === r ? "_over" : "_out"].call(this, l),
                        e && "isout" === r)
                            e.isout = !1,
                            e.isover = !0,
                            e._over.call(e, l)
                    }
                }
            })
        },
        dragStop: function(e, i) {
            if (e.element.parentsUntil("body").off("scroll.droppable"),
            !e.options.refreshPositions)
                A.ui.ddmanager.prepareOffsets(e, i)
        }
    }) !== A.uiBackCompat)
        A.widget("ui.droppable", A.ui.droppable, {
            options: {
                hoverClass: !1,
                activeClass: !1
            },
            _addActiveClass: function() {
                if (this._super(),
                this.options.activeClass)
                    this.element.addClass(this.options.activeClass)
            },
            _removeActiveClass: function() {
                if (this._super(),
                this.options.activeClass)
                    this.element.removeClass(this.options.activeClass)
            },
            _addHoverClass: function() {
                if (this._super(),
                this.options.hoverClass)
                    this.element.addClass(this.options.hoverClass)
            },
            _removeHoverClass: function() {
                if (this._super(),
                this.options.hoverClass)
                    this.element.removeClass(this.options.hoverClass)
            }
        });
    A.ui.droppable,
    A.widget("ui.progressbar", {
        version: "1.12.1",
        options: {
            classes: {
                "ui-progressbar": "ui-corner-all",
                "ui-progressbar-value": "ui-corner-left",
                "ui-progressbar-complete": "ui-corner-right"
            },
            max: 100,
            value: 0,
            change: null,
            complete: null
        },
        min: 0,
        _create: function() {
            this.oldValue = this.options.value = this._constrainedValue(),
            this.element.attr({
                role: "progressbar",
                "aria-valuemin": this.min
            }),
            this._addClass("ui-progressbar", "ui-widget ui-widget-content"),
            this.valueDiv = A("<div>").appendTo(this.element),
            this._addClass(this.valueDiv, "ui-progressbar-value", "ui-widget-header"),
            this._refreshValue()
        },
        _destroy: function() {
            this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),
            this.valueDiv.remove()
        },
        value: function(e) {
            if (void 0 === e)
                return this.options.value;
            this.options.value = this._constrainedValue(e),
            this._refreshValue()
        },
        _constrainedValue: function(e) {
            if (void 0 === e)
                e = this.options.value;
            if (this.indeterminate = !1 === e,
            "number" != typeof e)
                e = 0;
            return this.indeterminate ? !1 : Math.min(this.options.max, Math.max(this.min, e))
        },
        _setOptions: function(e) {
            var i = e.value;
            delete e.value,
            this._super(e),
            this.options.value = this._constrainedValue(i),
            this._refreshValue()
        },
        _setOption: function(e, i) {
            if ("max" === e)
                i = Math.max(this.min, i);
            this._super(e, i)
        },
        _setOptionDisabled: function(e) {
            this._super(e),
            this.element.attr("aria-disabled", e),
            this._toggleClass(null, "ui-state-disabled", !!e)
        },
        _percentage: function() {
            return this.indeterminate ? 100 : 100 * (this.options.value - this.min) / (this.options.max - this.min)
        },
        _refreshValue: function() {
            var e = this.options.value
              , i = this._percentage();
            if (this.valueDiv.toggle(this.indeterminate || e > this.min).width(i.toFixed(0) + "%"),
            this._toggleClass(this.valueDiv, "ui-progressbar-complete", null, e === this.options.max)._toggleClass("ui-progressbar-indeterminate", null, this.indeterminate),
            this.indeterminate) {
                if (this.element.removeAttr("aria-valuenow"),
                !this.overlayDiv)
                    this.overlayDiv = A("<div>").appendTo(this.valueDiv),
                    this._addClass(this.overlayDiv, "ui-progressbar-overlay")
            } else if (this.element.attr({
                "aria-valuemax": this.options.max,
                "aria-valuenow": e
            }),
            this.overlayDiv)
                this.overlayDiv.remove(),
                this.overlayDiv = null;
            if (this.oldValue !== e)
                this.oldValue = e,
                this._trigger("change");
            if (e === this.options.max)
                this._trigger("complete")
        }
    }),
    A.widget("ui.selectable", A.ui.mouse, {
        version: "1.12.1",
        options: {
            appendTo: "body",
            autoRefresh: !0,
            distance: 0,
            filter: "*",
            tolerance: "touch",
            selected: null,
            selecting: null,
            start: null,
            stop: null,
            unselected: null,
            unselecting: null
        },
        _create: function() {
            var o = this;
            this._addClass("ui-selectable"),
            this.dragged = !1,
            this.refresh = function() {
                o.elementPos = A(o.element[0]).offset(),
                o.selectees = A(o.options.filter, o.element[0]),
                o._addClass(o.selectees, "ui-selectee"),
                o.selectees.each(function() {
                    var e = A(this)
                      , i = e.offset()
                      , i = {
                        left: i.left - o.elementPos.left,
                        top: i.top - o.elementPos.top
                    };
                    A.data(this, "selectable-item", {
                        element: this,
                        $element: e,
                        left: i.left,
                        top: i.top,
                        right: i.left + e.outerWidth(),
                        bottom: i.top + e.outerHeight(),
                        startselected: !1,
                        selected: e.hasClass("ui-selected"),
                        selecting: e.hasClass("ui-selecting"),
                        unselecting: e.hasClass("ui-unselecting")
                    })
                })
            }
            ,
            this.refresh(),
            this._mouseInit(),
            this.helper = A("<div>"),
            this._addClass(this.helper, "ui-selectable-helper")
        },
        _destroy: function() {
            this.selectees.removeData("selectable-item"),
            this._mouseDestroy()
        },
        _mouseStart: function(o) {
            var r = this
              , e = this.options;
            if (this.opos = [o.pageX, o.pageY],
            this.elementPos = A(this.element[0]).offset(),
            this.options.disabled)
                ;
            else {
                if (this.selectees = A(e.filter, this.element[0]),
                this._trigger("start", o),
                A(e.appendTo).append(this.helper),
                this.helper.css({
                    left: o.pageX,
                    top: o.pageY,
                    width: 0,
                    height: 0
                }),
                e.autoRefresh)
                    this.refresh();
                this.selectees.filter(".ui-selected").each(function() {
                    var e = A.data(this, "selectable-item");
                    if (e.startselected = !0,
                    !o.metaKey && !o.ctrlKey)
                        r._removeClass(e.$element, "ui-selected"),
                        e.selected = !1,
                        r._addClass(e.$element, "ui-unselecting"),
                        e.unselecting = !0,
                        r._trigger("unselecting", o, {
                            unselecting: e.element
                        })
                }),
                A(o.target).parents().addBack().each(function() {
                    var e, i = A.data(this, "selectable-item");
                    if (i) {
                        if (e = !o.metaKey && !o.ctrlKey || !i.$element.hasClass("ui-selected"),
                        r._removeClass(i.$element, e ? "ui-unselecting" : "ui-selected")._addClass(i.$element, e ? "ui-selecting" : "ui-unselecting"),
                        i.unselecting = !e,
                        i.selecting = e,
                        i.selected = e)
                            r._trigger("selecting", o, {
                                selecting: i.element
                            });
                        else
                            r._trigger("unselecting", o, {
                                unselecting: i.element
                            });
                        return !1
                    }
                })
            }
        },
        _mouseDrag: function(r) {
            if (this.dragged = !0,
            this.options.disabled)
                ;
            else {
                var e, a = this, l = this.options, u = this.opos[0], c = this.opos[1], d = r.pageX, h = r.pageY;
                if (d < u)
                    e = d,
                    d = u,
                    u = e;
                if (h < c)
                    e = h,
                    h = c,
                    c = e;
                return this.helper.css({
                    left: u,
                    top: c,
                    width: d - u,
                    height: h - c
                }),
                this.selectees.each(function() {
                    var e = A.data(this, "selectable-item")
                      , i = !1
                      , o = {};
                    if (!e || e.element === a.element[0])
                        ;
                    else {
                        if (o.left = e.left + a.elementPos.left,
                        o.right = e.right + a.elementPos.left,
                        o.top = e.top + a.elementPos.top,
                        o.bottom = e.bottom + a.elementPos.top,
                        "touch" === l.tolerance)
                            i = !(d < o.left || o.right < u || h < o.top || o.bottom < c);
                        else if ("fit" === l.tolerance)
                            i = u < o.left && o.right < d && c < o.top && o.bottom < h;
                        if (i) {
                            if (e.selected)
                                a._removeClass(e.$element, "ui-selected"),
                                e.selected = !1;
                            if (e.unselecting)
                                a._removeClass(e.$element, "ui-unselecting"),
                                e.unselecting = !1;
                            if (!e.selecting)
                                a._addClass(e.$element, "ui-selecting"),
                                e.selecting = !0,
                                a._trigger("selecting", r, {
                                    selecting: e.element
                                })
                        } else {
                            if (e.selecting)
                                if ((r.metaKey || r.ctrlKey) && e.startselected)
                                    a._removeClass(e.$element, "ui-selecting"),
                                    e.selecting = !1,
                                    a._addClass(e.$element, "ui-selected"),
                                    e.selected = !0;
                                else {
                                    if (a._removeClass(e.$element, "ui-selecting"),
                                    e.selecting = !1,
                                    e.startselected)
                                        a._addClass(e.$element, "ui-unselecting"),
                                        e.unselecting = !0;
                                    a._trigger("unselecting", r, {
                                        unselecting: e.element
                                    })
                                }
                            if (e.selected)
                                if (!r.metaKey && !r.ctrlKey && !e.startselected)
                                    a._removeClass(e.$element, "ui-selected"),
                                    e.selected = !1,
                                    a._addClass(e.$element, "ui-unselecting"),
                                    e.unselecting = !0,
                                    a._trigger("unselecting", r, {
                                        unselecting: e.element
                                    })
                        }
                    }
                }),
                !1
            }
        },
        _mouseStop: function(i) {
            var o = this;
            return this.dragged = !1,
            A(".ui-unselecting", this.element[0]).each(function() {
                var e = A.data(this, "selectable-item");
                o._removeClass(e.$element, "ui-unselecting"),
                e.unselecting = !1,
                e.startselected = !1,
                o._trigger("unselected", i, {
                    unselected: e.element
                })
            }),
            A(".ui-selecting", this.element[0]).each(function() {
                var e = A.data(this, "selectable-item");
                o._removeClass(e.$element, "ui-selecting")._addClass(e.$element, "ui-selected"),
                e.selecting = !1,
                e.selected = !0,
                e.startselected = !0,
                o._trigger("selected", i, {
                    selected: e.element
                })
            }),
            this._trigger("stop", i),
            this.helper.remove(),
            !1
        }
    }),
    A.widget("ui.selectmenu", [A.ui.formResetMixin, {
        version: "1.12.1",
        defaultElement: "<select>",
        options: {
            appendTo: null,
            classes: {
                "ui-selectmenu-button-open": "ui-corner-top",
                "ui-selectmenu-button-closed": "ui-corner-all"
            },
            disabled: null,
            icons: {
                button: "ui-icon-triangle-1-s"
            },
            position: {
                my: "left top",
                at: "left bottom",
                collision: "none"
            },
            width: !1,
            change: null,
            close: null,
            focus: null,
            open: null,
            select: null
        },
        _create: function() {
            var e = this.element.uniqueId().attr("id");
            this.ids = {
                element: e,
                button: e + "-button",
                menu: e + "-menu"
            },
            this._drawButton(),
            this._drawMenu(),
            this._bindFormResetHandler(),
            this._rendered = !1,
            this.menuItems = A()
        },
        _drawButton: function() {
            var e, i = this, o = this._parseOption(this.element.find("option:selected"), this.element[0].selectedIndex);
            if (this.labels = this.element.labels().attr("for", this.ids.button),
            this._on(this.labels, {
                click: function(e) {
                    this.button.focus(),
                    e.preventDefault()
                }
            }),
            this.element.hide(),
            this.button = A("<span>", {
                tabindex: this.options.disabled ? -1 : 0,
                id: this.ids.button,
                role: "combobox",
                "aria-expanded": "false",
                "aria-autocomplete": "list",
                "aria-owns": this.ids.menu,
                "aria-haspopup": "true",
                title: this.element.attr("title")
            }).insertAfter(this.element),
            this._addClass(this.button, "ui-selectmenu-button ui-selectmenu-button-closed", "ui-button ui-widget"),
            e = A("<span>").appendTo(this.button),
            this._addClass(e, "ui-selectmenu-icon", "ui-icon " + this.options.icons.button),
            this.buttonItem = this._renderButtonItem(o).appendTo(this.button),
            !1 !== this.options.width)
                this._resizeButton();
            this._on(this.button, this._buttonEvents),
            this.button.one("focusin", function() {
                if (!i._rendered)
                    i._refreshMenu()
            })
        },
        _drawMenu: function() {
            var o = this;
            this.menu = A("<ul>", {
                "aria-hidden": "true",
                "aria-labelledby": this.ids.button,
                id: this.ids.menu
            }),
            this.menuWrap = A("<div>").append(this.menu),
            this._addClass(this.menuWrap, "ui-selectmenu-menu", "ui-front"),
            this.menuWrap.appendTo(this._appendTo()),
            this.menuInstance = this.menu.menu({
                classes: {
                    "ui-menu": "ui-corner-bottom"
                },
                role: "listbox",
                select: function(e, i) {
                    e.preventDefault(),
                    o._setSelection(),
                    o._select(i.item.data("ui-selectmenu-item"), e)
                },
                focus: function(e, i) {
                    i = i.item.data("ui-selectmenu-item");
                    if (null != o.focusIndex && i.index !== o.focusIndex)
                        if (o._trigger("focus", e, {
                            item: i
                        }),
                        !o.isOpen)
                            o._select(i, e);
                    o.focusIndex = i.index,
                    o.button.attr("aria-activedescendant", o.menuItems.eq(i.index).attr("id"))
                }
            }).menu("instance"),
            this.menuInstance._off(this.menu, "mouseleave"),
            this.menuInstance._closeOnDocumentClick = function() {
                return !1
            }
            ,
            this.menuInstance._isDivider = function() {
                return !1
            }
        },
        refresh: function() {
            if (this._refreshMenu(),
            this.buttonItem.replaceWith(this.buttonItem = this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item") || {})),
            null === this.options.width)
                this._resizeButton()
        },
        _refreshMenu: function() {
            var e = this.element.find("option");
            if (this.menu.empty(),
            this._parseOptions(e),
            this._renderMenu(this.menu, this.items),
            this.menuInstance.refresh(),
            this.menuItems = this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),
            this._rendered = !0,
            !e.length)
                ;
            else
                e = this._getSelectedItem(),
                this.menuInstance.focus(null, e),
                this._setAria(e.data("ui-selectmenu-item")),
                this._setOption("disabled", this.element.prop("disabled"))
        },
        open: function(e) {
            if (this.options.disabled)
                ;
            else {
                if (!this._rendered)
                    this._refreshMenu();
                else
                    this._removeClass(this.menu.find(".ui-state-active"), null, "ui-state-active"),
                    this.menuInstance.focus(null, this._getSelectedItem());
                if (!this.menuItems.length)
                    ;
                else
                    this.isOpen = !0,
                    this._toggleAttr(),
                    this._resizeMenu(),
                    this._position(),
                    this._on(this.document, this._documentClick),
                    this._trigger("open", e)
            }
        },
        _position: function() {
            this.menuWrap.position(A.extend({
                of: this.button
            }, this.options.position))
        },
        close: function(e) {
            if (!this.isOpen)
                ;
            else
                this.isOpen = !1,
                this._toggleAttr(),
                this.range = null,
                this._off(this.document),
                this._trigger("close", e)
        },
        widget: function() {
            return this.button
        },
        menuWidget: function() {
            return this.menu
        },
        _renderButtonItem: function(e) {
            var i = A("<span>");
            return this._setText(i, e.label),
            this._addClass(i, "ui-selectmenu-text"),
            i
        },
        _renderMenu: function(r, e) {
            var a = this
              , l = "";
            A.each(e, function(e, i) {
                var o;
                if (i.optgroup !== l)
                    o = A("<li>", {
                        text: i.optgroup
                    }),
                    a._addClass(o, "ui-selectmenu-optgroup", "ui-menu-divider" + (i.element.parent("optgroup").prop("disabled") ? " ui-state-disabled" : "")),
                    o.appendTo(r),
                    l = i.optgroup;
                a._renderItemData(r, i)
            })
        },
        _renderItemData: function(e, i) {
            return this._renderItem(e, i).data("ui-selectmenu-item", i)
        },
        _renderItem: function(e, i) {
            var o = A("<li>")
              , r = A("<div>", {
                title: i.element.attr("title")
            });
            if (i.disabled)
                this._addClass(o, null, "ui-state-disabled");
            return this._setText(r, i.label),
            o.append(r).appendTo(e)
        },
        _setText: function(e, i) {
            if (i)
                e.text(i);
            else
                e.html("&#160;")
        },
        _move: function(e, i) {
            var o, r, a = ".ui-menu-item";
            if (this.isOpen)
                o = this.menuItems.eq(this.focusIndex).parent("li");
            else
                o = this.menuItems.eq(this.element[0].selectedIndex).parent("li"),
                a += ":not(.ui-state-disabled)";
            if ("first" === e || "last" === e)
                r = o["first" === e ? "prevAll" : "nextAll"](a).eq(-1);
            else
                r = o[e + "All"](a).eq(0);
            if (r.length)
                this.menuInstance.focus(i, r)
        },
        _getSelectedItem: function() {
            return this.menuItems.eq(this.element[0].selectedIndex).parent("li")
        },
        _toggle: function(e) {
            this[this.isOpen ? "close" : "open"](e)
        },
        _setSelection: function() {
            var e;
            if (!this.range)
                ;
            else {
                if (window.getSelection)
                    (e = window.getSelection()).removeAllRanges(),
                    e.addRange(this.range);
                else
                    this.range.select();
                this.button.focus()
            }
        },
        _documentClick: {
            mousedown: function(e) {
                if (!this.isOpen)
                    ;
                else if (!A(e.target).closest(".ui-selectmenu-menu, #" + A.ui.escapeSelector(this.ids.button)).length)
                    this.close(e)
            }
        },
        _buttonEvents: {
            mousedown: function() {
                var e;
                if (window.getSelection) {
                    if ((e = window.getSelection()).rangeCount)
                        this.range = e.getRangeAt(0)
                } else
                    this.range = document.selection.createRange()
            },
            click: function(e) {
                this._setSelection(),
                this._toggle(e)
            },
            keydown: function(e) {
                var i = !0;
                switch (e.keyCode) {
                case A.ui.keyCode.TAB:
                case A.ui.keyCode.ESCAPE:
                    this.close(e),
                    i = !1;
                    break;
                case A.ui.keyCode.ENTER:
                    if (this.isOpen)
                        this._selectFocusedItem(e);
                    break;
                case A.ui.keyCode.UP:
                    if (e.altKey)
                        this._toggle(e);
                    else
                        this._move("prev", e);
                    break;
                case A.ui.keyCode.DOWN:
                    if (e.altKey)
                        this._toggle(e);
                    else
                        this._move("next", e);
                    break;
                case A.ui.keyCode.SPACE:
                    if (this.isOpen)
                        this._selectFocusedItem(e);
                    else
                        this._toggle(e);
                    break;
                case A.ui.keyCode.LEFT:
                    this._move("prev", e);
                    break;
                case A.ui.keyCode.RIGHT:
                    this._move("next", e);
                    break;
                case A.ui.keyCode.HOME:
                case A.ui.keyCode.PAGE_UP:
                    this._move("first", e);
                    break;
                case A.ui.keyCode.END:
                case A.ui.keyCode.PAGE_DOWN:
                    this._move("last", e);
                    break;
                default:
                    this.menu.trigger(e),
                    i = !1
                }
                if (i)
                    e.preventDefault()
            }
        },
        _selectFocusedItem: function(e) {
            var i = this.menuItems.eq(this.focusIndex).parent("li");
            if (!i.hasClass("ui-state-disabled"))
                this._select(i.data("ui-selectmenu-item"), e)
        },
        _select: function(e, i) {
            var o = this.element[0].selectedIndex;
            if (this.element[0].selectedIndex = e.index,
            this.buttonItem.replaceWith(this.buttonItem = this._renderButtonItem(e)),
            this._setAria(e),
            this._trigger("select", i, {
                item: e
            }),
            e.index !== o)
                this._trigger("change", i, {
                    item: e
                });
            this.close(i)
        },
        _setAria: function(e) {
            e = this.menuItems.eq(e.index).attr("id");
            this.button.attr({
                "aria-labelledby": e,
                "aria-activedescendant": e
            }),
            this.menu.attr("aria-activedescendant", e)
        },
        _setOption: function(e, i) {
            if ("icons" === e) {
                var o = this.button.find("span.ui-icon");
                this._removeClass(o, null, this.options.icons.button)._addClass(o, null, i.button)
            }
            if (this._super(e, i),
            "appendTo" === e)
                this.menuWrap.appendTo(this._appendTo());
            if ("width" === e)
                this._resizeButton()
        },
        _setOptionDisabled: function(e) {
            if (this._super(e),
            this.menuInstance.option("disabled", e),
            this.button.attr("aria-disabled", e),
            this._toggleClass(this.button, null, "ui-state-disabled", e),
            this.element.prop("disabled", e),
            e)
                this.button.attr("tabindex", -1),
                this.close();
            else
                this.button.attr("tabindex", 0)
        },
        _appendTo: function() {
            var e = this.options.appendTo;
            if (e)
                e = e.jquery || e.nodeType ? A(e) : this.document.find(e).eq(0);
            if (!e || !e[0])
                e = this.element.closest(".ui-front, dialog");
            if (!e.length)
                e = this.document[0].body;
            return e
        },
        _toggleAttr: function() {
            this.button.attr("aria-expanded", this.isOpen),
            this._removeClass(this.button, "ui-selectmenu-button-" + (this.isOpen ? "closed" : "open"))._addClass(this.button, "ui-selectmenu-button-" + (this.isOpen ? "open" : "closed"))._toggleClass(this.menuWrap, "ui-selectmenu-open", null, this.isOpen),
            this.menu.attr("aria-hidden", !this.isOpen)
        },
        _resizeButton: function() {
            var e = this.options.width;
            if (!1 === e)
                this.button.css("width", "");
            else {
                if (null === e)
                    e = this.element.show().outerWidth(),
                    this.element.hide();
                this.button.outerWidth(e)
            }
        },
        _resizeMenu: function() {
            this.menu.outerWidth(Math.max(this.button.outerWidth(), this.menu.width("").outerWidth() + 1))
        },
        _getCreateOptions: function() {
            var e = this._super();
            return e.disabled = this.element.prop("disabled"),
            e
        },
        _parseOptions: function(e) {
            var o = this
              , r = [];
            e.each(function(e, i) {
                r.push(o._parseOption(A(i), e))
            }),
            this.items = r
        },
        _parseOption: function(e, i) {
            var o = e.parent("optgroup");
            return {
                element: e,
                index: i,
                value: e.val(),
                label: e.text(),
                optgroup: o.attr("label") || "",
                disabled: o.prop("disabled") || e.prop("disabled")
            }
        },
        _destroy: function() {
            this._unbindFormResetHandler(),
            this.menuWrap.remove(),
            this.button.remove(),
            this.element.show(),
            this.element.removeUniqueId(),
            this.labels.attr("for", this.ids.element)
        }
    }]),
    A.widget("ui.slider", A.ui.mouse, {
        version: "1.12.1",
        widgetEventPrefix: "slide",
        options: {
            animate: !1,
            classes: {
                "ui-slider": "ui-corner-all",
                "ui-slider-handle": "ui-corner-all",
                "ui-slider-range": "ui-corner-all ui-widget-header"
            },
            distance: 0,
            max: 100,
            min: 0,
            orientation: "horizontal",
            range: !1,
            step: 1,
            value: 0,
            values: null,
            change: null,
            slide: null,
            start: null,
            stop: null
        },
        numPages: 5,
        _create: function() {
            this._keySliding = !1,
            this._mouseSliding = !1,
            this._animateOff = !0,
            this._handleIndex = null,
            this._detectOrientation(),
            this._mouseInit(),
            this._calculateNewMax(),
            this._addClass("ui-slider ui-slider-" + this.orientation, "ui-widget ui-widget-content"),
            this._refresh(),
            this._animateOff = !1
        },
        _refresh: function() {
            this._createRange(),
            this._createHandles(),
            this._setupEvents(),
            this._refreshValue()
        },
        _createHandles: function() {
            var e, i = this.options, o = this.element.find(".ui-slider-handle"), r = [], a = i.values && i.values.length || 1;
            if (o.length > a)
                o.slice(a).remove(),
                o = o.slice(0, a);
            for (e = o.length; e < a; e++)
                r.push("<span tabindex='0'></span>");
            this.handles = o.add(A(r.join("")).appendTo(this.element)),
            this._addClass(this.handles, "ui-slider-handle", "ui-state-default"),
            this.handle = this.handles.eq(0),
            this.handles.each(function(e) {
                A(this).data("ui-slider-handle-index", e).attr("tabIndex", 0)
            })
        },
        _createRange: function() {
            var e = this.options;
            if (e.range) {
                if (!0 === e.range)
                    if (!e.values)
                        e.values = [this._valueMin(), this._valueMin()];
                    else if (e.values.length && 2 !== e.values.length)
                        e.values = [e.values[0], e.values[0]];
                    else if (Array.isArray(e.values))
                        e.values = e.values.slice(0);
                if (!this.range || !this.range.length)
                    this.range = A("<div>").appendTo(this.element),
                    this._addClass(this.range, "ui-slider-range");
                else
                    this._removeClass(this.range, "ui-slider-range-min ui-slider-range-max"),
                    this.range.css({
                        left: "",
                        bottom: ""
                    });
                if ("min" === e.range || "max" === e.range)
                    this._addClass(this.range, "ui-slider-range-" + e.range)
            } else {
                if (this.range)
                    this.range.remove();
                this.range = null
            }
        },
        _setupEvents: function() {
            this._off(this.handles),
            this._on(this.handles, this._handleEvents),
            this._hoverable(this.handles),
            this._focusable(this.handles)
        },
        _destroy: function() {
            if (this.handles.remove(),
            this.range)
                this.range.remove();
            this._mouseDestroy()
        },
        _mouseCapture: function(e) {
            var o, r, a, l, i, u, c = this, d = this.options;
            if (d.disabled)
                return !1;
            if (this.elementSize = {
                width: this.element.outerWidth(),
                height: this.element.outerHeight()
            },
            this.elementOffset = this.element.offset(),
            i = {
                x: e.pageX,
                y: e.pageY
            },
            o = this._normValueFromMouse(i),
            r = this._valueMax() - this._valueMin() + 1,
            this.handles.each(function(e) {
                var i = Math.abs(o - c.values(e));
                if (i < r || r === i && (e === c._lastChangedValue || c.values(e) === d.min))
                    r = i,
                    a = A(this),
                    l = e
            }),
            !1 === this._start(e, l))
                return !1;
            if (this._mouseSliding = !0,
            this._handleIndex = l,
            this._addClass(a, null, "ui-state-active"),
            a.trigger("focus"),
            i = a.offset(),
            u = !A(e.target).parents().addBack().is(".ui-slider-handle"),
            this._clickOffset = u ? {
                left: 0,
                top: 0
            } : {
                left: e.pageX - i.left - a.width() / 2,
                top: e.pageY - i.top - a.height() / 2 - (parseInt(a.css("borderTopWidth"), 10) || 0) - (parseInt(a.css("borderBottomWidth"), 10) || 0) + (parseInt(a.css("marginTop"), 10) || 0)
            },
            !this.handles.hasClass("ui-state-hover"))
                this._slide(e, l, o);
            return this._animateOff = !0
        },
        _mouseStart: function() {
            return !0
        },
        _mouseDrag: function(e) {
            var i = {
                x: e.pageX,
                y: e.pageY
            }
              , i = this._normValueFromMouse(i);
            return this._slide(e, this._handleIndex, i),
            !1
        },
        _mouseStop: function(e) {
            return this._removeClass(this.handles, null, "ui-state-active"),
            this._mouseSliding = !1,
            this._stop(e, this._handleIndex),
            this._change(e, this._handleIndex),
            this._handleIndex = null,
            this._clickOffset = null,
            this._animateOff = !1
        },
        _detectOrientation: function() {
            this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal"
        },
        _normValueFromMouse: function(e) {
            var i, o;
            if ("horizontal" === this.orientation)
                o = this.elementSize.width,
                i = e.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0);
            else
                o = this.elementSize.height,
                i = e.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0);
            if (1 < (e = i / o))
                e = 1;
            if (e < 0)
                e = 0;
            if ("vertical" === this.orientation)
                e = 1 - e;
            return i = this._valueMax() - this._valueMin(),
            o = this._valueMin() + e * i,
            this._trimAlignValue(o)
        },
        _uiHash: function(e, i, o) {
            var r = {
                handle: this.handles[e],
                handleIndex: e,
                value: void 0 !== i ? i : this.value()
            };
            if (this._hasMultipleValues())
                r.value = void 0 !== i ? i : this.values(e),
                r.values = o || this.values();
            return r
        },
        _hasMultipleValues: function() {
            return this.options.values && this.options.values.length
        },
        _start: function(e, i) {
            return this._trigger("start", e, this._uiHash(i))
        },
        _slide: function(e, i, o) {
            var r, a = this.value(), l = this.values();
            if (this._hasMultipleValues()) {
                if (r = this.values(i ? 0 : 1),
                a = this.values(i),
                2 === this.options.values.length && !0 === this.options.range)
                    o = 0 === i ? Math.min(r, o) : Math.max(r, o);
                l[i] = o
            }
            if (o === a)
                ;
            else if (!1 === this._trigger("slide", e, this._uiHash(i, o, l)))
                ;
            else if (this._hasMultipleValues())
                this.values(i, o);
            else
                this.value(o)
        },
        _stop: function(e, i) {
            this._trigger("stop", e, this._uiHash(i))
        },
        _change: function(e, i) {
            if (!this._keySliding && !this._mouseSliding)
                this._lastChangedValue = i,
                this._trigger("change", e, this._uiHash(i))
        },
        value: function(e) {
            if (arguments.length)
                this.options.value = this._trimAlignValue(e),
                this._refreshValue(),
                this._change(null, 0);
            else
                return this._value()
        },
        values: function(e, i) {
            var o, r, a;
            if (1 < arguments.length)
                this.options.values[e] = this._trimAlignValue(i),
                this._refreshValue(),
                this._change(null, e);
            else if (arguments.length)
                if (Array.isArray(e)) {
                    for (o = this.options.values,
                    r = e,
                    a = 0; a < o.length; a += 1)
                        o[a] = this._trimAlignValue(r[a]),
                        this._change(null, a);
                    this._refreshValue()
                } else if (this._hasMultipleValues())
                    return this._values(e);
                else
                    return this.value();
            else
                return this._values()
        },
        _setOption: function(e, i) {
            var o, r = 0;
            if ("range" === e && !0 === this.options.range)
                if ("min" === i)
                    this.options.value = this._values(0),
                    this.options.values = null;
                else if ("max" === i)
                    this.options.value = this._values(this.options.values.length - 1),
                    this.options.values = null;
            if (Array.isArray(this.options.values))
                r = this.options.values.length;
            switch (this._super(e, i),
            e) {
            case "orientation":
                if (this._detectOrientation(),
                this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-" + this.orientation),
                this._refreshValue(),
                this.options.range)
                    this._refreshRange(i);
                this.handles.css("horizontal" === i ? "bottom" : "left", "");
                break;
            case "value":
                this._animateOff = !0,
                this._refreshValue(),
                this._change(null, 0),
                this._animateOff = !1;
                break;
            case "values":
                for (this._animateOff = !0,
                this._refreshValue(),
                o = r - 1; 0 <= o; o--)
                    this._change(null, o);
                this._animateOff = !1;
                break;
            case "step":
            case "min":
            case "max":
                this._animateOff = !0,
                this._calculateNewMax(),
                this._refreshValue(),
                this._animateOff = !1;
                break;
            case "range":
                this._animateOff = !0,
                this._refresh(),
                this._animateOff = !1
            }
        },
        _setOptionDisabled: function(e) {
            this._super(e),
            this._toggleClass(null, "ui-state-disabled", !!e)
        },
        _value: function() {
            var e = this.options.value;
            return this._trimAlignValue(e)
        },
        _values: function(e) {
            var i, o, r;
            if (arguments.length)
                return i = this.options.values[e],
                this._trimAlignValue(i);
            else if (this._hasMultipleValues()) {
                for (o = this.options.values.slice(),
                r = 0; r < o.length; r += 1)
                    o[r] = this._trimAlignValue(o[r]);
                return o
            } else
                return []
        },
        _trimAlignValue: function(e) {
            if (e <= this._valueMin())
                return this._valueMin();
            if (e >= this._valueMax())
                return this._valueMax();
            var i = 0 < this.options.step ? this.options.step : 1
              , o = (e - this._valueMin()) % i
              , e = e - o;
            if (2 * Math.abs(o) >= i)
                e += 0 < o ? i : -i;
            return parseFloat(e.toFixed(5))
        },
        _calculateNewMax: function() {
            var e = this.options.max
              , i = this._valueMin()
              , o = this.options.step;
            if ((e = Math.round((e - i) / o) * o + i) > this.options.max)
                e -= o;
            this.max = parseFloat(e.toFixed(this._precision()))
        },
        _precision: function() {
            var e = this._precisionOf(this.options.step);
            if (null !== this.options.min)
                e = Math.max(e, this._precisionOf(this.options.min));
            return e
        },
        _precisionOf: function(e) {
            var e = e.toString()
              , i = e.indexOf(".");
            return -1 === i ? 0 : e.length - i - 1
        },
        _valueMin: function() {
            return this.options.min
        },
        _valueMax: function() {
            return this.max
        },
        _refreshRange: function(e) {
            if ("vertical" === e)
                this.range.css({
                    width: "",
                    left: ""
                });
            if ("horizontal" === e)
                this.range.css({
                    height: "",
                    bottom: ""
                })
        },
        _refreshValue: function() {
            var i, o, e, r, a, l = this.options.range, u = this.options, c = this, d = !this._animateOff ? u.animate : !1, h = {};
            if (this._hasMultipleValues())
                this.handles.each(function(e) {
                    if (o = (c.values(e) - c._valueMin()) / (c._valueMax() - c._valueMin()) * 100,
                    h["horizontal" === c.orientation ? "left" : "bottom"] = o + "%",
                    A(this).stop(1, 1)[d ? "animate" : "css"](h, u.animate),
                    !0 === c.options.range)
                        if ("horizontal" === c.orientation) {
                            if (0 === e)
                                c.range.stop(1, 1)[d ? "animate" : "css"]({
                                    left: o + "%"
                                }, u.animate);
                            if (1 === e)
                                c.range[d ? "animate" : "css"]({
                                    width: o - i + "%"
                                }, {
                                    queue: !1,
                                    duration: u.animate
                                })
                        } else {
                            if (0 === e)
                                c.range.stop(1, 1)[d ? "animate" : "css"]({
                                    bottom: o + "%"
                                }, u.animate);
                            if (1 === e)
                                c.range[d ? "animate" : "css"]({
                                    height: o - i + "%"
                                }, {
                                    queue: !1,
                                    duration: u.animate
                                })
                        }
                    i = o
                });
            else {
                if (e = this.value(),
                r = this._valueMin(),
                a = this._valueMax(),
                o = a !== r ? (e - r) / (a - r) * 100 : 0,
                h["horizontal" === this.orientation ? "left" : "bottom"] = o + "%",
                this.handle.stop(1, 1)[d ? "animate" : "css"](h, u.animate),
                "min" === l && "horizontal" === this.orientation)
                    this.range.stop(1, 1)[d ? "animate" : "css"]({
                        width: o + "%"
                    }, u.animate);
                if ("max" === l && "horizontal" === this.orientation)
                    this.range.stop(1, 1)[d ? "animate" : "css"]({
                        width: 100 - o + "%"
                    }, u.animate);
                if ("min" === l && "vertical" === this.orientation)
                    this.range.stop(1, 1)[d ? "animate" : "css"]({
                        height: o + "%"
                    }, u.animate);
                if ("max" === l && "vertical" === this.orientation)
                    this.range.stop(1, 1)[d ? "animate" : "css"]({
                        height: 100 - o + "%"
                    }, u.animate)
            }
        },
        _handleEvents: {
            keydown: function(e) {
                var i, o, r, a = A(e.target).data("ui-slider-handle-index");
                switch (e.keyCode) {
                case A.ui.keyCode.HOME:
                case A.ui.keyCode.END:
                case A.ui.keyCode.PAGE_UP:
                case A.ui.keyCode.PAGE_DOWN:
                case A.ui.keyCode.UP:
                case A.ui.keyCode.RIGHT:
                case A.ui.keyCode.DOWN:
                case A.ui.keyCode.LEFT:
                    if (e.preventDefault(),
                    !this._keySliding)
                        if (this._keySliding = !0,
                        this._addClass(A(e.target), null, "ui-state-active"),
                        !1 === this._start(e, a))
                            return
                }
                if (r = this.options.step,
                this._hasMultipleValues())
                    i = o = this.values(a);
                else
                    i = o = this.value();
                switch (e.keyCode) {
                case A.ui.keyCode.HOME:
                    o = this._valueMin();
                    break;
                case A.ui.keyCode.END:
                    o = this._valueMax();
                    break;
                case A.ui.keyCode.PAGE_UP:
                    o = this._trimAlignValue(i + (this._valueMax() - this._valueMin()) / this.numPages);
                    break;
                case A.ui.keyCode.PAGE_DOWN:
                    o = this._trimAlignValue(i - (this._valueMax() - this._valueMin()) / this.numPages);
                    break;
                case A.ui.keyCode.UP:
                case A.ui.keyCode.RIGHT:
                    if (i === this._valueMax())
                        return;
                    o = this._trimAlignValue(i + r);
                    break;
                case A.ui.keyCode.DOWN:
                case A.ui.keyCode.LEFT:
                    if (i === this._valueMin())
                        return;
                    o = this._trimAlignValue(i - r)
                }
                this._slide(e, a, o)
            },
            keyup: function(e) {
                var i = A(e.target).data("ui-slider-handle-index");
                if (this._keySliding)
                    this._keySliding = !1,
                    this._stop(e, i),
                    this._change(e, i),
                    this._removeClass(A(e.target), null, "ui-state-active")
            }
        }
    }),
    A.widget("ui.sortable", A.ui.mouse, {
        version: "1.12.1",
        widgetEventPrefix: "sort",
        ready: !1,
        options: {
            appendTo: "parent",
            axis: !1,
            connectWith: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            dropOnEmpty: !0,
            forcePlaceholderSize: !1,
            forceHelperSize: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            items: "> *",
            opacity: !1,
            placeholder: !1,
            revert: !1,
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            scope: "default",
            tolerance: "intersect",
            zIndex: 1e3,
            activate: null,
            beforeStop: null,
            change: null,
            deactivate: null,
            out: null,
            over: null,
            receive: null,
            remove: null,
            sort: null,
            start: null,
            stop: null,
            update: null
        },
        _isOverAxis: function(e, i, o) {
            return i <= e && e < i + o
        },
        _isFloating: function(e) {
            return /left|right/.test(e.css("float")) || /inline|table-cell/.test(e.css("display"))
        },
        _create: function() {
            this.containerCache = {},
            this._addClass("ui-sortable"),
            this.refresh(),
            this.offset = this.element.offset(),
            this._mouseInit(),
            this._setHandleClassName(),
            this.ready = !0
        },
        _setOption: function(e, i) {
            if (this._super(e, i),
            "handle" === e)
                this._setHandleClassName()
        },
        _setHandleClassName: function() {
            var e = this;
            this._removeClass(this.element.find(".ui-sortable-handle"), "ui-sortable-handle"),
            A.each(this.items, function() {
                e._addClass(this.instance.options.handle ? this.item.find(this.instance.options.handle) : this.item, "ui-sortable-handle")
            })
        },
        _destroy: function() {
            this._mouseDestroy();
            for (var e = this.items.length - 1; 0 <= e; e--)
                this.items[e].item.removeData(this.widgetName + "-item");
            return this
        },
        _mouseCapture: function(e, i) {
            var o = null
              , r = !1
              , a = this;
            if (this.reverting)
                return !1;
            if (this.options.disabled || "static" === this.options.type)
                return !1;
            if (this._refreshItems(e),
            A(e.target).parents().each(function() {
                if (A.data(this, a.widgetName + "-item") === a)
                    return o = A(this),
                    !1
            }),
            A.data(e.target, a.widgetName + "-item") === a)
                o = A(e.target);
            if (!o)
                return !1;
            if (this.options.handle && !i)
                if (A(this.options.handle, o).find("*").addBack().each(function() {
                    if (this === e.target)
                        r = !0
                }),
                !r)
                    return !1;
            return this.currentItem = o,
            this._removeCurrentsFromItems(),
            !0
        },
        _mouseStart: function(e, i, o) {
            var r, a, l = this.options;
            if ((this.currentContainer = this).refreshPositions(),
            this.helper = this._createHelper(e),
            this._cacheHelperProportions(),
            this._cacheMargins(),
            this.scrollParent = this.helper.scrollParent(),
            this.offset = this.currentItem.offset(),
            this.offset = {
                top: this.offset.top - this.margins.top,
                left: this.offset.left - this.margins.left
            },
            A.extend(this.offset, {
                click: {
                    left: e.pageX - this.offset.left,
                    top: e.pageY - this.offset.top
                },
                parent: this._getParentOffset(),
                relative: this._getRelativeOffset()
            }),
            this.helper.css("position", "absolute"),
            this.cssPosition = this.helper.css("position"),
            this.originalPosition = this._generatePosition(e),
            this.originalPageX = e.pageX,
            this.originalPageY = e.pageY,
            l.cursorAt && this._adjustOffsetFromHelper(l.cursorAt),
            this.domPosition = {
                prev: this.currentItem.prev()[0],
                parent: this.currentItem.parent()[0]
            },
            this.helper[0] !== this.currentItem[0])
                this.currentItem.hide();
            if (this._createPlaceholder(),
            l.containment)
                this._setContainment();
            if (l.cursor && "auto" !== l.cursor)
                a = this.document.find("body"),
                this.storedCursor = a.css("cursor"),
                a.css("cursor", l.cursor),
                this.storedStylesheet = A("<style>*{ cursor: " + l.cursor + " !important; }</style>").appendTo(a);
            if (l.opacity) {
                if (this.helper.css("opacity"))
                    this._storedOpacity = this.helper.css("opacity");
                this.helper.css("opacity", l.opacity)
            }
            if (l.zIndex) {
                if (this.helper.css("zIndex"))
                    this._storedZIndex = this.helper.css("zIndex");
                this.helper.css("zIndex", l.zIndex)
            }
            if (this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName)
                this.overflowOffset = this.scrollParent.offset();
            if (this._trigger("start", e, this._uiHash()),
            !this._preserveHelperProportions)
                this._cacheHelperProportions();
            if (!o)
                for (r = this.containers.length - 1; 0 <= r; r--)
                    this.containers[r]._trigger("activate", e, this._uiHash(this));
            if (A.ui.ddmanager)
                A.ui.ddmanager.current = this;
            if (A.ui.ddmanager && !l.dropBehaviour)
                A.ui.ddmanager.prepareOffsets(this, e);
            return this.dragging = !0,
            this._addClass(this.helper, "ui-sortable-helper"),
            this._mouseDrag(e),
            !0
        },
        _mouseDrag: function(e) {
            var i, o, r, a, l = this.options, u = !1;
            if (this.position = this._generatePosition(e),
            this.positionAbs = this._convertPositionTo("absolute"),
            !this.lastPositionAbs)
                this.lastPositionAbs = this.positionAbs;
            if (this.options.scroll) {
                if (this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName) {
                    if (this.overflowOffset.top + this.scrollParent[0].offsetHeight - e.pageY < l.scrollSensitivity)
                        this.scrollParent[0].scrollTop = u = this.scrollParent[0].scrollTop + l.scrollSpeed;
                    else if (e.pageY - this.overflowOffset.top < l.scrollSensitivity)
                        this.scrollParent[0].scrollTop = u = this.scrollParent[0].scrollTop - l.scrollSpeed;
                    if (this.overflowOffset.left + this.scrollParent[0].offsetWidth - e.pageX < l.scrollSensitivity)
                        this.scrollParent[0].scrollLeft = u = this.scrollParent[0].scrollLeft + l.scrollSpeed;
                    else if (e.pageX - this.overflowOffset.left < l.scrollSensitivity)
                        this.scrollParent[0].scrollLeft = u = this.scrollParent[0].scrollLeft - l.scrollSpeed
                } else {
                    if (e.pageY - this.document.scrollTop() < l.scrollSensitivity)
                        u = this.document.scrollTop(this.document.scrollTop() - l.scrollSpeed);
                    else if (this.window.height() - (e.pageY - this.document.scrollTop()) < l.scrollSensitivity)
                        u = this.document.scrollTop(this.document.scrollTop() + l.scrollSpeed);
                    if (e.pageX - this.document.scrollLeft() < l.scrollSensitivity)
                        u = this.document.scrollLeft(this.document.scrollLeft() - l.scrollSpeed);
                    else if (this.window.width() - (e.pageX - this.document.scrollLeft()) < l.scrollSensitivity)
                        u = this.document.scrollLeft(this.document.scrollLeft() + l.scrollSpeed)
                }
                if (!1 !== u && A.ui.ddmanager && !l.dropBehaviour)
                    A.ui.ddmanager.prepareOffsets(this, e)
            }
            if (this.positionAbs = this._convertPositionTo("absolute"),
            !this.options.axis || "y" !== this.options.axis)
                this.helper[0].style.left = this.position.left + "px";
            if (!this.options.axis || "x" !== this.options.axis)
                this.helper[0].style.top = this.position.top + "px";
            for (i = this.items.length - 1; 0 <= i; i--)
                if (r = (o = this.items[i]).item[0],
                !(a = this._intersectsWithPointer(o)))
                    ;
                else if (o.instance !== this.currentContainer)
                    ;
                else if (r !== this.currentItem[0] && this.placeholder[1 === a ? "next" : "prev"]()[0] !== r && !A.contains(this.placeholder[0], r) && ("semi-dynamic" === this.options.type ? !A.contains(this.element[0], r) : 1)) {
                    if (this.direction = 1 === a ? "down" : "up",
                    "pointer" === this.options.tolerance || this._intersectsWithSides(o))
                        this._rearrange(e, o);
                    else
                        break;
                    this._trigger("change", e, this._uiHash());
                    break
                }
            if (this._contactContainers(e),
            A.ui.ddmanager)
                A.ui.ddmanager.drag(this, e);
            return this._trigger("sort", e, this._uiHash()),
            this.lastPositionAbs = this.positionAbs,
            !1
        },
        _mouseStop: function(e, i) {
            if (!e)
                ;
            else {
                if (A.ui.ddmanager && !this.options.dropBehaviour)
                    A.ui.ddmanager.drop(this, e);
                if (this.options.revert) {
                    var o = this
                      , r = this.placeholder.offset()
                      , a = this.options.axis
                      , l = {};
                    if (!a || "x" === a)
                        l.left = r.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollLeft);
                    if (!a || "y" === a)
                        l.top = r.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollTop);
                    this.reverting = !0,
                    A(this.helper).animate(l, parseInt(this.options.revert, 10) || 500, function() {
                        o._clear(e)
                    })
                } else
                    this._clear(e, i);
                return !1
            }
        },
        cancel: function() {
            if (this.dragging) {
                if (this._mouseUp(new A.Event("mouseup",{
                    target: null
                })),
                "original" === this.options.helper)
                    this.currentItem.css(this._storedCSS),
                    this._removeClass(this.currentItem, "ui-sortable-helper");
                else
                    this.currentItem.show();
                for (var e = this.containers.length - 1; 0 <= e; e--)
                    if (this.containers[e]._trigger("deactivate", null, this._uiHash(this)),
                    this.containers[e].containerCache.over)
                        this.containers[e]._trigger("out", null, this._uiHash(this)),
                        this.containers[e].containerCache.over = 0
            }
            if (this.placeholder) {
                if (this.placeholder[0].parentNode)
                    this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
                if ("original" !== this.options.helper && this.helper && this.helper[0].parentNode)
                    this.helper.remove();
                if (A.extend(this, {
                    helper: null,
                    dragging: !1,
                    reverting: !1,
                    _noFinalSort: null
                }),
                this.domPosition.prev)
                    A(this.domPosition.prev).after(this.currentItem);
                else
                    A(this.domPosition.parent).prepend(this.currentItem)
            }
            return this
        },
        serialize: function(i) {
            var e = this._getItemsAsjQuery(i && i.connected)
              , o = [];
            if (i = i || {},
            A(e).each(function() {
                var e = (A(i.item || this).attr(i.attribute || "id") || "").match(i.expression || /(.+)[\-=_](.+)/);
                if (e)
                    o.push((i.key || e[1] + "[]") + "=" + (i.key && i.expression ? e[1] : e[2]))
            }),
            !o.length && i.key)
                o.push(i.key + "=");
            return o.join("&")
        },
        toArray: function(e) {
            var i = this._getItemsAsjQuery(e && e.connected)
              , o = [];
            return e = e || {},
            i.each(function() {
                o.push(A(e.item || this).attr(e.attribute || "id") || "")
            }),
            o
        },
        _intersectsWith: function(e) {
            var i = this.positionAbs.left
              , o = i + this.helperProportions.width
              , r = this.positionAbs.top
              , a = r + this.helperProportions.height
              , l = e.left
              , u = l + e.width
              , t = e.top
              , c = t + e.height
              , d = this.offset.click.top
              , h = this.offset.click.left
              , d = "x" === this.options.axis || t < r + d && r + d < c
              , h = "y" === this.options.axis || l < i + h && i + h < u;
            if ("pointer" === this.options.tolerance || this.options.forcePointerForContainers || "pointer" !== this.options.tolerance && this.helperProportions[this.floating ? "width" : "height"] > e[this.floating ? "width" : "height"])
                return d && h;
            else
                return l < i + this.helperProportions.width / 2 && o - this.helperProportions.width / 2 < u && t < r + this.helperProportions.height / 2 && a - this.helperProportions.height / 2 < c
        },
        _intersectsWithPointer: function(e) {
            var i = "x" === this.options.axis || this._isOverAxis(this.positionAbs.top + this.offset.click.top, e.top, e.height)
              , e = "y" === this.options.axis || this._isOverAxis(this.positionAbs.left + this.offset.click.left, e.left, e.width);
            if (i && e)
                return i = this._getDragVerticalDirection(),
                e = this._getDragHorizontalDirection(),
                this.floating ? "right" === e || "down" === i ? 2 : 1 : i && ("down" === i ? 2 : 1);
            else
                return !1
        },
        _intersectsWithSides: function(e) {
            var i = this._isOverAxis(this.positionAbs.top + this.offset.click.top, e.top + e.height / 2, e.height)
              , e = this._isOverAxis(this.positionAbs.left + this.offset.click.left, e.left + e.width / 2, e.width)
              , o = this._getDragVerticalDirection()
              , r = this._getDragHorizontalDirection();
            if (this.floating && r)
                return "right" === r && e || "left" === r && !e;
            else
                return o && ("down" === o && i || "up" === o && !i)
        },
        _getDragVerticalDirection: function() {
            var e = this.positionAbs.top - this.lastPositionAbs.top;
            return 0 != e && (0 < e ? "down" : "up")
        },
        _getDragHorizontalDirection: function() {
            var e = this.positionAbs.left - this.lastPositionAbs.left;
            return 0 != e && (0 < e ? "right" : "left")
        },
        refresh: function(e) {
            return this._refreshItems(e),
            this._setHandleClassName(),
            this.refreshPositions(),
            this
        },
        _connectWith: function() {
            var e = this.options;
            return e.connectWith.constructor === String ? [e.connectWith] : e.connectWith
        },
        _getItemsAsjQuery: function(e) {
            var i, o, r, a, l = [], u = [], c = this._connectWith();
            if (c && e)
                for (i = c.length - 1; 0 <= i; i--)
                    for (o = (r = A(c[i], this.document[0])).length - 1; 0 <= o; o--)
                        if ((a = A.data(r[o], this.widgetFullName)) && a !== this && !a.options.disabled)
                            u.push(["function" == typeof a.options.items ? a.options.items.call(a.element) : A(a.options.items, a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), a]);
            function d() {
                l.push(this)
            }
            for (u.push(["function" == typeof this.options.items ? this.options.items.call(this.element, null, {
                options: this.options,
                item: this.currentItem
            }) : A(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]),
            i = u.length - 1; 0 <= i; i--)
                u[i][0].each(d);
            return A(l)
        },
        _removeCurrentsFromItems: function() {
            var o = this.currentItem.find(":data(" + this.widgetName + "-item)");
            this.items = A.grep(this.items, function(e) {
                for (var i = 0; i < o.length; i++)
                    if (o[i] === e.item[0])
                        return !1;
                return !0
            })
        },
        _refreshItems: function(e) {
            this.items = [],
            this.containers = [this];
            var i, o, r, a, l, u, c, d, h = this.items, p = [["function" == typeof this.options.items ? this.options.items.call(this.element[0], e, {
                item: this.currentItem
            }) : A(this.options.items, this.element), this]], f = this._connectWith();
            if (f && this.ready)
                for (i = f.length - 1; 0 <= i; i--)
                    for (o = (r = A(f[i], this.document[0])).length - 1; 0 <= o; o--)
                        if ((a = A.data(r[o], this.widgetFullName)) && a !== this && !a.options.disabled)
                            p.push(["function" == typeof a.options.items ? a.options.items.call(a.element[0], e, {
                                item: this.currentItem
                            }) : A(a.options.items, a.element), a]),
                            this.containers.push(a);
            for (i = p.length - 1; 0 <= i; i--)
                for (l = p[i][1],
                d = (u = p[i][o = 0]).length; o < d; o++)
                    (c = A(u[o])).data(this.widgetName + "-item", l),
                    h.push({
                        item: c,
                        instance: l,
                        width: 0,
                        height: 0,
                        left: 0,
                        top: 0
                    })
        },
        refreshPositions: function(e) {
            if (this.floating = this.items.length ? "x" === this.options.axis || this._isFloating(this.items[0].item) : !1,
            this.offsetParent && this.helper)
                this.offset.parent = this._getParentOffset();
            for (var i, t, o, r = this.items.length - 1; 0 <= r; r--)
                if ((i = this.items[r]).instance !== this.currentContainer && this.currentContainer && i.item[0] !== this.currentItem[0])
                    ;
                else {
                    if (t = this.options.toleranceElement ? A(this.options.toleranceElement, i.item) : i.item,
                    !e)
                        i.width = t.outerWidth(),
                        i.height = t.outerHeight();
                    o = t.offset(),
                    i.left = o.left,
                    i.top = o.top
                }
            if (this.options.custom && this.options.custom.refreshContainers)
                this.options.custom.refreshContainers.call(this);
            else
                for (r = this.containers.length - 1; 0 <= r; r--)
                    o = this.containers[r].element.offset(),
                    this.containers[r].containerCache.left = o.left,
                    this.containers[r].containerCache.top = o.top,
                    this.containers[r].containerCache.width = this.containers[r].element.outerWidth(),
                    this.containers[r].containerCache.height = this.containers[r].element.outerHeight();
            return this
        },
        _createPlaceholder: function(o) {
            var r, a = (o = o || this).options;
            if (!a.placeholder || a.placeholder.constructor === String)
                r = a.placeholder,
                a.placeholder = {
                    element: function() {
                        var e = o.currentItem[0].nodeName.toLowerCase()
                          , i = A("<" + e + ">", o.document[0]);
                        if (o._addClass(i, "ui-sortable-placeholder", r || o.currentItem[0].className)._removeClass(i, "ui-sortable-helper"),
                        "tbody" === e)
                            o._createTrPlaceholder(o.currentItem.find("tr").eq(0), A("<tr>", o.document[0]).appendTo(i));
                        else if ("tr" === e)
                            o._createTrPlaceholder(o.currentItem, i);
                        else if ("img" === e)
                            i.attr("src", o.currentItem.attr("src"));
                        if (!r)
                            i.css("visibility", "hidden");
                        return i
                    },
                    update: function(e, i) {
                        if (r && !a.forcePlaceholderSize)
                            ;
                        else {
                            if (!i.height())
                                i.height(o.currentItem.innerHeight() - parseInt(o.currentItem.css("paddingTop") || 0, 10) - parseInt(o.currentItem.css("paddingBottom") || 0, 10));
                            if (!i.width())
                                i.width(o.currentItem.innerWidth() - parseInt(o.currentItem.css("paddingLeft") || 0, 10) - parseInt(o.currentItem.css("paddingRight") || 0, 10))
                        }
                    }
                };
            o.placeholder = A(a.placeholder.element.call(o.element, o.currentItem)),
            o.currentItem.after(o.placeholder),
            a.placeholder.update(o, o.placeholder)
        },
        _createTrPlaceholder: function(e, i) {
            var o = this;
            e.children().each(function() {
                A("<td>&#160;</td>", o.document[0]).attr("colspan", A(this).attr("colspan") || 1).appendTo(i)
            })
        },
        _contactContainers: function(e) {
            for (var i, o, r, a, l, u, c, d, h, p = null, f = null, g = this.containers.length - 1; 0 <= g; g--)
                if (A.contains(this.currentItem[0], this.containers[g].element[0]))
                    ;
                else if (this._intersectsWith(this.containers[g].containerCache))
                    if (p && A.contains(this.containers[g].element[0], p.element[0]))
                        ;
                    else
                        p = this.containers[g],
                        f = g;
                else if (this.containers[g].containerCache.over)
                    this.containers[g]._trigger("out", e, this._uiHash(this)),
                    this.containers[g].containerCache.over = 0;
            if (!p)
                ;
            else if (1 === this.containers.length) {
                if (!this.containers[f].containerCache.over)
                    this.containers[f]._trigger("over", e, this._uiHash(this)),
                    this.containers[f].containerCache.over = 1
            } else {
                for (o = 1e4,
                r = null,
                a = (d = p.floating || this._isFloating(this.currentItem)) ? "left" : "top",
                l = d ? "width" : "height",
                h = d ? "pageX" : "pageY",
                i = this.items.length - 1; 0 <= i; i--)
                    if (!A.contains(this.containers[f].element[0], this.items[i].item[0]))
                        ;
                    else if (this.items[i].item[0] === this.currentItem[0])
                        ;
                    else {
                        if (u = this.items[i].item.offset()[a],
                        c = !1,
                        e[h] - u > this.items[i][l] / 2)
                            c = !0;
                        if (Math.abs(e[h] - u) < o)
                            o = Math.abs(e[h] - u),
                            r = this.items[i],
                            this.direction = c ? "up" : "down"
                    }
                if (!r && !this.options.dropOnEmpty)
                    ;
                else if (this.currentContainer === this.containers[f]) {
                    if (!this.currentContainer.containerCache.over)
                        this.containers[f]._trigger("over", e, this._uiHash()),
                        this.currentContainer.containerCache.over = 1
                } else
                    r ? this._rearrange(e, r, null, !0) : this._rearrange(e, null, this.containers[f].element, !0),
                    this._trigger("change", e, this._uiHash()),
                    this.containers[f]._trigger("change", e, this._uiHash(this)),
                    this.currentContainer = this.containers[f],
                    this.options.placeholder.update(this.currentContainer, this.placeholder),
                    this.containers[f]._trigger("over", e, this._uiHash(this)),
                    this.containers[f].containerCache.over = 1
            }
        },
        _createHelper: function(e) {
            var i = this.options
              , e = "function" == typeof i.helper ? A(i.helper.apply(this.element[0], [e, this.currentItem])) : "clone" === i.helper ? this.currentItem.clone() : this.currentItem;
            if (!e.parents("body").length)
                A("parent" !== i.appendTo ? i.appendTo : this.currentItem[0].parentNode)[0].appendChild(e[0]);
            if (e[0] === this.currentItem[0])
                this._storedCSS = {
                    width: this.currentItem[0].style.width,
                    height: this.currentItem[0].style.height,
                    position: this.currentItem.css("position"),
                    top: this.currentItem.css("top"),
                    left: this.currentItem.css("left")
                };
            if (!e[0].style.width || i.forceHelperSize)
                e.width(this.currentItem.width());
            if (!e[0].style.height || i.forceHelperSize)
                e.height(this.currentItem.height());
            return e
        },
        _adjustOffsetFromHelper: function(e) {
            if ("string" == typeof e)
                e = e.split(" ");
            if (Array.isArray(e))
                e = {
                    left: +e[0],
                    top: +e[1] || 0
                };
            if ("left"in e)
                this.offset.click.left = e.left + this.margins.left;
            if ("right"in e)
                this.offset.click.left = this.helperProportions.width - e.right + this.margins.left;
            if ("top"in e)
                this.offset.click.top = e.top + this.margins.top;
            if ("bottom"in e)
                this.offset.click.top = this.helperProportions.height - e.bottom + this.margins.top
        },
        _getParentOffset: function() {
            this.offsetParent = this.helper.offsetParent();
            var e = this.offsetParent.offset();
            if ("absolute" === this.cssPosition && this.scrollParent[0] !== this.document[0] && A.contains(this.scrollParent[0], this.offsetParent[0]))
                e.left += this.scrollParent.scrollLeft(),
                e.top += this.scrollParent.scrollTop();
            if (this.offsetParent[0] === this.document[0].body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && A.ui.ie)
                e = {
                    top: 0,
                    left: 0
                };
            return {
                top: e.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: e.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function() {
            if ("relative" === this.cssPosition) {
                var e = this.currentItem.position();
                return {
                    top: e.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                    left: e.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                }
            } else
                return {
                    top: 0,
                    left: 0
                }
        },
        _cacheMargins: function() {
            this.margins = {
                left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
                top: parseInt(this.currentItem.css("marginTop"), 10) || 0
            }
        },
        _cacheHelperProportions: function() {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function() {
            var e, i, o = this.options;
            if ("parent" === o.containment)
                o.containment = this.helper[0].parentNode;
            if ("document" === o.containment || "window" === o.containment)
                this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, "document" === o.containment ? this.document.width() : this.window.width() - this.helperProportions.width - this.margins.left, ("document" === o.containment ? this.document.height() || document.body.parentNode.scrollHeight : this.window.height() || this.document[0].body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top];
            if (!/^(document|window|parent)$/.test(o.containment))
                e = A(o.containment)[0],
                o = A(o.containment).offset(),
                i = "hidden" !== A(e).css("overflow"),
                this.containment = [o.left + (parseInt(A(e).css("borderLeftWidth"), 10) || 0) + (parseInt(A(e).css("paddingLeft"), 10) || 0) - this.margins.left, o.top + (parseInt(A(e).css("borderTopWidth"), 10) || 0) + (parseInt(A(e).css("paddingTop"), 10) || 0) - this.margins.top, o.left + (i ? Math.max(e.scrollWidth, e.offsetWidth) : e.offsetWidth) - (parseInt(A(e).css("borderLeftWidth"), 10) || 0) - (parseInt(A(e).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, o.top + (i ? Math.max(e.scrollHeight, e.offsetHeight) : e.offsetHeight) - (parseInt(A(e).css("borderTopWidth"), 10) || 0) - (parseInt(A(e).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top]
        },
        _convertPositionTo: function(e, i) {
            if (!i)
                i = this.position;
            var e = "absolute" === e ? 1 : -1
              , o = "absolute" === this.cssPosition && (this.scrollParent[0] === this.document[0] || !A.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent
              , r = /(html|body)/i.test(o[0].tagName);
            return {
                top: i.top + this.offset.relative.top * e + this.offset.parent.top * e - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : r ? 0 : o.scrollTop()) * e,
                left: i.left + this.offset.relative.left * e + this.offset.parent.left * e - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : r ? 0 : o.scrollLeft()) * e
            }
        },
        _generatePosition: function(e) {
            var i = this.options
              , o = e.pageX
              , r = e.pageY
              , a = "absolute" === this.cssPosition && (this.scrollParent[0] === this.document[0] || !A.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent
              , l = /(html|body)/i.test(a[0].tagName);
            if ("relative" === this.cssPosition && (this.scrollParent[0] === this.document[0] || this.scrollParent[0] === this.offsetParent[0]))
                this.offset.relative = this._getRelativeOffset();
            if (this.originalPosition) {
                if (this.containment) {
                    if (e.pageX - this.offset.click.left < this.containment[0])
                        o = this.containment[0] + this.offset.click.left;
                    if (e.pageY - this.offset.click.top < this.containment[1])
                        r = this.containment[1] + this.offset.click.top;
                    if (e.pageX - this.offset.click.left > this.containment[2])
                        o = this.containment[2] + this.offset.click.left;
                    if (e.pageY - this.offset.click.top > this.containment[3])
                        r = this.containment[3] + this.offset.click.top
                }
                if (i.grid)
                    e = this.originalPageY + Math.round((r - this.originalPageY) / i.grid[1]) * i.grid[1],
                    r = this.containment ? e - this.offset.click.top >= this.containment[1] && e - this.offset.click.top <= this.containment[3] ? e : e - this.offset.click.top >= this.containment[1] ? e - i.grid[1] : e + i.grid[1] : e,
                    e = this.originalPageX + Math.round((o - this.originalPageX) / i.grid[0]) * i.grid[0],
                    o = this.containment ? e - this.offset.click.left >= this.containment[0] && e - this.offset.click.left <= this.containment[2] ? e : e - this.offset.click.left >= this.containment[0] ? e - i.grid[0] : e + i.grid[0] : e
            }
            return {
                top: r - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : l ? 0 : a.scrollTop()),
                left: o - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : l ? 0 : a.scrollLeft())
            }
        },
        _rearrange: function(e, i, o, r) {
            o ? o[0].appendChild(this.placeholder[0]) : i.item[0].parentNode.insertBefore(this.placeholder[0], "down" === this.direction ? i.item[0] : i.item[0].nextSibling),
            this.counter = this.counter ? ++this.counter : 1;
            var a = this.counter;
            this._delay(function() {
                if (a === this.counter)
                    this.refreshPositions(!r)
            })
        },
        _clear: function(e, i) {
            this.reverting = !1;
            var o, r = [];
            if (!this._noFinalSort && this.currentItem.parent().length)
                this.placeholder.before(this.currentItem);
            if (this._noFinalSort = null,
            this.helper[0] === this.currentItem[0]) {
                for (o in this._storedCSS)
                    if ("auto" === this._storedCSS[o] || "static" === this._storedCSS[o])
                        this._storedCSS[o] = "";
                this.currentItem.css(this._storedCSS),
                this._removeClass(this.currentItem, "ui-sortable-helper")
            } else
                this.currentItem.show();
            if (this.fromOutside && !i)
                r.push(function(e) {
                    this._trigger("receive", e, this._uiHash(this.fromOutside))
                });
            if ((this.fromOutside || this.domPosition.prev !== this.currentItem.prev().not(".ui-sortable-helper")[0] || this.domPosition.parent !== this.currentItem.parent()[0]) && !i)
                r.push(function(e) {
                    this._trigger("update", e, this._uiHash())
                });
            if (this !== this.currentContainer)
                if (!i)
                    r.push(function(e) {
                        this._trigger("remove", e, this._uiHash())
                    }),
                    r.push(function(i) {
                        return function(e) {
                            i._trigger("receive", e, this._uiHash(this))
                        }
                    }
                    .call(this, this.currentContainer)),
                    r.push(function(i) {
                        return function(e) {
                            i._trigger("update", e, this._uiHash(this))
                        }
                    }
                    .call(this, this.currentContainer));
            function a(i, o, r) {
                return function(e) {
                    r._trigger(i, e, o._uiHash(o))
                }
            }
            for (o = this.containers.length - 1; 0 <= o; o--) {
                if (!i)
                    r.push(a("deactivate", this, this.containers[o]));
                if (this.containers[o].containerCache.over)
                    r.push(a("out", this, this.containers[o])),
                    this.containers[o].containerCache.over = 0
            }
            if (this.storedCursor)
                this.document.find("body").css("cursor", this.storedCursor),
                this.storedStylesheet.remove();
            if (this._storedOpacity)
                this.helper.css("opacity", this._storedOpacity);
            if (this._storedZIndex)
                this.helper.css("zIndex", "auto" === this._storedZIndex ? "" : this._storedZIndex);
            if (this.dragging = !1,
            !i)
                this._trigger("beforeStop", e, this._uiHash());
            if (this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
            !this.cancelHelperRemoval) {
                if (this.helper[0] !== this.currentItem[0])
                    this.helper.remove();
                this.helper = null
            }
            if (!i) {
                for (o = 0; o < r.length; o++)
                    r[o].call(this, e);
                this._trigger("stop", e, this._uiHash())
            }
            return this.fromOutside = !1,
            !this.cancelHelperRemoval
        },
        _trigger: function() {
            if (!1 === A.Widget.prototype._trigger.apply(this, arguments))
                this.cancel()
        },
        _uiHash: function(e) {
            var i = e || this;
            return {
                helper: i.helper,
                placeholder: i.placeholder || A([]),
                position: i.position,
                originalPosition: i.originalPosition,
                offset: i.positionAbs,
                item: i.currentItem,
                sender: e ? e.element : null
            }
        }
    });
    function L(i) {
        return function() {
            var e = this.element.val();
            if (i.apply(this, arguments),
            this._refresh(),
            e !== this.element.val())
                this._trigger("change")
        }
    }
    if (A.widget("ui.spinner", {
        version: "1.12.1",
        defaultElement: "<input>",
        widgetEventPrefix: "spin",
        options: {
            classes: {
                "ui-spinner": "ui-corner-all",
                "ui-spinner-down": "ui-corner-br",
                "ui-spinner-up": "ui-corner-tr"
            },
            culture: null,
            icons: {
                down: "ui-icon-triangle-1-s",
                up: "ui-icon-triangle-1-n"
            },
            incremental: !0,
            max: null,
            min: null,
            numberFormat: null,
            page: 10,
            step: 1,
            change: null,
            spin: null,
            start: null,
            stop: null
        },
        _create: function() {
            if (this._setOption("max", this.options.max),
            this._setOption("min", this.options.min),
            this._setOption("step", this.options.step),
            "" !== this.value())
                this._value(this.element.val(), !0);
            this._draw(),
            this._on(this._events),
            this._refresh(),
            this._on(this.window, {
                beforeunload: function() {
                    this.element.removeAttr("autocomplete")
                }
            })
        },
        _getCreateOptions: function() {
            var r = this._super()
              , a = this.element;
            return A.each(["min", "max", "step"], function(e, i) {
                var o = a.attr(i);
                if (null != o && o.length)
                    r[i] = o
            }),
            r
        },
        _events: {
            keydown: function(e) {
                if (this._start(e) && this._keydown(e))
                    e.preventDefault()
            },
            keyup: "_stop",
            focus: function() {
                this.previous = this.element.val()
            },
            blur: function(e) {
                if (this.cancelBlur)
                    delete this.cancelBlur;
                else if (this._stop(),
                this._refresh(),
                this.previous !== this.element.val())
                    this._trigger("change", e)
            },
            mousewheel: function(e, i) {
                if (!i)
                    ;
                else {
                    if (!this.spinning && !this._start(e))
                        return !1;
                    this._spin((0 < i ? 1 : -1) * this.options.step, e),
                    clearTimeout(this.mousewheelTimer),
                    this.mousewheelTimer = this._delay(function() {
                        if (this.spinning)
                            this._stop(e)
                    }, 100),
                    e.preventDefault()
                }
            },
            "mousedown .ui-spinner-button": function(e) {
                var i;
                function o() {
                    if (!(this.element[0] === A.ui.safeActiveElement(this.document[0])))
                        this.element.trigger("focus"),
                        this.previous = i,
                        this._delay(function() {
                            this.previous = i
                        })
                }
                if (i = this.element[0] === A.ui.safeActiveElement(this.document[0]) ? this.previous : this.element.val(),
                e.preventDefault(),
                o.call(this),
                this.cancelBlur = !0,
                this._delay(function() {
                    delete this.cancelBlur,
                    o.call(this)
                }),
                !1 === this._start(e))
                    ;
                else
                    this._repeat(null, A(e.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, e)
            },
            "mouseup .ui-spinner-button": "_stop",
            "mouseenter .ui-spinner-button": function(e) {
                if (!A(e.currentTarget).hasClass("ui-state-active"))
                    ;
                else {
                    if (!1 === this._start(e))
                        return !1;
                    this._repeat(null, A(e.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, e)
                }
            },
            "mouseleave .ui-spinner-button": "_stop"
        },
        _enhance: function() {
            this.uiSpinner = this.element.attr("autocomplete", "off").wrap("<span>").parent().append("<a></a><a></a>")
        },
        _draw: function() {
            if (this._enhance(),
            this._addClass(this.uiSpinner, "ui-spinner", "ui-widget ui-widget-content"),
            this._addClass("ui-spinner-input"),
            this.element.attr("role", "spinbutton"),
            this.buttons = this.uiSpinner.children("a").attr("tabIndex", -1).attr("aria-hidden", !0).button({
                classes: {
                    "ui-button": ""
                }
            }),
            this._removeClass(this.buttons, "ui-corner-all"),
            this._addClass(this.buttons.first(), "ui-spinner-button ui-spinner-up"),
            this._addClass(this.buttons.last(), "ui-spinner-button ui-spinner-down"),
            this.buttons.first().button({
                icon: this.options.icons.up,
                showLabel: !1
            }),
            this.buttons.last().button({
                icon: this.options.icons.down,
                showLabel: !1
            }),
            this.buttons.height() > Math.ceil(.5 * this.uiSpinner.height()) && 0 < this.uiSpinner.height())
                this.uiSpinner.height(this.uiSpinner.height())
        },
        _keydown: function(e) {
            var i = this.options
              , o = A.ui.keyCode;
            switch (e.keyCode) {
            case o.UP:
                return this._repeat(null, 1, e),
                !0;
            case o.DOWN:
                return this._repeat(null, -1, e),
                !0;
            case o.PAGE_UP:
                return this._repeat(null, i.page, e),
                !0;
            case o.PAGE_DOWN:
                return this._repeat(null, -i.page, e),
                !0
            }
            return !1
        },
        _start: function(e) {
            if (!this.spinning && !1 === this._trigger("start", e))
                return !1;
            if (!this.counter)
                this.counter = 1;
            return this.spinning = !0
        },
        _repeat: function(e, i, o) {
            e = e || 500,
            clearTimeout(this.timer),
            this.timer = this._delay(function() {
                this._repeat(40, i, o)
            }, e),
            this._spin(i * this.options.step, o)
        },
        _spin: function(e, i) {
            var o = this.value() || 0;
            if (!this.counter)
                this.counter = 1;
            if (o = this._adjustValue(o + e * this._increment(this.counter)),
            !this.spinning || !1 !== this._trigger("spin", i, {
                value: o
            }))
                this._value(o),
                this.counter++
        },
        _increment: function(e) {
            var i = this.options.incremental;
            if (i)
                return "function" == typeof i ? i(e) : Math.floor(e * e * e / 5e4 - e * e / 500 + 17 * e / 200 + 1);
            else
                return 1
        },
        _precision: function() {
            var e = this._precisionOf(this.options.step);
            if (null !== this.options.min)
                e = Math.max(e, this._precisionOf(this.options.min));
            return e
        },
        _precisionOf: function(e) {
            var e = e.toString()
              , i = e.indexOf(".");
            return -1 === i ? 0 : e.length - i - 1
        },
        _adjustValue: function(e) {
            var i = this.options
              , o = null !== i.min ? i.min : 0
              , r = e - o;
            if (e = o + Math.round(r / i.step) * i.step,
            e = parseFloat(e.toFixed(this._precision())),
            null !== i.max && e > i.max)
                return i.max;
            if (null !== i.min && e < i.min)
                return i.min;
            else
                return e
        },
        _stop: function(e) {
            if (!this.spinning)
                ;
            else
                clearTimeout(this.timer),
                clearTimeout(this.mousewheelTimer),
                this.counter = 0,
                this.spinning = !1,
                this._trigger("stop", e)
        },
        _setOption: function(e, i) {
            var o;
            if ("culture" === e || "numberFormat" === e)
                o = this._parse(this.element.val()),
                this.options[e] = i,
                this.element.val(this._format(o));
            else {
                if ("max" === e || "min" === e || "step" === e)
                    if ("string" == typeof i)
                        i = this._parse(i);
                if ("icons" === e)
                    o = this.buttons.first().find(".ui-icon"),
                    this._removeClass(o, null, this.options.icons.up),
                    this._addClass(o, null, i.up),
                    o = this.buttons.last().find(".ui-icon"),
                    this._removeClass(o, null, this.options.icons.down),
                    this._addClass(o, null, i.down);
                this._super(e, i)
            }
        },
        _setOptionDisabled: function(e) {
            this._super(e),
            this._toggleClass(this.uiSpinner, null, "ui-state-disabled", !!e),
            this.element.prop("disabled", !!e),
            this.buttons.button(e ? "disable" : "enable")
        },
        _setOptions: L(function(e) {
            this._super(e)
        }),
        _parse: function(e) {
            if ("string" == typeof e && "" !== e)
                e = window.Globalize && this.options.numberFormat ? Globalize.parseFloat(e, 10, this.options.culture) : +e;
            return "" === e || isNaN(e) ? null : e
        },
        _format: function(e) {
            if ("" === e)
                return "";
            else
                return window.Globalize && this.options.numberFormat ? Globalize.format(e, this.options.numberFormat, this.options.culture) : e
        },
        _refresh: function() {
            this.element.attr({
                "aria-valuemin": this.options.min,
                "aria-valuemax": this.options.max,
                "aria-valuenow": this._parse(this.element.val())
            })
        },
        isValid: function() {
            var e = this.value();
            if (null === e)
                return !1;
            else
                return e === this._adjustValue(e)
        },
        _value: function(e, i) {
            var o;
            if ("" !== e)
                if (null !== (o = this._parse(e))) {
                    if (!i)
                        o = this._adjustValue(o);
                    e = this._format(o)
                }
            this.element.val(e),
            this._refresh()
        },
        _destroy: function() {
            this.element.prop("disabled", !1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),
            this.uiSpinner.replaceWith(this.element)
        },
        stepUp: L(function(e) {
            this._stepUp(e)
        }),
        _stepUp: function(e) {
            if (this._start())
                this._spin((e || 1) * this.options.step),
                this._stop()
        },
        stepDown: L(function(e) {
            this._stepDown(e)
        }),
        _stepDown: function(e) {
            if (this._start())
                this._spin((e || 1) * -this.options.step),
                this._stop()
        },
        pageUp: L(function(e) {
            this._stepUp((e || 1) * this.options.page)
        }),
        pageDown: L(function(e) {
            this._stepDown((e || 1) * this.options.page)
        }),
        value: function(e) {
            if (!arguments.length)
                return this._parse(this.element.val());
            L(this._value).call(this, e)
        },
        widget: function() {
            return this.uiSpinner
        }
    }),
    !1 !== A.uiBackCompat)
        A.widget("ui.spinner", A.ui.spinner, {
            _enhance: function() {
                this.uiSpinner = this.element.attr("autocomplete", "off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())
            },
            _uiSpinnerHtml: function() {
                return "<span>"
            },
            _buttonHtml: function() {
                return "<a></a><a></a>"
            }
        });
    var W;
    A.ui.spinner;
    if (A.widget("ui.tabs", {
        version: "1.12.1",
        delay: 300,
        options: {
            active: null,
            classes: {
                "ui-tabs": "ui-corner-all",
                "ui-tabs-nav": "ui-corner-all",
                "ui-tabs-panel": "ui-corner-bottom",
                "ui-tabs-tab": "ui-corner-top"
            },
            collapsible: !1,
            event: "click",
            heightStyle: "content",
            hide: null,
            show: null,
            activate: null,
            beforeActivate: null,
            beforeLoad: null,
            load: null
        },
        _isLocal: (W = /#.*$/,
        function(e) {
            var i = e.href.replace(W, "")
              , o = location.href.replace(W, "");
            try {
                i = decodeURIComponent(i)
            } catch (e) {}
            try {
                o = decodeURIComponent(o)
            } catch (e) {}
            return 1 < e.hash.length && i === o
        }
        ),
        _create: function() {
            var i = this
              , e = this.options;
            if (this.running = !1,
            this._addClass("ui-tabs", "ui-widget ui-widget-content"),
            this._toggleClass("ui-tabs-collapsible", null, e.collapsible),
            this._processTabs(),
            e.active = this._initialActive(),
            Array.isArray(e.disabled))
                e.disabled = A.uniqueSort(e.disabled.concat(A.map(this.tabs.filter(".ui-state-disabled"), function(e) {
                    return i.tabs.index(e)
                }))).sort();
            if (!1 !== this.options.active && this.anchors.length)
                this.active = this._findActive(e.active);
            else
                this.active = A();
            if (this._refresh(),
            this.active.length)
                this.load(e.active)
        },
        _initialActive: function() {
            var o = this.options.active
              , e = this.options.collapsible
              , r = location.hash.substring(1);
            if (null === o) {
                if (r)
                    this.tabs.each(function(e, i) {
                        if (A(i).attr("aria-controls") === r)
                            return o = e,
                            !1
                    });
                if (null === o)
                    o = this.tabs.index(this.tabs.filter(".ui-tabs-active"));
                if (null === o || -1 === o)
                    o = this.tabs.length ? 0 : !1
            }
            if (!1 !== o)
                if (-1 === (o = this.tabs.index(this.tabs.eq(o))))
                    o = e ? !1 : 0;
            if (!e && !1 === o && this.anchors.length)
                o = 0;
            return o
        },
        _getCreateEventData: function() {
            return {
                tab: this.active,
                panel: !this.active.length ? A() : this._getPanelForTab(this.active)
            }
        },
        _tabKeydown: function(e) {
            var i = A(A.ui.safeActiveElement(this.document[0])).closest("li")
              , o = this.tabs.index(i)
              , r = !0;
            if (this._handlePageNav(e))
                ;
            else {
                switch (e.keyCode) {
                case A.ui.keyCode.RIGHT:
                case A.ui.keyCode.DOWN:
                    o++;
                    break;
                case A.ui.keyCode.UP:
                case A.ui.keyCode.LEFT:
                    r = !1,
                    o--;
                    break;
                case A.ui.keyCode.END:
                    o = this.anchors.length - 1;
                    break;
                case A.ui.keyCode.HOME:
                    o = 0;
                    break;
                case A.ui.keyCode.SPACE:
                    return e.preventDefault(),
                    clearTimeout(this.activating),
                    void this._activate(o);
                case A.ui.keyCode.ENTER:
                    return e.preventDefault(),
                    clearTimeout(this.activating),
                    void this._activate(o === this.options.active ? !1 : o);
                default:
                    return
                }
                if (e.preventDefault(),
                clearTimeout(this.activating),
                o = this._focusNextTab(o, r),
                !e.ctrlKey && !e.metaKey)
                    i.attr("aria-selected", "false"),
                    this.tabs.eq(o).attr("aria-selected", "true"),
                    this.activating = this._delay(function() {
                        this.option("active", o)
                    }, this.delay)
            }
        },
        _panelKeydown: function(e) {
            if (this._handlePageNav(e))
                ;
            else if (e.ctrlKey && e.keyCode === A.ui.keyCode.UP)
                e.preventDefault(),
                this.active.trigger("focus")
        },
        _handlePageNav: function(e) {
            if (e.altKey && e.keyCode === A.ui.keyCode.PAGE_UP)
                return this._activate(this._focusNextTab(this.options.active - 1, !1)),
                !0;
            if (e.altKey && e.keyCode === A.ui.keyCode.PAGE_DOWN)
                return this._activate(this._focusNextTab(this.options.active + 1, !0)),
                !0;
            else
                return
        },
        _findNextTab: function(e, i) {
            var o = this.tabs.length - 1;
            for (; -1 !== A.inArray(function() {
                if (o < e)
                    e = 0;
                if (e < 0)
                    e = o;
                return e
            }(), this.options.disabled); )
                e = i ? e + 1 : e - 1;
            return e
        },
        _focusNextTab: function(e, i) {
            return e = this._findNextTab(e, i),
            this.tabs.eq(e).trigger("focus"),
            e
        },
        _setOption: function(e, i) {
            if ("active" === e)
                this._activate(i);
            else {
                if (this._super(e, i),
                "collapsible" === e)
                    if (this._toggleClass("ui-tabs-collapsible", null, i),
                    !i && !1 === this.options.active)
                        this._activate(0);
                if ("event" === e)
                    this._setupEvents(i);
                if ("heightStyle" === e)
                    this._setupHeightStyle(i)
            }
        },
        _sanitizeSelector: function(e) {
            return e ? e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : ""
        },
        refresh: function() {
            var e = this.options
              , i = this.tablist.children(":has(a[href])");
            if (e.disabled = A.map(i.filter(".ui-state-disabled"), function(e) {
                return i.index(e)
            }),
            this._processTabs(),
            !1 === e.active || !this.anchors.length)
                e.active = !1,
                this.active = A();
            else if (this.active.length && !A.contains(this.tablist[0], this.active[0]))
                if (this.tabs.length === e.disabled.length)
                    e.active = !1,
                    this.active = A();
                else
                    this._activate(this._findNextTab(Math.max(0, e.active - 1), !1));
            else
                e.active = this.tabs.index(this.active);
            this._refresh()
        },
        _refresh: function() {
            if (this._setOptionDisabled(this.options.disabled),
            this._setupEvents(this.options.event),
            this._setupHeightStyle(this.options.heightStyle),
            this.tabs.not(this.active).attr({
                "aria-selected": "false",
                "aria-expanded": "false",
                tabIndex: -1
            }),
            this.panels.not(this._getPanelForTab(this.active)).hide().attr({
                "aria-hidden": "true"
            }),
            !this.active.length)
                this.tabs.eq(0).attr("tabIndex", 0);
            else
                this.active.attr({
                    "aria-selected": "true",
                    "aria-expanded": "true",
                    tabIndex: 0
                }),
                this._addClass(this.active, "ui-tabs-active", "ui-state-active"),
                this._getPanelForTab(this.active).show().attr({
                    "aria-hidden": "false"
                })
        },
        _processTabs: function() {
            var d = this
              , e = this.tabs
              , i = this.anchors
              , o = this.panels;
            if (this.tablist = this._getList().attr("role", "tablist"),
            this._addClass(this.tablist, "ui-tabs-nav", "ui-helper-reset ui-helper-clearfix ui-widget-header"),
            this.tablist.on("mousedown" + this.eventNamespace, "> li", function(e) {
                if (A(this).is(".ui-state-disabled"))
                    e.preventDefault()
            }).on("focus" + this.eventNamespace, ".ui-tabs-anchor", function() {
                if (A(this).closest("li").is(".ui-state-disabled"))
                    this.blur()
            }),
            this.tabs = this.tablist.find("> li:has(a[href])").attr({
                role: "tab",
                tabIndex: -1
            }),
            this._addClass(this.tabs, "ui-tabs-tab", "ui-state-default"),
            this.anchors = this.tabs.map(function() {
                return A("a", this)[0]
            }).attr({
                role: "presentation",
                tabIndex: -1
            }),
            this._addClass(this.anchors, "ui-tabs-anchor"),
            this.panels = A(),
            this.anchors.each(function(e, i) {
                var o, r, a, l = A(i).uniqueId().attr("id"), u = A(i).closest("li"), c = u.attr("aria-controls");
                if (d._isLocal(i))
                    a = (o = i.hash).substring(1),
                    r = d.element.find(d._sanitizeSelector(o));
                else {
                    if (a = u.attr("aria-controls") || A({}).uniqueId()[0].id,
                    !(r = d.element.find(o = "#" + a)).length)
                        (r = d._createPanel(a)).insertAfter(d.panels[e - 1] || d.tablist);
                    r.attr("aria-live", "polite")
                }
                if (r.length)
                    d.panels = d.panels.add(r);
                if (c)
                    u.data("ui-tabs-aria-controls", c);
                u.attr({
                    "aria-controls": a,
                    "aria-labelledby": l
                }),
                r.attr("aria-labelledby", l)
            }),
            this.panels.attr("role", "tabpanel"),
            this._addClass(this.panels, "ui-tabs-panel", "ui-widget-content"),
            e)
                this._off(e.not(this.tabs)),
                this._off(i.not(this.anchors)),
                this._off(o.not(this.panels))
        },
        _getList: function() {
            return this.tablist || this.element.find("ol, ul").eq(0)
        },
        _createPanel: function(e) {
            return A("<div>").attr("id", e).data("ui-tabs-destroy", !0)
        },
        _setOptionDisabled: function(e) {
            var i, o;
            if (Array.isArray(e))
                if (!e.length)
                    e = !1;
                else if (e.length === this.anchors.length)
                    e = !0;
            for (o = 0; i = this.tabs[o]; o++)
                if (i = A(i),
                !0 === e || -1 !== A.inArray(o, e))
                    i.attr("aria-disabled", "true"),
                    this._addClass(i, null, "ui-state-disabled");
                else
                    i.removeAttr("aria-disabled"),
                    this._removeClass(i, null, "ui-state-disabled");
            this.options.disabled = e,
            this._toggleClass(this.widget(), this.widgetFullName + "-disabled", null, !0 === e)
        },
        _setupEvents: function(e) {
            var o = {};
            if (e)
                A.each(e.split(" "), function(e, i) {
                    o[i] = "_eventHandler"
                });
            this._off(this.anchors.add(this.tabs).add(this.panels)),
            this._on(!0, this.anchors, {
                click: function(e) {
                    e.preventDefault()
                }
            }),
            this._on(this.anchors, o),
            this._on(this.tabs, {
                keydown: "_tabKeydown"
            }),
            this._on(this.panels, {
                keydown: "_panelKeydown"
            }),
            this._focusable(this.tabs),
            this._hoverable(this.tabs)
        },
        _setupHeightStyle: function(e) {
            var o, i = this.element.parent();
            if ("fill" === e)
                o = i.height(),
                o -= this.element.outerHeight() - this.element.height(),
                this.element.siblings(":visible").each(function() {
                    var e = A(this)
                      , i = e.css("position");
                    if ("absolute" === i || "fixed" === i)
                        ;
                    else
                        o -= e.outerHeight(!0)
                }),
                this.element.children().not(this.panels).each(function() {
                    o -= A(this).outerHeight(!0)
                }),
                this.panels.each(function() {
                    A(this).height(Math.max(0, o - A(this).innerHeight() + A(this).height()))
                }).css("overflow", "auto");
            else if ("auto" === e)
                o = 0,
                this.panels.each(function() {
                    o = Math.max(o, A(this).height("").height())
                }).height(o)
        },
        _eventHandler: function(e) {
            var i = this.options
              , o = this.active
              , r = A(e.currentTarget).closest("li")
              , a = r[0] === o[0]
              , l = a && i.collapsible
              , u = l ? A() : this._getPanelForTab(r)
              , c = !o.length ? A() : this._getPanelForTab(o)
              , o = {
                oldTab: o,
                oldPanel: c,
                newTab: l ? A() : r,
                newPanel: u
            };
            if (e.preventDefault(),
            r.hasClass("ui-state-disabled") || r.hasClass("ui-tabs-loading") || this.running || a && !i.collapsible || !1 === this._trigger("beforeActivate", e, o))
                ;
            else {
                if (i.active = l ? !1 : this.tabs.index(r),
                this.active = a ? A() : r,
                this.xhr)
                    this.xhr.abort();
                if (!c.length && !u.length)
                    A.error("jQuery UI Tabs: Mismatching fragment identifier.");
                if (u.length)
                    this.load(this.tabs.index(r), e);
                this._toggle(e, o)
            }
        },
        _toggle: function(e, i) {
            var o = this
              , r = i.newPanel
              , a = i.oldPanel;
            function l() {
                o.running = !1,
                o._trigger("activate", e, i)
            }
            function u() {
                if (o._addClass(i.newTab.closest("li"), "ui-tabs-active", "ui-state-active"),
                r.length && o.options.show)
                    o._show(r, o.options.show, l);
                else
                    r.show(),
                    l()
            }
            if (this.running = !0,
            a.length && this.options.hide)
                this._hide(a, this.options.hide, function() {
                    o._removeClass(i.oldTab.closest("li"), "ui-tabs-active", "ui-state-active"),
                    u()
                });
            else
                this._removeClass(i.oldTab.closest("li"), "ui-tabs-active", "ui-state-active"),
                a.hide(),
                u();
            if (a.attr("aria-hidden", "true"),
            i.oldTab.attr({
                "aria-selected": "false",
                "aria-expanded": "false"
            }),
            r.length && a.length)
                i.oldTab.attr("tabIndex", -1);
            else if (r.length)
                this.tabs.filter(function() {
                    return 0 === A(this).attr("tabIndex")
                }).attr("tabIndex", -1);
            r.attr("aria-hidden", "false"),
            i.newTab.attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            })
        },
        _activate: function(e) {
            var e = this._findActive(e);
            if (e[0] === this.active[0])
                ;
            else {
                if (!e.length)
                    e = this.active;
                e = e.find(".ui-tabs-anchor")[0],
                this._eventHandler({
                    target: e,
                    currentTarget: e,
                    preventDefault: A.noop
                })
            }
        },
        _findActive: function(e) {
            return !1 === e ? A() : this.tabs.eq(e)
        },
        _getIndex: function(e) {
            if ("string" == typeof e)
                e = this.anchors.index(this.anchors.filter("[href$='" + A.ui.escapeSelector(e) + "']"));
            return e
        },
        _destroy: function() {
            if (this.xhr)
                this.xhr.abort();
            if (this.tablist.removeAttr("role").off(this.eventNamespace),
            this.anchors.removeAttr("role tabIndex").removeUniqueId(),
            this.tabs.add(this.panels).each(function() {
                if (A.data(this, "ui-tabs-destroy"))
                    A(this).remove();
                else
                    A(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")
            }),
            this.tabs.each(function() {
                var e = A(this)
                  , i = e.data("ui-tabs-aria-controls");
                if (i)
                    e.attr("aria-controls", i).removeData("ui-tabs-aria-controls");
                else
                    e.removeAttr("aria-controls")
            }),
            this.panels.show(),
            "content" !== this.options.heightStyle)
                this.panels.css("height", "")
        },
        enable: function(o) {
            var e = this.options.disabled;
            if (!1 === e)
                ;
            else {
                if (void 0 === o)
                    e = !1;
                else if (o = this._getIndex(o),
                Array.isArray(e))
                    e = A.map(e, function(e) {
                        return e !== o ? e : null
                    });
                else
                    e = A.map(this.tabs, function(e, i) {
                        return i !== o ? i : null
                    });
                this._setOptionDisabled(e)
            }
        },
        disable: function(e) {
            var i = this.options.disabled;
            if (!0 === i)
                ;
            else {
                if (void 0 === e)
                    i = !0;
                else {
                    if (e = this._getIndex(e),
                    -1 !== A.inArray(e, i))
                        return;
                    if (Array.isArray(i))
                        i = A.merge([e], i).sort();
                    else
                        i = [e]
                }
                this._setOptionDisabled(i)
            }
        },
        load: function(e, r) {
            e = this._getIndex(e);
            function a(e, i) {
                if ("abort" === i)
                    l.panels.stop(!1, !0);
                if (l._removeClass(o, "ui-tabs-loading"),
                u.removeAttr("aria-busy"),
                e === l.xhr)
                    delete l.xhr
            }
            var l = this
              , o = this.tabs.eq(e)
              , e = o.find(".ui-tabs-anchor")
              , u = this._getPanelForTab(o)
              , c = {
                tab: o,
                panel: u
            };
            if (this._isLocal(e[0]))
                ;
            else if (this.xhr = A.ajax(this._ajaxSettings(e, r, c)),
            this.xhr && "canceled" !== this.xhr.statusText)
                this._addClass(o, "ui-tabs-loading"),
                u.attr("aria-busy", "true"),
                this.xhr.done(function(e, i, o) {
                    setTimeout(function() {
                        u.html(e),
                        l._trigger("load", r, c),
                        a(o, i)
                    }, 1)
                }).fail(function(e, i) {
                    setTimeout(function() {
                        a(e, i)
                    }, 1)
                })
        },
        _ajaxSettings: function(e, o, r) {
            var a = this;
            return {
                url: e.attr("href").replace(/#.*$/, ""),
                beforeSend: function(e, i) {
                    return a._trigger("beforeLoad", o, A.extend({
                        jqXHR: e,
                        ajaxSettings: i
                    }, r))
                }
            }
        },
        _getPanelForTab: function(e) {
            e = A(e).attr("aria-controls");
            return this.element.find(this._sanitizeSelector("#" + e))
        }
    }),
    !1 !== A.uiBackCompat)
        A.widget("ui.tabs", A.ui.tabs, {
            _processTabs: function() {
                this._superApply(arguments),
                this._addClass(this.tabs, "ui-tab")
            }
        });
    A.ui.tabs;
    if (A.widget("ui.tooltip", {
        version: "1.12.1",
        options: {
            classes: {
                "ui-tooltip": "ui-corner-all ui-widget-shadow"
            },
            content: function() {
                var e = A(this).attr("title") || "";
                return A("<a>").text(e).html()
            },
            hide: !0,
            items: "[title]:not([disabled])",
            position: {
                my: "left top+15",
                at: "left bottom",
                collision: "flipfit flip"
            },
            show: !0,
            track: !1,
            close: null,
            open: null
        },
        _addDescribedBy: function(e, i) {
            var o = (e.attr("aria-describedby") || "").split(/\s+/);
            o.push(i),
            e.data("ui-tooltip-id", i).attr("aria-describedby", String.prototype.trim.call(o.join(" ")))
        },
        _removeDescribedBy: function(e) {
            var i = e.data("ui-tooltip-id")
              , o = (e.attr("aria-describedby") || "").split(/\s+/)
              , i = A.inArray(i, o);
            if (-1 !== i)
                o.splice(i, 1);
            if (e.removeData("ui-tooltip-id"),
            o = String.prototype.trim.call(o.join(" ")))
                e.attr("aria-describedby", o);
            else
                e.removeAttr("aria-describedby")
        },
        _create: function() {
            this._on({
                mouseover: "open",
                focusin: "open"
            }),
            this.tooltips = {},
            this.parents = {},
            this.liveRegion = A("<div>").attr({
                role: "log",
                "aria-live": "assertive",
                "aria-relevant": "additions"
            }).appendTo(this.document[0].body),
            this._addClass(this.liveRegion, null, "ui-helper-hidden-accessible"),
            this.disabledTitles = A([])
        },
        _setOption: function(e, i) {
            var o = this;
            if (this._super(e, i),
            "content" === e)
                A.each(this.tooltips, function(e, i) {
                    o._updateContent(i.element)
                })
        },
        _setOptionDisabled: function(e) {
            this[e ? "_disable" : "_enable"]()
        },
        _disable: function() {
            var r = this;
            A.each(this.tooltips, function(e, i) {
                var o = A.Event("blur");
                o.target = o.currentTarget = i.element[0],
                r.close(o, !0)
            }),
            this.disabledTitles = this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function() {
                var e = A(this);
                if (e.is("[title]"))
                    return e.data("ui-tooltip-title", e.attr("title")).removeAttr("title")
            }))
        },
        _enable: function() {
            this.disabledTitles.each(function() {
                var e = A(this);
                if (e.data("ui-tooltip-title"))
                    e.attr("title", e.data("ui-tooltip-title"))
            }),
            this.disabledTitles = A([])
        },
        open: function(e) {
            var o = this
              , i = A(e ? e.target : this.element).closest(this.options.items);
            if (!i.length || i.data("ui-tooltip-id"))
                ;
            else {
                if (i.attr("title"))
                    i.data("ui-tooltip-title", i.attr("title"));
                if (i.data("ui-tooltip-open", !0),
                e && "mouseover" === e.type)
                    i.parents().each(function() {
                        var e, i = A(this);
                        if (i.data("ui-tooltip-open"))
                            (e = A.Event("blur")).target = e.currentTarget = this,
                            o.close(e, !0);
                        if (i.attr("title"))
                            i.uniqueId(),
                            o.parents[this.id] = {
                                element: this,
                                title: i.attr("title")
                            },
                            i.attr("title", "")
                    });
                this._registerCloseHandlers(e, i),
                this._updateContent(i, e)
            }
        },
        _updateContent: function(i, o) {
            var e = this.options.content
              , r = this
              , a = o ? o.type : null;
            if ("string" == typeof e || e.nodeType || e.jquery)
                return this._open(o, i, e);
            if (e = e.call(i[0], function(e) {
                r._delay(function() {
                    if (!i.data("ui-tooltip-open"))
                        ;
                    else {
                        if (o)
                            o.type = a;
                        this._open(o, i, e)
                    }
                })
            }))
                this._open(o, i, e)
        },
        _open: function(e, i, o) {
            var r, a, l, u = A.extend({}, this.options.position);
            if (!o)
                ;
            else if (l = this._find(i))
                l.tooltip.find(".ui-tooltip-content").html(o);
            else {
                if (i.is("[title]"))
                    if (e && "mouseover" === e.type)
                        i.attr("title", "");
                    else
                        i.removeAttr("title");
                if (l = this._tooltip(i),
                r = l.tooltip,
                this._addDescribedBy(i, r.attr("id")),
                r.find(".ui-tooltip-content").html(o),
                this.liveRegion.children().hide(),
                (l = A("<div>").html(r.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),
                l.removeAttr("id").find("[id]").removeAttr("id"),
                l.appendTo(this.liveRegion),
                this.options.track && e && /^mouse/.test(e.type))
                    this._on(this.document, {
                        mousemove: c
                    }),
                    c(e);
                else
                    r.position(A.extend({
                        of: i
                    }, this.options.position));
                if (r.hide(),
                this._show(r, this.options.show),
                this.options.track && this.options.show && this.options.show.delay)
                    a = this.delayedShow = setInterval(function() {
                        if (r.is(":visible"))
                            c(u.of),
                            clearInterval(a)
                    }, A.fx.interval);
                this._trigger("open", e, {
                    tooltip: r
                })
            }
            function c(e) {
                if (u.of = e,
                r.is(":hidden"))
                    ;
                else
                    r.position(u)
            }
        },
        _registerCloseHandlers: function(e, i) {
            var o = {
                keyup: function(e) {
                    if (e.keyCode === A.ui.keyCode.ESCAPE) {
                        e = A.Event(e);
                        e.currentTarget = i[0],
                        this.close(e, !0)
                    }
                }
            };
            if (i[0] !== this.element[0])
                o.remove = function() {
                    this._removeTooltip(this._find(i).tooltip)
                }
                ;
            if (!e || "mouseover" === e.type)
                o.mouseleave = "close";
            if (!e || "focusin" === e.type)
                o.focusout = "close";
            this._on(!0, i, o)
        },
        close: function(e) {
            var i, o = this, r = A(e ? e.currentTarget : this.element), a = this._find(r);
            if (!a)
                r.removeData("ui-tooltip-open");
            else if (i = a.tooltip,
            a.closing)
                ;
            else {
                if (clearInterval(this.delayedShow),
                r.data("ui-tooltip-title") && !r.attr("title"))
                    r.attr("title", r.data("ui-tooltip-title"));
                if (this._removeDescribedBy(r),
                a.hiding = !0,
                i.stop(!0),
                this._hide(i, this.options.hide, function() {
                    o._removeTooltip(A(this))
                }),
                r.removeData("ui-tooltip-open"),
                this._off(r, "mouseleave focusout keyup"),
                r[0] !== this.element[0])
                    this._off(r, "remove");
                if (this._off(this.document, "mousemove"),
                e && "mouseleave" === e.type)
                    A.each(this.parents, function(e, i) {
                        A(i.element).attr("title", i.title),
                        delete o.parents[e]
                    });
                if (a.closing = !0,
                this._trigger("close", e, {
                    tooltip: i
                }),
                !a.hiding)
                    a.closing = !1
            }
        },
        _tooltip: function(e) {
            var i = A("<div>").attr("role", "tooltip")
              , o = A("<div>").appendTo(i)
              , r = i.uniqueId().attr("id");
            return this._addClass(o, "ui-tooltip-content"),
            this._addClass(i, "ui-tooltip", "ui-widget ui-widget-content"),
            i.appendTo(this._appendTo(e)),
            this.tooltips[r] = {
                element: e,
                tooltip: i
            }
        },
        _find: function(e) {
            e = e.data("ui-tooltip-id");
            return e ? this.tooltips[e] : null
        },
        _removeTooltip: function(e) {
            e.remove(),
            delete this.tooltips[e.attr("id")]
        },
        _appendTo: function(e) {
            e = e.closest(".ui-front, dialog");
            if (!e.length)
                e = this.document[0].body;
            return e
        },
        _destroy: function() {
            var r = this;
            A.each(this.tooltips, function(e, i) {
                var o = A.Event("blur")
                  , i = i.element;
                if (o.target = o.currentTarget = i[0],
                r.close(o, !0),
                A("#" + e).remove(),
                i.data("ui-tooltip-title")) {
                    if (!i.attr("title"))
                        i.attr("title", i.data("ui-tooltip-title"));
                    i.removeData("ui-tooltip-title")
                }
            }),
            this.liveRegion.remove()
        }
    }),
    !1 !== A.uiBackCompat)
        A.widget("ui.tooltip", A.ui.tooltip, {
            options: {
                tooltipClass: null
            },
            _tooltip: function() {
                var e = this._superApply(arguments);
                if (this.options.tooltipClass)
                    e.tooltip.addClass(this.options.tooltipClass);
                return e
            }
        });
    A.ui.tooltip
}),
function(e) {
    if ("function" == typeof define && define.amd)
        define(["jquery", "jquery.ui"], e);
    else
        e(jQuery)
}(function(e) {
    if (e.support.mspointer = window.navigator.msPointerEnabled,
    e.support.touch = "ontouchstart"in document || "ontouchstart"in window || window.TouchEvent || window.DocumentTouch && document instanceof DocumentTouch || 0 < navigator.maxTouchPoints || 0 < navigator.msMaxTouchPoints,
    !e.support.touch && !e.support.mspointer || !e.ui.mouse)
        ;
    else {
        var o, i = e.ui.mouse.prototype, r = i._mouseInit, a = i._mouseDestroy;
        i._touchStart = function(e) {
            if (this._startedMove = e.timeStamp,
            this._startPos = l(e),
            o || !this._mouseCapture(e.originalEvent.changedTouches[0]))
                ;
            else
                o = !0,
                this._touchMoved = !1,
                u(e, "mouseover"),
                u(e, "mousemove"),
                u(e, "mousedown")
        }
        ,
        i._touchMove = function(e) {
            if (!o)
                ;
            else
                this._touchMoved = !0,
                u(e, "mousemove")
        }
        ,
        i._touchEnd = function(e) {
            if (!o)
                ;
            else {
                u(e, "mouseup"),
                u(e, "mouseout");
                var i = e.timeStamp - this._startedMove;
                if (!this._touchMoved || i < 500)
                    u(e, "click");
                else {
                    i = l(e);
                    if (Math.abs(i.x - this._startPos.x) < 10 && Math.abs(i.y - this._startPos.y) < 10)
                        if (!this._touchMoved || "stylus" === e.originalEvent.changedTouches[0].touchType)
                            u(e, "click")
                }
                this._touchMoved = !1,
                o = !1
            }
        }
        ,
        i._mouseInit = function() {
            if (e.support.mspointer)
                this.element[0].style.msTouchAction = "none";
            this.element.on({
                touchstart: e.proxy(this, "_touchStart"),
                touchmove: e.proxy(this, "_touchMove"),
                touchend: e.proxy(this, "_touchEnd")
            }),
            r.call(this)
        }
        ,
        i._mouseDestroy = function() {
            this.element.off({
                touchstart: e.proxy(this, "_touchStart"),
                touchmove: e.proxy(this, "_touchMove"),
                touchend: e.proxy(this, "_touchEnd")
            }),
            a.call(this)
        }
    }
    function l(e) {
        return {
            x: e.originalEvent.changedTouches[0].pageX,
            y: e.originalEvent.changedTouches[0].pageY
        }
    }
    function u(e, i) {
        if (1 < e.originalEvent.touches.length)
            ;
        else {
            if (e.cancelable)
                e.preventDefault();
            var o = e.originalEvent.changedTouches[0]
              , r = document.createEvent("MouseEvents");
            r.initMouseEvent(i, !0, !0, window, 1, o.screenX, o.screenY, o.clientX, o.clientY, !1, !1, !1, !1, 0, null),
            e.target.dispatchEvent(r)
        }
    }
}),
!JSON)
    JSON = {};
if (function() {
    "use strict";
    function f(n) {
        return n < 10 ? "0" + n : n
    }
    if ("function" != typeof Date.prototype.toJSON)
        Date.prototype.toJSON = function(e) {
            return isFinite(this.valueOf()) ? this.getUTCFullYear() + "-" + f(this.getUTCMonth() + 1) + "-" + f(this.getUTCDate()) + "T" + f(this.getUTCHours()) + ":" + f(this.getUTCMinutes()) + ":" + f(this.getUTCSeconds()) + "Z" : null
        }
        ,
        String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function(e) {
            return this.valueOf()
        }
        ;
    var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, gap, indent, meta = {
        "\b": "\\b",
        "\t": "\\t",
        "\n": "\\n",
        "\f": "\\f",
        "\r": "\\r",
        '"': '\\"',
        "\\": "\\\\"
    }, rep;
    function quote(e) {
        return escapable.lastIndex = 0,
        escapable.test(e) ? '"' + e.replace(escapable, function(e) {
            var i = meta[e];
            return "string" == typeof i ? i : "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4)
        }) + '"' : '"' + e + '"'
    }
    function str(e, i) {
        var o, r, a, l, u, c = gap, d = i[e];
        if (d && "object" == typeof d && "function" == typeof d.toJSON)
            d = d.toJSON(e);
        if ("function" == typeof rep)
            d = rep.call(i, e, d);
        switch (typeof d) {
        case "string":
            return quote(d);
        case "number":
            return isFinite(d) ? String(d) : "null";
        case "boolean":
        case "null":
            return String(d);
        case "object":
            if (!d)
                return "null";
            if (gap += indent,
            u = [],
            "[object Array]" === Object.prototype.toString.apply(d)) {
                for (l = d.length,
                o = 0; o < l; o += 1)
                    u[o] = str(o, d) || "null";
                a = 0 === u.length ? "[]" : gap ? "[\n" + gap + u.join(",\n" + gap) + "\n" + c + "]" : "[" + u.join(",") + "]",
                gap = c
            } else {
                if (rep && "object" == typeof rep) {
                    for (l = rep.length,
                    o = 0; o < l; o += 1)
                        if ("string" == typeof rep[o])
                            if (a = str(r = rep[o], d))
                                u.push(quote(r) + (gap ? ": " : ":") + a)
                } else
                    for (r in d)
                        if (Object.prototype.hasOwnProperty.call(d, r))
                            if (a = str(r, d))
                                u.push(quote(r) + (gap ? ": " : ":") + a);
                a = 0 === u.length ? "{}" : gap ? "{\n" + gap + u.join(",\n" + gap) + "\n" + c + "}" : "{" + u.join(",") + "}",
                gap = c
            }
            return a
        }
    }
    if ("function" != typeof JSON.stringify)
        JSON.stringify = function(e, i, o) {
            var r;
            if (indent = gap = "",
            "number" == typeof o)
                for (r = 0; r < o; r += 1)
                    indent += " ";
            else if ("string" == typeof o)
                indent = o;
            if (!(rep = i) || "function" == typeof i || "object" == typeof i && "number" == typeof i.length)
                return str("", {
                    "": e
                });
            throw new Error("JSON.stringify")
        }
        ;
    if ("function" != typeof JSON.parse)
        JSON.parse = function(text, reviver) {
            var j;
            function walk(e, i) {
                var o, r, a = e[i];
                if (a && "object" == typeof a)
                    for (o in a)
                        if (Object.prototype.hasOwnProperty.call(a, o))
                            if (void 0 !== (r = walk(a, o)))
                                a[o] = r;
                            else
                                delete a[o];
                return reviver.call(e, i, a)
            }
            if (text = String(text),
            cx.lastIndex = 0,
            cx.test(text))
                text = text.replace(cx, function(e) {
                    return "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4)
                });
            if (/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, "")))
                return j = eval("(" + text + ")"),
                "function" == typeof reviver ? walk({
                    "": j
                }, "") : j;
            throw new SyntaxError("JSON.parse")
        }
}(),
!Array.prototype.indexOf)
    Array.prototype.indexOf = function(e) {
        "use strict";
        var t, i, n;
        if (null == this)
            throw new TypeError;
        if (0 == (i = (t = Object(this)).length >>> 0))
            ;
        else {
            if ((n = 0) < arguments.length)
                if ((n = Number(arguments[1])) != n)
                    n = 0;
                else if (0 !== n && n !== 1 / 0 && n !== -1 / 0)
                    n = (0 < n || -1) * Math.floor(Math.abs(n));
            if (i <= n)
                ;
            else
                for (var o = 0 <= n ? n : Math.max(i - Math.abs(n), 0); o < i; o++)
                    if (o in t && t[o] === e)
                        return o
        }
        return -1
    }
    ;
if (!Array.prototype.map)
    Array.prototype.map = function(e, i) {
        var o, r, a;
        if (null == this)
            throw new TypeError(" this is null or not defined");
        var l, u = Object(this), c = u.length >>> 0;
        if ("function" != typeof e)
            throw new TypeError(e + " is not a function");
        if (i)
            o = i;
        for (r = new Array(c),
        a = 0; a < c; ) {
            if (a in u)
                l = u[a],
                l = e.call(o, l, a, u),
                r[a] = l;
            a++
        }
        return r
    }
    ;
if (!Array.prototype.filter)
    Array.prototype.filter = function(e) {
        "use strict";
        if (null == this)
            throw new TypeError;
        var t = Object(this)
          , i = t.length >>> 0;
        if ("function" != typeof e)
            throw new TypeError;
        for (var o = [], r = arguments[1], a = 0; a < i; a++)
            if (a in t) {
                var l = t[a];
                if (e.call(r, l, a, t))
                    o.push(l)
            }
        return o
    }
    ;
if (!Array.prototype.reduce)
    Array.prototype.reduce = function(e) {
        var i = this.length;
        if ("function" != typeof e)
            throw new TypeError;
        if (0 == i && 1 == arguments.length)
            throw new TypeError;
        var o = 0;
        if (2 <= arguments.length)
            var r = arguments[1];
        else
            for (; ; ) {
                if (o in this) {
                    r = this[o++];
                    break
                }
                if (++o >= i)
                    throw new TypeError
            }
        for (; o < i; o++)
            if (o in this)
                r = e.call(null, r, this[o], o, this);
        return r
    }
    ;
if (!Array.prototype.reduceRight)
    Array.prototype.reduceRight = function(e) {
        "use strict";
        if (null == this)
            throw new TypeError;
        var t = Object(this)
          , i = t.length >>> 0;
        if ("function" != typeof e)
            throw new TypeError;
        if (0 == i && 1 === arguments.length)
            throw new TypeError;
        var o, r = i - 1;
        if (2 <= arguments.length)
            o = arguments[1];
        else
            for (; ; ) {
                if (r in this) {
                    o = this[r--];
                    break
                }
                if (--r < 0)
                    throw new TypeError
            }
        for (; 0 <= r; ) {
            if (r in t)
                o = e.call(void 0, o, t[r], r, t);
            r--
        }
        return o
    }
    ;
if (!String.prototype.trim)
    String.prototype.trim = function() {
        return this.replace(/^\s+|\s+$/g, "")
    }
    ;
if (!Array.isArray)
    Array.isArray = function(e) {
        return "[object Array]" === Object.prototype.toString.call(e)
    }
    ;
if (!Function.prototype.bind)
    Function.prototype.bind = function(e) {
        if ("function" != typeof this)
            throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");
        function i() {
            return r.apply(this instanceof a && e ? this : e, o.concat(Array.prototype.slice.call(arguments)))
        }
        var o = Array.prototype.slice.call(arguments, 1)
          , r = this
          , a = function() {};
        return a.prototype = this.prototype,
        i.prototype = new a,
        i
    }
    ;
if (!Array.prototype.forEach)
    Array.prototype.forEach = function(e, i) {
        var o, r;
        if (null == this)
            throw new TypeError(" this is null or not defined");
        var a, l = Object(this), u = l.length >>> 0;
        if ("function" != typeof e)
            throw new TypeError(e + " is not a function");
        if (1 < arguments.length)
            o = i;
        for (r = 0; r < u; ) {
            if (r in l)
                a = l[r],
                e.call(o, a, r, l);
            r++
        }
    }
    ;
if (!String.prototype.endsWith)
    String.prototype.endsWith = function(e, i) {
        var o = this.toString();
        if ("number" != typeof i || !isFinite(i) || Math.floor(i) !== i || i > o.length)
            i = o.length;
        i -= e.length;
        o = o.indexOf(e, i);
        return -1 !== o && o === i
    }
    ;
if ("function" != typeof Object.assign)
    Object.defineProperty(Object, "assign", {
        value: function(e, i) {
            "use strict";
            if (null == e)
                throw new TypeError("Cannot convert undefined or null to object");
            for (var o = Object(e), r = 1; r < arguments.length; r++) {
                var a = arguments[r];
                if (null != a)
                    for (var l in a)
                        if (Object.prototype.hasOwnProperty.call(a, l))
                            o[l] = a[l]
            }
            return o
        },
        writable: !0,
        configurable: !0
    });
if (!Array.prototype.find)
    Object.defineProperty(Array.prototype, "find", {
        value: function(e) {
            if (null == this)
                throw new TypeError('"this" is null or not defined');
            var i = Object(this)
              , o = i.length >>> 0;
            if ("function" != typeof e)
                throw new TypeError("predicate must be a function");
            for (var r = arguments[1], a = 0; a < o; ) {
                var l = i[a];
                if (e.call(r, l, a, i))
                    return l;
                a++
            }
        },
        configurable: !0,
        writable: !0
    });
(function() {
    var e, c, d, h, p;
    h = {},
    p = {},
    d = c = function(u) {
        if (d._eak_seen = h,
        p[u])
            return p[u];
        if (p[u] = {},
        !h[u])
            throw new Error("Could not find module " + u);
        for (var e, i = h[u], o = i.deps, i = i.callback, r = [], a = 0, l = o.length; a < l; a++)
            if ("exports" === o[a])
                r.push(e = {});
            else
                r.push(c(function(e) {
                    if ("." !== e.charAt(0))
                        return e;
                    for (var i = e.split("/"), o = u.split("/").slice(0, -1), r = 0, a = i.length; r < a; r++) {
                        var l = i[r];
                        if (".." === l)
                            o.pop();
                        else if ("." === l)
                            continue;
                        else
                            o.push(l)
                    }
                    return o.join("/")
                }(o[a])));
        i = i.apply(this, r);
        return p[u] = e || i
    }
    ,
    (e = function(e, i, o) {
        h[e] = {
            deps: i,
            callback: o
        }
    }
    )("promise/all", ["./utils", "exports"], function(e, i) {
        "use strict";
        var o = e.isArray
          , d = e.isFunction;
        i.all = function(c) {
            if (o(c))
                return new this(function(o, e) {
                    var i, r = [], a = c.length;
                    if (0 === a)
                        o([]);
                    function l(e, i) {
                        if (r[e] = i,
                        0 == --a)
                            o(r)
                    }
                    for (var u = 0; u < c.length; u++)
                        if ((i = c[u]) && d(i.then))
                            i.then(function(i) {
                                return function(e) {
                                    l(i, e)
                                }
                            }(u), e);
                        else
                            l(u, i)
                }
                );
            throw new TypeError("You must pass an array to all.")
        }
    }),
    e("promise/asap", ["exports"], function(e) {
        "use strict";
        var i = "undefined" != typeof window ? window : {}
          , i = i.MutationObserver || i.WebKitMutationObserver
          , o = "undefined" != typeof global ? global : void 0 === this ? window : this;
        var r, a, l, u = [];
        function c() {
            for (var e = 0; e < u.length; e++) {
                var i = u[e];
                (0,
                i[0])(i[1])
            }
            u = []
        }
        if ("undefined" != typeof process && "[object process]" === {}.toString.call(process))
            r = function() {
                process.nextTick(c)
            }
            ;
        else if (i)
            a = 0,
            i = new i(c),
            l = document.createTextNode(""),
            i.observe(l, {
                characterData: !0
            }),
            r = function() {
                l.data = a = ++a % 2
            }
            ;
        else
            r = function() {
                o.setTimeout(c, 1)
            }
            ;
        e.asap = function(e, i) {
            if (1 === u.push([e, i]))
                r()
        }
    }),
    e("promise/config", ["exports"], function(e) {
        "use strict";
        var o = {
            instrument: !1
        };
        e.config = o,
        e.configure = function(e, i) {
            if (2 === arguments.length)
                o[e] = i;
            else
                return o[e]
        }
    }),
    e("promise/polyfill", ["./promise", "./utils", "exports"], function(e, i, o) {
        "use strict";
        var r = e.Promise
          , a = i.isFunction;
        o.polyfill = function() {
            var e, i;
            if ("undefined" != typeof global)
                e = global;
            else if ("undefined" != typeof window && window.document)
                e = window;
            else
                e = self;
            if (!("Promise"in e && "resolve"in e.Promise && "reject"in e.Promise && "all"in e.Promise && "race"in e.Promise && (new e.Promise(function(e) {
                i = e
            }
            ),
            a(i))))
                e.Promise = r
        }
    }),
    e("promise/promise", ["./config", "./utils", "./all", "./race", "./resolve", "./reject", "./asap", "exports"], function(e, i, o, r, a, l, u, c) {
        "use strict";
        var d = e.config
          , h = i.objectOrFunction
          , p = i.isFunction
          , e = o.all
          , i = r.race
          , o = a.resolve
          , r = l.reject
          , a = u.asap;
        function f(e) {
            if (!p(e))
                throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");
            if (!(this instanceof f))
                throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
            this._subscribers = [];
            var i = this;
            function o(e) {
                x(i, e)
            }
            try {
                e(function(e) {
                    T(i, e)
                }, o)
            } catch (e) {
                o(e)
            }
        }
        function g(e, i, o, r) {
            var a, l, u, c, d = p(o);
            if (d)
                try {
                    a = o(r),
                    u = !0
                } catch (e) {
                    c = !0,
                    l = e
                }
            else
                a = r,
                u = !0;
            if (C(i, a))
                ;
            else if (d && u)
                T(i, a);
            else if (c)
                x(i, l);
            else if (e === v)
                T(i, a);
            else if (e === y)
                x(i, a)
        }
        d.async = a;
        var m = void 0
          , w = 0
          , v = 1
          , y = 2;
        function b(e, i) {
            for (var o = e._subscribers, r = e._detail, a = 0; a < o.length; a += 3)
                g(i, o[a], o[a + i], r);
            e._subscribers = null
        }
        function C(i, o) {
            var r, e = null;
            try {
                if (i === o)
                    throw new TypeError("A promises callback cannot return that same promise.");
                if (h(o))
                    if (e = o.then,
                    p(e))
                        return e.call(o, function(e) {
                            if (r)
                                return !0;
                            if (r = !0,
                            o !== e)
                                T(i, e);
                            else
                                k(i, e)
                        }, function(e) {
                            if (r)
                                return !0;
                            r = !0,
                            x(i, e)
                        }),
                        1
            } catch (e) {
                if (r)
                    ;
                else
                    x(i, e);
                return 1
            }
        }
        function T(e, i) {
            if (e === i)
                k(e, i);
            else if (!C(e, i))
                k(e, i)
        }
        function k(e, i) {
            if (e._state !== m)
                ;
            else
                e._state = w,
                e._detail = i,
                d.async(S, e)
        }
        function x(e, i) {
            if (e._state !== m)
                ;
            else
                e._state = w,
                e._detail = i,
                d.async(A, e)
        }
        function S(e) {
            b(e, e._state = v)
        }
        function A(e) {
            b(e, e._state = y)
        }
        f.prototype = {
            constructor: f,
            _state: void 0,
            _detail: void 0,
            _subscribers: void 0,
            then: function(e, i) {
                var o, r, a, l = this, u = new this.constructor(function() {}
                );
                if (this._state) {
                    var c = arguments;
                    d.async(function() {
                        g(l._state, u, c[l._state - 1], l._detail)
                    })
                } else
                    r = u,
                    e = e,
                    i = i,
                    a = (o = (o = this)._subscribers).length,
                    o[a] = r,
                    o[a + v] = e,
                    o[a + y] = i;
                return u
            },
            catch: function(e) {
                return this.then(null, e)
            }
        },
        f.all = e,
        f.race = i,
        f.resolve = o,
        f.reject = r,
        c.Promise = f
    }),
    e("promise/race", ["./utils", "exports"], function(e, i) {
        "use strict";
        var o = e.isArray;
        i.race = function(a) {
            if (o(a))
                return new this(function(e, i) {
                    for (var o, r = 0; r < a.length; r++)
                        if ((o = a[r]) && "function" == typeof o.then)
                            o.then(e, i);
                        else
                            e(o)
                }
                );
            throw new TypeError("You must pass an array to race.")
        }
    }),
    e("promise/reject", ["exports"], function(e) {
        "use strict";
        e.reject = function(o) {
            return new this(function(e, i) {
                i(o)
            }
            )
        }
    }),
    e("promise/resolve", ["exports"], function(e) {
        "use strict";
        e.resolve = function(i) {
            if (i && "object" == typeof i && i.constructor === this)
                return i;
            else
                return new this(function(e) {
                    e(i)
                }
                )
        }
    }),
    e("promise/utils", ["exports"], function(e) {
        "use strict";
        function i(e) {
            return "function" == typeof e
        }
        var o = Date.now || function() {
            return (new Date).getTime()
        }
        ;
        e.objectOrFunction = function(e) {
            return i(e) || "object" == typeof e && null !== e
        }
        ,
        e.isFunction = i,
        e.isArray = function(e) {
            return "[object Array]" === Object.prototype.toString.call(e)
        }
        ,
        e.now = o
    }),
    c("promise/polyfill").polyfill()
}
)(),
function() {
    "use strict";
    var p = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"
      , l = "__lfsc__:"
      , a = l.length
      , u = a + "arbf".length;
    function c(e) {
        var i, o, r, a, l = .75 * e.length, u = e.length, c = 0;
        if ("=" === e[e.length - 1])
            if (l--,
            "=" === e[e.length - 2])
                l--;
        for (var l = new ArrayBuffer(l), d = new Uint8Array(l), h = 0; h < u; h += 4)
            i = p.indexOf(e[h]),
            o = p.indexOf(e[h + 1]),
            r = p.indexOf(e[h + 2]),
            a = p.indexOf(e[h + 3]),
            d[c++] = i << 2 | o >> 4,
            d[c++] = (15 & o) << 4 | r >> 2,
            d[c++] = (3 & r) << 6 | 63 & a;
        return l
    }
    function d(e) {
        for (var i = new Uint8Array(e), o = "", r = 0; r < i.length; r += 3)
            o = (o = (o = (o += p[i[r] >> 2]) + p[(3 & i[r]) << 4 | i[r + 1] >> 4]) + p[(15 & i[r + 1]) << 2 | i[r + 2] >> 6]) + p[63 & i[r + 2]];
        if (i.length % 3 == 2)
            o = o.substring(0, o.length - 1) + "=";
        else if (i.length % 3 == 1)
            o = o.substring(0, o.length - 2) + "==";
        return o
    }
    var e = {
        serialize: function(i, o) {
            var e = "";
            if (i)
                e = i.toString();
            if (i && ("[object ArrayBuffer]" === i.toString() || i.buffer && "[object ArrayBuffer]" === i.buffer.toString())) {
                var r, a = l;
                if (i instanceof ArrayBuffer)
                    r = i,
                    a += "arbf";
                else if (r = i.buffer,
                "[object Int8Array]" === e)
                    a += "si08";
                else if ("[object Uint8Array]" === e)
                    a += "ui08";
                else if ("[object Uint8ClampedArray]" === e)
                    a += "uic8";
                else if ("[object Int16Array]" === e)
                    a += "si16";
                else if ("[object Uint16Array]" === e)
                    a += "ur16";
                else if ("[object Int32Array]" === e)
                    a += "si32";
                else if ("[object Uint32Array]" === e)
                    a += "ui32";
                else if ("[object Float32Array]" === e)
                    a += "fl32";
                else if ("[object Float64Array]" === e)
                    a += "fl64";
                else
                    o(new Error("Failed to get type for BinaryArray"));
                o(a + d(r))
            } else if ("[object Blob]" === e) {
                a = new FileReader;
                a.onload = function() {
                    var e = d(this.result);
                    o(l + "blob" + e)
                }
                ,
                a.readAsArrayBuffer(i)
            } else
                try {
                    o(JSON.stringify(i))
                } catch (e) {
                    window.console.error("Couldn't convert value into a JSON string: ", i),
                    o(null, e)
                }
        },
        deserialize: function(e) {
            if (e.substring(0, a) !== l)
                return JSON.parse(e);
            var i = e.substring(u)
              , o = e.substring(a, u)
              , r = c(i);
            switch (o) {
            case "arbf":
                return r;
            case "blob":
                return new Blob([r]);
            case "si08":
                return new Int8Array(r);
            case "ui08":
                return new Uint8Array(r);
            case "uic8":
                return new Uint8ClampedArray(r);
            case "si16":
                return new Int16Array(r);
            case "ur16":
                return new Uint16Array(r);
            case "si32":
                return new Int32Array(r);
            case "ui32":
                return new Uint32Array(r);
            case "fl32":
                return new Float32Array(r);
            case "fl64":
                return new Float64Array(r);
            default:
                throw new Error("Unkown type: " + o)
            }
        },
        stringToBuffer: c,
        bufferToString: d
    };
    if ("undefined" != typeof module && module.exports && "undefined" != typeof require)
        module.exports = e;
    else if ("function" == typeof define && define.amd)
        define("localforageSerializer", function() {
            return e
        });
    else
        this.localforageSerializer = e
}
.call(window),
function() {
    "use strict";
    var o = "undefined" != typeof module && module.exports && "undefined" != typeof require ? require("promise") : this.Promise
      , l = l || this.indexedDB || this.webkitIndexedDB || this.mozIndexedDB || this.OIndexedDB || this.msIndexedDB;
    if (!l)
        ;
    else {
        var e = {
            _driver: "asyncStorage",
            _initStorage: function(e) {
                var r = this
                  , a = {
                    db: null
                };
                if (e)
                    for (var i in e)
                        a[i] = e[i];
                return new o(function(e, i) {
                    var o = l.open(a.name, a.version);
                    o.onerror = function() {
                        i(o.error)
                    }
                    ,
                    o.onupgradeneeded = function() {
                        o.result.createObjectStore(a.storeName)
                    }
                    ,
                    o.onsuccess = function() {
                        a.db = o.result,
                        r._dbInfo = a,
                        e()
                    }
                }
                )
            },
            iterate: function(l, e) {
                var u = this
                  , i = new o(function(a, i) {
                    u.ready().then(function() {
                        var e = u._dbInfo
                          , o = e.db.transaction(e.storeName, "readonly").objectStore(e.storeName).openCursor()
                          , r = 1;
                        o.onsuccess = function() {
                            var e = o.result;
                            if (e) {
                                var i = l(e.value, e.key, r++);
                                if (void 0 !== i)
                                    a(i);
                                else
                                    e.continue()
                            } else
                                a()
                        }
                        ,
                        o.onerror = function() {
                            i(o.error)
                        }
                    }).catch(i)
                }
                );
                return r(i, e),
                i
            },
            getItem: function(a, e) {
                var l = this;
                if ("string" != typeof a)
                    window.console.warn(a + " used as a key, but it is not a string."),
                    a = String(a);
                var i = new o(function(o, r) {
                    l.ready().then(function() {
                        var e = l._dbInfo
                          , i = e.db.transaction(e.storeName, "readonly").objectStore(e.storeName).get(a);
                        i.onsuccess = function() {
                            var e = i.result;
                            if (void 0 === e)
                                e = null;
                            o(e)
                        }
                        ,
                        i.onerror = function() {
                            r(i.error)
                        }
                    }).catch(r)
                }
                );
                return r(i, e),
                i
            },
            setItem: function(l, u, e) {
                var c = this;
                if ("string" != typeof l)
                    window.console.warn(l + " used as a key, but it is not a string."),
                    l = String(l);
                var i = new o(function(r, a) {
                    c.ready().then(function() {
                        var e = c._dbInfo
                          , i = e.db.transaction(e.storeName, "readwrite")
                          , e = i.objectStore(e.storeName);
                        if (null === u)
                            u = void 0;
                        var o = e.put(u, l);
                        i.oncomplete = function() {
                            if (void 0 === u)
                                u = null;
                            r(u)
                        }
                        ,
                        i.onabort = i.onerror = function() {
                            var e = o.error ? o.error : o.transaction.error;
                            a(e)
                        }
                    }).catch(a)
                }
                );
                return r(i, e),
                i
            },
            removeItem: function(l, e) {
                var u = this;
                if ("string" != typeof l)
                    window.console.warn(l + " used as a key, but it is not a string."),
                    l = String(l);
                var i = new o(function(r, a) {
                    u.ready().then(function() {
                        var e = u._dbInfo
                          , i = e.db.transaction(e.storeName, "readwrite")
                          , o = i.objectStore(e.storeName).delete(l);
                        i.oncomplete = function() {
                            r()
                        }
                        ,
                        i.onerror = function() {
                            a(o.error)
                        }
                        ,
                        i.onabort = function() {
                            var e = o.error ? o.error : o.transaction.error;
                            a(e)
                        }
                    }).catch(a)
                }
                );
                return r(i, e),
                i
            },
            clear: function(e) {
                var l = this
                  , i = new o(function(r, a) {
                    l.ready().then(function() {
                        var e = l._dbInfo
                          , i = e.db.transaction(e.storeName, "readwrite")
                          , o = i.objectStore(e.storeName).clear();
                        i.oncomplete = function() {
                            r()
                        }
                        ,
                        i.onabort = i.onerror = function() {
                            var e = o.error ? o.error : o.transaction.error;
                            a(e)
                        }
                    }).catch(a)
                }
                );
                return r(i, e),
                i
            },
            length: function(e) {
                var a = this
                  , i = new o(function(o, r) {
                    a.ready().then(function() {
                        var e = a._dbInfo
                          , i = e.db.transaction(e.storeName, "readonly").objectStore(e.storeName).count();
                        i.onsuccess = function() {
                            o(i.result)
                        }
                        ,
                        i.onerror = function() {
                            r(i.error)
                        }
                    }).catch(r)
                }
                );
                return r(i, e),
                i
            },
            key: function(n, e) {
                var l = this
                  , i = new o(function(r, a) {
                    if (n < 0)
                        r(null);
                    else
                        l.ready().then(function() {
                            var e = l._dbInfo
                              , e = e.db.transaction(e.storeName, "readonly").objectStore(e.storeName)
                              , i = !1
                              , o = e.openCursor();
                            o.onsuccess = function() {
                                var e = o.result;
                                if (!e)
                                    r(null);
                                else if (0 === n)
                                    r(e.key);
                                else if (!i)
                                    i = !0,
                                    e.advance(n);
                                else
                                    r(e.key)
                            }
                            ,
                            o.onerror = function() {
                                a(o.error)
                            }
                        }).catch(a)
                }
                );
                return r(i, e),
                i
            },
            keys: function(e) {
                var l = this
                  , i = new o(function(r, a) {
                    l.ready().then(function() {
                        var e = l._dbInfo
                          , i = e.db.transaction(e.storeName, "readonly").objectStore(e.storeName).openCursor()
                          , o = [];
                        i.onsuccess = function() {
                            var e = i.result;
                            if (!e)
                                r(o);
                            else
                                o.push(e.key),
                                e.continue()
                        }
                        ,
                        i.onerror = function() {
                            a(i.error)
                        }
                    }).catch(a)
                }
                );
                return r(i, e),
                i
            }
        };
        if ("undefined" != typeof module && module.exports && "undefined" != typeof require)
            module.exports = e;
        else if ("function" == typeof define && define.amd)
            define("asyncStorage", function() {
                return e
            });
        else
            this.asyncStorage = e
    }
    function r(e, i) {
        if (i)
            e.then(function(e) {
                i(null, e)
            }, function(e) {
                i(e)
            })
    }
}
.call(window),
function() {
    "use strict";
    var r = "undefined" != typeof module && module.exports && "undefined" != typeof require ? require("promise") : this.Promise
      , a = this
      , d = null
      , h = null;
    try {
        if (!(this.localStorage && "setItem"in this.localStorage))
            return;
        h = this.localStorage
    } catch (e) {
        return
    }
    var l = {
        DEFINE: 1,
        EXPORT: 2,
        WINDOW: 3
    }
      , u = l.WINDOW;
    if ("undefined" != typeof module && module.exports && "undefined" != typeof require)
        u = l.EXPORT;
    else if ("function" == typeof define && define.amd)
        u = l.DEFINE;
    function p(e, i) {
        if (i)
            e.then(function(e) {
                i(null, e)
            }, function(e) {
                i(e)
            })
    }
    var e = {
        _driver: "localStorageWrapper",
        _initStorage: function(e) {
            var i = {};
            if (e)
                for (var o in e)
                    i[o] = e[o];
            return i.keyPrefix = i.name + "/",
            this._dbInfo = i,
            new r(function(e) {
                if (u === l.DEFINE)
                    require(["localforageSerializer"], e);
                else if (u === l.EXPORT)
                    e(require("./../utils/serializer"));
                else
                    e(a.localforageSerializer)
            }
            ).then(function(e) {
                return d = e,
                r.resolve()
            })
        },
        iterate: function(l, e) {
            var u = this
              , i = u.ready().then(function() {
                for (var e = u._dbInfo.keyPrefix.length, i = h.length, o = 0; o < i; o++) {
                    var r = h.key(o)
                      , a = h.getItem(r);
                    if (a)
                        a = d.deserialize(a);
                    if (void 0 !== (a = l(a, r.substring(e), o + 1)))
                        return a
                }
            });
            return p(i, e),
            i
        },
        getItem: function(i, e) {
            var o = this;
            if ("string" != typeof i)
                window.console.warn(i + " used as a key, but it is not a string."),
                i = String(i);
            var r = o.ready().then(function() {
                var e = o._dbInfo
                  , e = h.getItem(e.keyPrefix + i);
                if (e)
                    e = d.deserialize(e);
                return e
            });
            return p(r, e),
            r
        },
        setItem: function(u, e, i) {
            var c = this;
            if ("string" != typeof u)
                window.console.warn(u + " used as a key, but it is not a string."),
                u = String(u);
            var o = c.ready().then(function() {
                if (void 0 === e)
                    e = null;
                var l = e;
                return new r(function(r, a) {
                    d.serialize(e, function(e, i) {
                        if (i)
                            a(i);
                        else
                            try {
                                var o = c._dbInfo;
                                h.setItem(o.keyPrefix + u, e),
                                r(l)
                            } catch (e) {
                                if ("QuotaExceededError" === e.name || "NS_ERROR_DOM_QUOTA_REACHED" === e.name)
                                    a(e);
                                a(e)
                            }
                    })
                }
                )
            });
            return p(o, i),
            o
        },
        removeItem: function(i, e) {
            var o = this;
            if ("string" != typeof i)
                window.console.warn(i + " used as a key, but it is not a string."),
                i = String(i);
            var r = o.ready().then(function() {
                var e = o._dbInfo;
                h.removeItem(e.keyPrefix + i)
            });
            return p(r, e),
            r
        },
        clear: function(e) {
            var r = this
              , i = r.ready().then(function() {
                for (var e = r._dbInfo.keyPrefix, i = h.length - 1; 0 <= i; i--) {
                    var o = h.key(i);
                    if (0 === o.indexOf(e))
                        h.removeItem(o)
                }
            });
            return p(i, e),
            i
        },
        length: function(e) {
            var i = this.keys().then(function(e) {
                return e.length
            });
            return p(i, e),
            i
        },
        key: function(n, e) {
            var o = this
              , i = o.ready().then(function() {
                var i, e = o._dbInfo;
                try {
                    i = h.key(n)
                } catch (e) {
                    i = null
                }
                if (i)
                    i = i.substring(e.keyPrefix.length);
                return i
            });
            return p(i, e),
            i
        },
        keys: function(e) {
            var a = this
              , i = a.ready().then(function() {
                for (var e = a._dbInfo, i = h.length, o = [], r = 0; r < i; r++)
                    if (0 === h.key(r).indexOf(e.keyPrefix))
                        o.push(h.key(r).substring(e.keyPrefix.length));
                return o
            });
            return p(i, e),
            i
        }
    };
    if (u === l.EXPORT)
        module.exports = e;
    else if (u === l.DEFINE)
        define("localStorageWrapper", function() {
            return e
        });
    else
        this.localStorageWrapper = e
}
.call(window),
function() {
    "use strict";
    var d = "undefined" != typeof module && module.exports && "undefined" != typeof require ? require("promise") : this.Promise
      , u = this
      , h = null
      , c = this.openDatabase;
    if (!c)
        ;
    else {
        var p = {
            DEFINE: 1,
            EXPORT: 2,
            WINDOW: 3
        }
          , f = p.WINDOW;
        if ("undefined" != typeof module && module.exports && "undefined" != typeof require)
            f = p.EXPORT;
        else if ("function" == typeof define && define.amd)
            f = p.DEFINE;
        var e = {
            _driver: "webSQLStorage",
            _initStorage: function(r) {
                var a = this
                  , e = {
                    db: null
                };
                if (r)
                    for (var i in r)
                        e[i] = "string" != typeof r[i] ? r[i].toString() : r[i];
                var o = new d(function(e) {
                    if (f === p.DEFINE)
                        require(["localforageSerializer"], e);
                    else if (f === p.EXPORT)
                        e(require("./../utils/serializer"));
                    else
                        e(u.localforageSerializer)
                }
                )
                  , l = new d(function(i, o) {
                    try {
                        e.db = c(e.name, String(e.version), e.description, e.size)
                    } catch (e) {
                        return a.setDriver(a.LOCALSTORAGE).then(function() {
                            return a._initStorage(r)
                        }).then(i).catch(o)
                    }
                    e.db.transaction(function(t) {
                        t.executeSql("CREATE TABLE IF NOT EXISTS " + e.storeName + " (id INTEGER PRIMARY KEY, key unique, value)", [], function() {
                            a._dbInfo = e,
                            i()
                        }, function(t, e) {
                            o(e)
                        })
                    })
                }
                );
                return o.then(function(e) {
                    return h = e,
                    l
                })
            },
            iterate: function(c, e) {
                var o = this
                  , i = new d(function(u, i) {
                    o.ready().then(function() {
                        var e = o._dbInfo;
                        e.db.transaction(function(t) {
                            t.executeSql("SELECT * FROM " + e.storeName, [], function(t, e) {
                                for (var i = e.rows, o = i.length, r = 0; r < o; r++) {
                                    var a = i.item(r)
                                      , l = a.value;
                                    if (l)
                                        l = h.deserialize(l);
                                    if (void 0 !== (l = c(l, a.key, r + 1)))
                                        return void u(l)
                                }
                                u()
                            }, function(t, e) {
                                i(e)
                            })
                        })
                    }).catch(i)
                }
                );
                return l(i, e),
                i
            },
            getItem: function(r, e) {
                var a = this;
                if ("string" != typeof r)
                    window.console.warn(r + " used as a key, but it is not a string."),
                    r = String(r);
                var i = new d(function(i, o) {
                    a.ready().then(function() {
                        var e = a._dbInfo;
                        e.db.transaction(function(t) {
                            t.executeSql("SELECT * FROM " + e.storeName + " WHERE key = ? LIMIT 1", [r], function(t, e) {
                                e = e.rows.length ? e.rows.item(0).value : null;
                                if (e)
                                    e = h.deserialize(e);
                                i(e)
                            }, function(t, e) {
                                o(e)
                            })
                        })
                    }).catch(o)
                }
                );
                return l(i, e),
                i
            },
            setItem: function(u, e, i) {
                var c = this;
                if ("string" != typeof u)
                    window.console.warn(u + " used as a key, but it is not a string."),
                    u = String(u);
                var o = new d(function(a, l) {
                    c.ready().then(function() {
                        if (void 0 === e)
                            e = null;
                        var r = e;
                        h.serialize(e, function(e, i) {
                            if (i)
                                l(i);
                            else {
                                var o = c._dbInfo;
                                o.db.transaction(function(t) {
                                    t.executeSql("INSERT OR REPLACE INTO " + o.storeName + " (key, value) VALUES (?, ?)", [u, e], function() {
                                        a(r)
                                    }, function(t, e) {
                                        l(e)
                                    })
                                }, function(e) {
                                    if (e.code === e.QUOTA_ERR)
                                        l(e)
                                })
                            }
                        })
                    }).catch(l)
                }
                );
                return l(o, i),
                o
            },
            removeItem: function(r, e) {
                var a = this;
                if ("string" != typeof r)
                    window.console.warn(r + " used as a key, but it is not a string."),
                    r = String(r);
                var i = new d(function(i, o) {
                    a.ready().then(function() {
                        var e = a._dbInfo;
                        e.db.transaction(function(t) {
                            t.executeSql("DELETE FROM " + e.storeName + " WHERE key = ?", [r], function() {
                                i()
                            }, function(t, e) {
                                o(e)
                            })
                        })
                    }).catch(o)
                }
                );
                return l(i, e),
                i
            },
            clear: function(e) {
                var r = this
                  , i = new d(function(i, o) {
                    r.ready().then(function() {
                        var e = r._dbInfo;
                        e.db.transaction(function(t) {
                            t.executeSql("DELETE FROM " + e.storeName, [], function() {
                                i()
                            }, function(t, e) {
                                o(e)
                            })
                        })
                    }).catch(o)
                }
                );
                return l(i, e),
                i
            },
            length: function(e) {
                var r = this
                  , i = new d(function(i, o) {
                    r.ready().then(function() {
                        var e = r._dbInfo;
                        e.db.transaction(function(t) {
                            t.executeSql("SELECT COUNT(key) as c FROM " + e.storeName, [], function(t, e) {
                                e = e.rows.item(0).c;
                                i(e)
                            }, function(t, e) {
                                o(e)
                            })
                        })
                    }).catch(o)
                }
                );
                return l(i, e),
                i
            },
            key: function(n, e) {
                var r = this
                  , i = new d(function(i, o) {
                    r.ready().then(function() {
                        var e = r._dbInfo;
                        e.db.transaction(function(t) {
                            t.executeSql("SELECT key FROM " + e.storeName + " WHERE id = ? LIMIT 1", [n + 1], function(t, e) {
                                e = e.rows.length ? e.rows.item(0).key : null;
                                i(e)
                            }, function(t, e) {
                                o(e)
                            })
                        })
                    }).catch(o)
                }
                );
                return l(i, e),
                i
            },
            keys: function(e) {
                var o = this
                  , i = new d(function(r, i) {
                    o.ready().then(function() {
                        var e = o._dbInfo;
                        e.db.transaction(function(t) {
                            t.executeSql("SELECT key FROM " + e.storeName, [], function(t, e) {
                                for (var i = [], o = 0; o < e.rows.length; o++)
                                    i.push(e.rows.item(o).key);
                                r(i)
                            }, function(t, e) {
                                i(e)
                            })
                        })
                    }).catch(i)
                }
                );
                return l(i, e),
                i
            }
        };
        if (f === p.DEFINE)
            define("webSQLStorage", function() {
                return e
            });
        else if (f === p.EXPORT)
            module.exports = e;
        else
            this.webSQLStorage = e
    }
    function l(e, i) {
        if (i)
            e.then(function(e) {
                i(null, e)
            }, function(e) {
                i(e)
            })
    }
}
.call(window),
function() {
    "use strict";
    var p = "undefined" != typeof module && module.exports && "undefined" != typeof require ? require("promise") : this.Promise
      , f = {}
      , o = {
        INDEXEDDB: "asyncStorage",
        LOCALSTORAGE: "localStorageWrapper",
        WEBSQL: "webSQLStorage"
    }
      , e = [o.INDEXEDDB, o.WEBSQL, o.LOCALSTORAGE]
      , g = ["clear", "getItem", "iterate", "key", "keys", "length", "removeItem", "setItem"]
      , u = 1
      , c = 2
      , i = 3
      , r = {
        description: "",
        driver: e.slice(),
        name: "localforage",
        size: 4980736,
        storeName: "keyvaluepairs",
        version: 1
    }
      , d = i;
    if ("undefined" != typeof module && module.exports && "undefined" != typeof require)
        d = c;
    else if ("function" == typeof define && define.amd)
        d = u;
    l = (a = this).indexedDB || a.webkitIndexedDB || a.mozIndexedDB || a.OIndexedDB || a.msIndexedDB,
    (e = {})[o.WEBSQL] = !!a.openDatabase,
    e[o.INDEXEDDB] = !!function() {
        if (void 0 !== a.openDatabase && a.navigator && a.navigator.userAgent && /Safari/.test(a.navigator.userAgent) && !/Chrome/.test(a.navigator.userAgent))
            ;
        else
            try {
                return l && "function" == typeof l.open && void 0 !== a.IDBKeyRange
            } catch (e) {}
    }(),
    e[o.LOCALSTORAGE] = !!function() {
        try {
            return a.localStorage && "setItem"in a.localStorage && a.localStorage.setItem
        } catch (e) {}
    }();
    var a, l, m = e, h = Array.isArray || function(e) {
        return "[object Array]" === Object.prototype.toString.call(e)
    }
    ;
    function w(e) {
        for (var i = 1; i < arguments.length; i++) {
            var o = arguments[i];
            if (o)
                for (var r in o)
                    if (o.hasOwnProperty(r))
                        if (h(o[r]))
                            e[r] = o[r].slice();
                        else
                            e[r] = o[r]
        }
        return e
    }
    function v(e) {
        for (var i in o)
            if (o.hasOwnProperty(i) && o[i] === e)
                return 1
    }
    var y = this;
    function b(e) {
        this._config = w({}, r, e),
        this._driverSet = null,
        this._ready = !1,
        this._dbInfo = null;
        for (var i = 0; i < g.length; i++)
            (function(i, o) {
                i[o] = function() {
                    var e = arguments;
                    return i.ready().then(function() {
                        return i[o].apply(i, e)
                    })
                }
            }
            )(this, g[i]);
        this.setDriver(this._config.driver)
    }
    b.prototype.INDEXEDDB = o.INDEXEDDB,
    b.prototype.LOCALSTORAGE = o.LOCALSTORAGE,
    b.prototype.WEBSQL = o.WEBSQL,
    b.prototype.config = function(e) {
        if ("object" == typeof e) {
            if (this._ready)
                return new Error("Can't call config() after localforage has been used.");
            for (var i in e) {
                if ("storeName" === i)
                    e[i] = e[i].replace(/\W/g, "_");
                this._config[i] = e[i]
            }
            if ("driver"in e && e.driver)
                this.setDriver(this._config.driver);
            return !0
        } else if ("string" == typeof e)
            return this._config[e];
        else
            return this._config
    }
    ,
    b.prototype.defineDriver = function(h, e, i) {
        var o = new p(function(i, o) {
            try {
                var r = h._driver
                  , e = new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver")
                  , a = new Error("Custom driver name already in use: " + h._driver);
                if (!h._driver)
                    o(e);
                else if (v(h._driver))
                    o(a);
                else {
                    for (var l = g.concat("_initStorage"), u = 0; u < l.length; u++) {
                        var c = l[u];
                        if (!c || !h[c] || "function" != typeof h[c])
                            return void o(e)
                    }
                    var d = p.resolve(!0);
                    if ("_support"in h)
                        if (h._support && "function" == typeof h._support)
                            d = h._support();
                        else
                            d = p.resolve(!!h._support);
                    d.then(function(e) {
                        m[r] = e,
                        f[r] = h,
                        i()
                    }, o)
                }
            } catch (e) {
                o(e)
            }
        }
        );
        return o.then(e, i),
        o
    }
    ,
    b.prototype.driver = function() {
        return this._driver || null
    }
    ,
    b.prototype.ready = function(e) {
        var o = this
          , i = new p(function(e, i) {
            o._driverSet.then(function() {
                if (null === o._ready)
                    o._ready = o._initStorage(o._config);
                o._ready.then(e, i)
            }).catch(i)
        }
        );
        return i.then(e, e),
        i
    }
    ,
    b.prototype.setDriver = function(a, e, i) {
        var l = this;
        if ("string" == typeof a)
            a = [a];
        function o() {
            l._config.driver = l.driver()
        }
        return this._driverSet = new p(function(i, e) {
            var o = l._getFirstSupportedDriver(a)
              , r = new Error("No available storage method found.");
            if (!o)
                l._driverSet = p.reject(r),
                e(r);
            else if (l._dbInfo = null,
            l._ready = null,
            v(o))
                new p(function(e) {
                    if (d === u)
                        require([o], e);
                    else if (d === c)
                        switch (o) {
                        case l.INDEXEDDB:
                            e(require("./drivers/indexeddb"));
                            break;
                        case l.LOCALSTORAGE:
                            e(require("./drivers/localstorage"));
                            break;
                        case l.WEBSQL:
                            e(require("./drivers/websql"))
                        }
                    else
                        e(y[o])
                }
                ).then(function(e) {
                    l._extend(e),
                    i()
                });
            else if (f[o])
                l._extend(f[o]),
                i();
            else
                l._driverSet = p.reject(r),
                e(r)
        }
        ),
        this._driverSet.then(o, o),
        this._driverSet.then(e, i),
        this._driverSet
    }
    ,
    b.prototype.supports = function(e) {
        return !!m[e]
    }
    ,
    b.prototype._extend = function(e) {
        w(this, e)
    }
    ,
    b.prototype._getFirstSupportedDriver = function(e) {
        if (e && h(e))
            for (var i = 0; i < e.length; i++) {
                var o = e[i];
                if (this.supports(o))
                    return o
            }
        return null
    }
    ,
    b.prototype.createInstance = function(e) {
        return new b(e)
    }
    ;
    var C = new b;
    if (d === u)
        define("localforage", function() {
            return C
        });
    else if (d === c)
        module.exports = C;
    else
        this.localforage = C
}
.call(window),
function() {
    var root = this, timezoneJS;
    if ("undefined" != typeof exports)
        timezoneJS = exports;
    else
        timezoneJS = root.timezoneJS = {};
    timezoneJS.VERSION = "1.0.0";
    for (var $ = root.$ || root.jQuery || root.Zepto, fleegix = root.fleegix, DAYS = timezoneJS.Days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], MONTHS = timezoneJS.Months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], SHORT_MONTHS = {}, SHORT_DAYS = {}, EXACT_DATE_TIME = {}, TZ_REGEXP = new RegExp("^[a-zA-Z]+/"), i = 0; i < MONTHS.length; i++)
        SHORT_MONTHS[MONTHS[i].substr(0, 3)] = i;
    for (i = 0; i < DAYS.length; i++)
        SHORT_DAYS[DAYS[i].substr(0, 3)] = i;
    if (!Array.prototype.indexOf)
        Array.prototype.indexOf = function(e) {
            for (var i = 0; i < this.length; i++)
                if (e === this[i])
                    return i;
            return -1
        }
        ;
    var _fixWidth = function(e, i) {
        if ("number" != typeof e)
            throw "not a number: " + e;
        var s = e.toString();
        if (e.length > i)
            return e.substr(e.length - i, e.length);
        for (; s.length < i; )
            s = "0" + s;
        return s
    }
      , _transport = function(e) {
        if (!(fleegix && void 0 !== fleegix.xhr || $ && void 0 !== $.ajax))
            throw new Error("Please use the Fleegix.js XHR module, jQuery ajax, Zepto ajax, or define your own transport mechanism for downloading zone files.");
        if (!e)
            ;
        else {
            if (!e.url)
                throw new Error("URL must be specified");
            if (!("async"in e))
                e.async = !0;
            if (e.async)
                return fleegix && fleegix.xhr ? fleegix.xhr.send({
                    url: e.url,
                    method: "get",
                    handleSuccess: e.success,
                    handleErr: e.error
                }) : $.ajax({
                    url: e.url,
                    dataType: "text",
                    method: "GET",
                    error: e.error,
                    success: e.success
                });
            else
                return fleegix && fleegix.xhr ? fleegix.xhr.doReq({
                    url: e.url,
                    async: !1
                }) : $.ajax({
                    url: e.url,
                    async: !1
                }).responseText
        }
    };
    timezoneJS.Date = function() {
        var e, i = Array.prototype.slice.apply(arguments), o = null, r = [];
        if ("[object Array]" === Object.prototype.toString.call(i[0]))
            i = i[0];
        if ("string" == typeof i[i.length - 1] && TZ_REGEXP.test(i[i.length - 1]))
            o = i.pop();
        switch (i.length) {
        case 0:
            e = new Date;
            break;
        case 1:
            e = new Date(i[0]);
            break;
        default:
            for (var a = 0; a < 7; a++)
                r[a] = i[a] || 0;
            e = new Date(r[0],r[1],r[2],r[3],r[4],r[5],r[6])
        }
        if (this._useCache = !1,
        this._tzInfo = {},
        this._day = 0,
        this.year = 0,
        this.month = 0,
        this.date = 0,
        this.hours = 0,
        this.minutes = 0,
        this.seconds = 0,
        this.milliseconds = 0,
        this.timezone = o || null,
        r.length)
            this.setFromDateObjProxy(e);
        else
            this.setFromTimeProxy(e.getTime(), o)
    }
    ,
    timezoneJS.Date.prototype = {
        getDate: function() {
            return this.date
        },
        getDay: function() {
            return this._day
        },
        getFullYear: function() {
            return this.year
        },
        getMonth: function() {
            return this.month
        },
        getYear: function() {
            return this.year
        },
        getHours: function() {
            return this.hours
        },
        getMilliseconds: function() {
            return this.milliseconds
        },
        getMinutes: function() {
            return this.minutes
        },
        getSeconds: function() {
            return this.seconds
        },
        getUTCDate: function() {
            return this.getUTCDateProxy().getUTCDate()
        },
        getUTCDay: function() {
            return this.getUTCDateProxy().getUTCDay()
        },
        getUTCFullYear: function() {
            return this.getUTCDateProxy().getUTCFullYear()
        },
        getUTCHours: function() {
            return this.getUTCDateProxy().getUTCHours()
        },
        getUTCMilliseconds: function() {
            return this.getUTCDateProxy().getUTCMilliseconds()
        },
        getUTCMinutes: function() {
            return this.getUTCDateProxy().getUTCMinutes()
        },
        getUTCMonth: function() {
            return this.getUTCDateProxy().getUTCMonth()
        },
        getUTCSeconds: function() {
            return this.getUTCDateProxy().getUTCSeconds()
        },
        getTime: function() {
            return this._timeProxy + 60 * this.getTimezoneOffset() * 1e3
        },
        getTimezone: function() {
            return this.timezone
        },
        getTimezoneOffset: function() {
            return this.getTimezoneInfo().tzOffset
        },
        getTimezoneAbbreviation: function() {
            return this.getTimezoneInfo().tzAbbr
        },
        getTimezoneInfo: function() {
            if (this._useCache)
                return this._tzInfo;
            var e;
            if (this.timezone)
                e = "Etc/UTC" === this.timezone || "Etc/GMT" === this.timezone ? {
                    tzOffset: 0,
                    tzAbbr: "UTC"
                } : timezoneJS.timezone.getTzInfo(this._timeProxy, this.timezone);
            else
                e = {
                    tzOffset: this.getLocalOffset(),
                    tzAbbr: null
                };
            return this._tzInfo = e,
            this._useCache = !0,
            e
        },
        getUTCDateProxy: function() {
            var e = new Date(this._timeProxy);
            return e.setUTCMinutes(e.getUTCMinutes() + this.getTimezoneOffset()),
            e
        },
        setDate: function(n) {
            this.setAttribute("date", n)
        },
        setFullYear: function(n) {
            this.setAttribute("year", n)
        },
        setMonth: function(n) {
            this.setAttribute("month", n)
        },
        setYear: function(n) {
            this.setUTCAttribute("year", n)
        },
        setHours: function(n) {
            this.setAttribute("hours", n)
        },
        setMilliseconds: function(n) {
            this.setAttribute("milliseconds", n)
        },
        setMinutes: function(n) {
            this.setAttribute("minutes", n)
        },
        setSeconds: function(n) {
            this.setAttribute("seconds", n)
        },
        setTime: function(n) {
            if (isNaN(n))
                throw new Error("Units must be a number.");
            this.setFromTimeProxy(n, this.timezone)
        },
        setUTCDate: function(n) {
            this.setUTCAttribute("date", n)
        },
        setUTCFullYear: function(n) {
            this.setUTCAttribute("year", n)
        },
        setUTCHours: function(n) {
            this.setUTCAttribute("hours", n)
        },
        setUTCMilliseconds: function(n) {
            this.setUTCAttribute("milliseconds", n)
        },
        setUTCMinutes: function(n) {
            this.setUTCAttribute("minutes", n)
        },
        setUTCMonth: function(n) {
            this.setUTCAttribute("month", n)
        },
        setUTCSeconds: function(n) {
            this.setUTCAttribute("seconds", n)
        },
        setFromDateObjProxy: function(e) {
            this.year = e.getFullYear(),
            this.month = e.getMonth(),
            this.date = e.getDate(),
            this.hours = e.getHours(),
            this.minutes = e.getMinutes(),
            this.seconds = e.getSeconds(),
            this.milliseconds = e.getMilliseconds(),
            this._day = e.getDay(),
            this._dateProxy = e,
            this._timeProxy = Date.UTC(this.year, this.month, this.date, this.hours, this.minutes, this.seconds, this.milliseconds),
            this._useCache = !1
        },
        setFromTimeProxy: function(e, i) {
            var o = new Date(e)
              , i = i ? timezoneJS.timezone.getTzInfo(o, i).tzOffset : o.getTimezoneOffset();
            o.setTime(e + 6e4 * (o.getTimezoneOffset() - i)),
            this.setFromDateObjProxy(o)
        },
        setAttribute: function(e, n) {
            if (isNaN(n))
                throw new Error("Units must be a number.");
            var i = this._dateProxy;
            i["set" + ("year" === e ? "FullYear" : e.substr(0, 1).toUpperCase() + e.substr(1))](n),
            this.setFromDateObjProxy(i)
        },
        setUTCAttribute: function(e, n) {
            if (isNaN(n))
                throw new Error("Units must be a number.");
            var e = "year" === e ? "FullYear" : e.substr(0, 1).toUpperCase() + e.substr(1)
              , i = this.getUTCDateProxy();
            i["setUTC" + e](n),
            i.setUTCMinutes(i.getUTCMinutes() - this.getTimezoneOffset()),
            this.setFromTimeProxy(i.getTime() + 6e4 * this.getTimezoneOffset(), this.timezone)
        },
        setTimezone: function(e) {
            var i = isNaN(this.getTimezoneInfo().tzOffset) ? 0 : this.getTimezoneInfo().tzOffset;
            this.timezone = e,
            this._useCache = !1,
            this.setUTCMinutes(this.getUTCMinutes() - this.getTimezoneInfo().tzOffset + i)
        },
        removeTimezone: function() {
            this.timezone = null,
            this._useCache = !1
        },
        valueOf: function() {
            return this.getTime()
        },
        clone: function() {
            return this.timezone ? new timezoneJS.Date(this.getTime(),this.timezone) : new timezoneJS.Date(this.getTime())
        },
        toGMTString: function() {
            return this.toString("EEE, dd MMM yyyy HH:mm:ss Z", "Etc/GMT")
        },
        toLocaleString: function() {},
        toLocaleDateString: function() {},
        toLocaleTimeString: function() {},
        toSource: function() {},
        toISOString: function() {
            return this.toString("yyyy-MM-ddTHH:mm:ss.SSS", "Etc/UTC") + "Z"
        },
        toJSON: function() {
            return this.toISOString()
        },
        toString: function(e, i) {
            if (!e)
                e = "yyyy-MM-dd HH:mm:ss";
            var o = i ? timezoneJS.timezone.getTzInfo(this.getTime(), i) : this.getTimezoneInfo()
              , r = this;
            if (i)
                (r = this.clone()).setTimezone(i);
            var a = r.getHours();
            return e.replace(/a+/g, function() {
                return "k"
            }).replace(/y+/g, function(e) {
                return _fixWidth(r.getFullYear(), e.length)
            }).replace(/d+/g, function(e) {
                return _fixWidth(r.getDate(), e.length)
            }).replace(/m+/g, function(e) {
                return _fixWidth(r.getMinutes(), e.length)
            }).replace(/s+/g, function(e) {
                return _fixWidth(r.getSeconds(), e.length)
            }).replace(/S+/g, function(e) {
                return _fixWidth(r.getMilliseconds(), e.length)
            }).replace(/M+/g, function(e) {
                var i = r.getMonth()
                  , e = e.length;
                if (3 < e)
                    return timezoneJS.Months[i];
                else if (2 < e)
                    return timezoneJS.Months[i].substring(0, e);
                return _fixWidth(i + 1, e)
            }).replace(/k+/g, function() {
                if (12 <= a) {
                    if (12 < a)
                        a -= 12;
                    return "PM"
                }
                return "AM"
            }).replace(/H+/g, function(e) {
                return _fixWidth(a, e.length)
            }).replace(/E+/g, function(e) {
                return DAYS[r.getDay()].substring(0, e.length)
            }).replace(/Z+/gi, function() {
                return o.tzAbbr
            })
        },
        toUTCString: function() {
            return this.toGMTString()
        },
        civilToJulianDayNumber: function(e, i, o) {
            if (12 < ++i)
                r = parseInt(i / 12, 10),
                i %= 12,
                e += r;
            if (i <= 2)
                --e,
                i += 12;
            var r = 2 - (r = Math.floor(e / 100)) + Math.floor(r / 4);
            return Math.floor(365.25 * (e + 4716)) + Math.floor(30.6001 * (i + 1)) + o + r - 1524
        },
        getLocalOffset: function() {
            return this._dateProxy.getTimezoneOffset()
        }
    },
    timezoneJS.timezone = new function() {
        var _this = this
          , regionMap = {
            Etc: "etcetera",
            EST: "northamerica",
            MST: "northamerica",
            HST: "northamerica",
            EST5EDT: "northamerica",
            CST6CDT: "northamerica",
            MST7MDT: "northamerica",
            PST8PDT: "northamerica",
            America: "northamerica",
            Pacific: "australasia",
            Atlantic: "europe",
            Africa: "africa",
            Indian: "africa",
            Antarctica: "antarctica",
            Asia: "asia",
            Australia: "australasia",
            Europe: "europe",
            WET: "europe",
            CET: "europe",
            MET: "europe",
            EET: "europe"
        }
          , regionExceptions = {
            "Pacific/Honolulu": "northamerica",
            "Atlantic/Bermuda": "northamerica",
            "Atlantic/Cape_Verde": "africa",
            "Atlantic/St_Helena": "africa",
            "Indian/Kerguelen": "antarctica",
            "Indian/Chagos": "asia",
            "Indian/Maldives": "asia",
            "Indian/Christmas": "australasia",
            "Indian/Cocos": "australasia",
            "America/Danmarkshavn": "europe",
            "America/Scoresbysund": "europe",
            "America/Godthab": "europe",
            "America/Thule": "europe",
            "Asia/Yekaterinburg": "europe",
            "Asia/Omsk": "europe",
            "Asia/Novosibirsk": "europe",
            "Asia/Krasnoyarsk": "europe",
            "Asia/Irkutsk": "europe",
            "Asia/Yakutsk": "europe",
            "Asia/Vladivostok": "europe",
            "Asia/Sakhalin": "europe",
            "Asia/Magadan": "europe",
            "Asia/Kamchatka": "europe",
            "Asia/Anadyr": "europe",
            "Africa/Ceuta": "europe",
            "America/Argentina/Buenos_Aires": "southamerica",
            "America/Argentina/Cordoba": "southamerica",
            "America/Argentina/Tucuman": "southamerica",
            "America/Argentina/La_Rioja": "southamerica",
            "America/Argentina/San_Juan": "southamerica",
            "America/Argentina/Jujuy": "southamerica",
            "America/Argentina/Catamarca": "southamerica",
            "America/Argentina/Mendoza": "southamerica",
            "America/Argentina/Rio_Gallegos": "southamerica",
            "America/Argentina/Ushuaia": "southamerica",
            "America/Aruba": "southamerica",
            "America/La_Paz": "southamerica",
            "America/Noronha": "southamerica",
            "America/Belem": "southamerica",
            "America/Fortaleza": "southamerica",
            "America/Recife": "southamerica",
            "America/Araguaina": "southamerica",
            "America/Maceio": "southamerica",
            "America/Bahia": "southamerica",
            "America/Sao_Paulo": "southamerica",
            "America/Campo_Grande": "southamerica",
            "America/Cuiaba": "southamerica",
            "America/Porto_Velho": "southamerica",
            "America/Boa_Vista": "southamerica",
            "America/Manaus": "southamerica",
            "America/Eirunepe": "southamerica",
            "America/Rio_Branco": "southamerica",
            "America/Santiago": "southamerica",
            "Pacific/Easter": "southamerica",
            "America/Bogota": "southamerica",
            "America/Curacao": "southamerica",
            "America/Guayaquil": "southamerica",
            "Pacific/Galapagos": "southamerica",
            "Atlantic/Stanley": "southamerica",
            "America/Cayenne": "southamerica",
            "America/Guyana": "southamerica",
            "America/Asuncion": "southamerica",
            "America/Lima": "southamerica",
            "Atlantic/South_Georgia": "southamerica",
            "America/Paramaribo": "southamerica",
            "America/Port_of_Spain": "southamerica",
            "America/Montevideo": "southamerica",
            "America/Caracas": "southamerica"
        };
        function invalidTZError(t) {
            throw new Error('Timezone "' + t + '" is either incorrect, or not loaded in the timezone registry.')
        }
        function builtInLoadZoneFile(e, i) {
            var o = _this.zoneFileBasePath + "/" + e;
            return !i || !i.async ? _this.parseZones(_this.transport({
                url: o,
                async: !1
            })) : _this.transport({
                async: !0,
                url: o,
                success: function(e) {
                    if (_this.parseZones(e) && "function" == typeof i.callback)
                        i.callback();
                    return !0
                },
                error: function() {
                    throw new Error('Error retrieving "' + o + '" zoneinfo files')
                }
            })
        }
        function getRegionForTimezone(e) {
            var i = regionExceptions[e];
            if (i)
                return i;
            if (i = e.split("/")[0],
            i = regionMap[i])
                return i;
            i = _this.zones[e];
            if ("string" == typeof i)
                return getRegionForTimezone(i);
            if (!_this.loadedZones.backward)
                return _this.loadZoneFile("backward"),
                getRegionForTimezone(e);
            invalidTZError(e)
        }
        function parseTimeString(e) {
            e = e.match(/(\d+)(?::0*(\d*))?(?::0*(\d*))?([wsugz])?$/);
            return e[1] = parseInt(e[1], 10),
            e[2] = e[2] ? parseInt(e[2], 10) : 0,
            e[3] = e[3] ? parseInt(e[3], 10) : 0,
            e
        }
        function processZone(e) {
            if (!e[3])
                ;
            else {
                var i = parseInt(e[3], 10)
                  , o = 11
                  , r = 31;
                if (e[4])
                    o = SHORT_MONTHS[e[4].substr(0, 3)],
                    r = parseInt(e[5], 10) || 1;
                e = parseTimeString(e[6] ? e[6] : "00:00:00");
                return [i, o, r, e[1], e[2], e[3]]
            }
        }
        function getZone(e, i) {
            for (var o = "number" == typeof e ? e : new Date(e).getTime(), t = i, r = _this.zones[t]; "string" == typeof r; )
                t = r,
                r = _this.zones[t];
            if (!r) {
                if (!_this.loadedZones.backward)
                    return _this.loadZoneFile("backward"),
                    getZone(e, i);
                invalidTZError(t)
            }
            if (0 === r.length)
                throw new Error('No Zone found for "' + i + '" on ' + e);
            for (var a = r.length - 1; 0 <= a; a--) {
                var l = r[a];
                if (l[3] && o > l[3])
                    break
            }
            return r[a + 1]
        }
        function getBasicOffset(e) {
            var i = parseTimeString(e);
            return (0 === e.indexOf("-") ? -1 : 1) * (1e3 * (60 * (60 * i[1] + i[2]) + i[3])) / 60 / 1e3
        }
        function getRule(e, i, l) {
            function u(e, i) {
                var o, r, a, l = e[0], u = (e = e[1])[5];
                if (!EXACT_DATE_TIME[l])
                    EXACT_DATE_TIME[l] = {};
                if (EXACT_DATE_TIME[l][e])
                    o = EXACT_DATE_TIME[l][e];
                else {
                    if (!isNaN(e[4]))
                        o = new Date(Date.UTC(l, SHORT_MONTHS[e[3]], e[4], u[1], u[2], u[3], 0));
                    else {
                        if ("last" === e[4].substr(0, 4))
                            o = new Date(Date.UTC(l, SHORT_MONTHS[e[3]] + 1, 1, u[1] - 24, u[2], u[3], 0)),
                            r = SHORT_DAYS[e[4].substr(4, 3)],
                            a = "<=";
                        else
                            o = new Date(Date.UTC(l, SHORT_MONTHS[e[3]], e[4].substr(5), u[1], u[2], u[3], 0)),
                            r = SHORT_DAYS[e[4].substr(0, 3)],
                            a = e[4].substr(3, 2);
                        var c = o.getUTCDay();
                        if (">=" === a)
                            o.setUTCDate(o.getUTCDate() + (r - c + (r < c ? 7 : 0)));
                        else
                            o.setUTCDate(o.getUTCDate() + (r - c - (c < r ? 7 : 0)))
                    }
                    EXACT_DATE_TIME[l][e] = o
                }
                if (i)
                    o = d(o, u[4], i);
                return o
            }
            function o(e, i) {
                for (var o = [], r = 0; i && r < i.length; r++)
                    if (i[r][0] <= e && (i[r][1] >= e || i[r][0] === e && "only" === i[r][1] || "max" === i[r][1]))
                        o.push([e, i[r]]);
                return o
            }
            function r(e, i, o) {
                var r, a;
                if (e.constructor !== Date)
                    r = e[0],
                    a = e[1],
                    e = !o && EXACT_DATE_TIME[r] && EXACT_DATE_TIME[r][a] ? EXACT_DATE_TIME[r][a] : u(e, o);
                else if (o)
                    e = d(e, l ? "u" : "w", o);
                if (i.constructor !== Date)
                    r = i[0],
                    a = i[1],
                    i = !o && EXACT_DATE_TIME[r] && EXACT_DATE_TIME[r][a] ? EXACT_DATE_TIME[r][a] : u(i, o);
                else if (o)
                    i = d(i, l ? "u" : "w", o);
                return (e = Number(e)) - (i = Number(i))
            }
            var e = "number" == typeof e ? new Date(e) : e
              , a = i[1]
              , c = i[0]
              , d = function(e, i, o) {
                var r = 0;
                if ("u" === i || "g" === i || "z" === i)
                    r = 0;
                else if ("s" === i)
                    r = c;
                else if ("w" === i || !i)
                    r = getAdjustedOffset(c, o);
                else
                    throw "unknown type " + i;
                return r *= 6e4,
                new Date(e.getTime() + r)
            }
              , i = e.getUTCFullYear()
              , h = o(i, _this.rules[a]);
            if (h.push(e),
            h.sort(r),
            h.indexOf(e) < 2)
                (h = h.concat(o(i - 1, _this.rules[a]))).sort(r);
            i = h.indexOf(e);
            if (1 < i && r(e, h[i - 1], h[i - 2][1]) < 0)
                return h[i - 2][1];
            else if (0 < i && i < h.length - 1 && 0 < r(e, h[i + 1], h[i - 1][1]))
                return h[i + 1][1];
            else if (0 === i)
                return null;
            return h[i - 1][1]
        }
        function getAdjustedOffset(e, i) {
            return -Math.ceil(i[6] - e)
        }
        function getAbbreviation(e, i) {
            var o, e = e[2];
            if (-1 < e.indexOf("%s")) {
                if (i)
                    o = "-" === i[7] ? "" : i[7];
                else
                    o = "S";
                o = e.replace("%s", o)
            } else if (-1 < e.indexOf("/"))
                o = e.split("/", 2)[i && i[6] ? 1 : 0];
            else
                o = e;
            return o
        }
        this.zoneFileBasePath,
        this.zoneFiles = ["africa", "antarctica", "asia", "australasia", "backward", "etcetera", "europe", "northamerica", "pacificnew", "southamerica"],
        this.loadingSchemes = {
            PRELOAD_ALL: "preloadAll",
            LAZY_LOAD: "lazyLoad",
            MANUAL_LOAD: "manualLoad"
        },
        this.loadingScheme = this.loadingSchemes.LAZY_LOAD,
        this.loadedZones = {},
        this.zones = {},
        this.rules = {},
        this.init = function(e) {
            var i, o, r = {
                async: !0
            }, a = this.defaultZoneFile = this.loadingScheme === this.loadingSchemes.PRELOAD_ALL ? this.zoneFiles : "northamerica", l = 0;
            for (o in e)
                r[o] = e[o];
            if ("string" == typeof a)
                return this.loadZoneFile(a, r);
            i = r.callback,
            r.callback = function() {
                ++l === a.length && "function" == typeof i && i()
            }
            ;
            for (var u = 0; u < a.length; u++)
                this.loadZoneFile(a[u], r)
        }
        ,
        this.loadZoneFile = function(e, i) {
            if (void 0 === this.zoneFileBasePath)
                throw new Error("Please define a base path to your zone file directory -- timezoneJS.timezone.zoneFileBasePath.");
            if (this.loadedZones[e])
                ;
            else
                return this.loadedZones[e] = !0,
                builtInLoadZoneFile(e, i)
        }
        ,
        this.loadZoneJSONData = function(url, sync) {
            var processData = function(data) {
                for (var z in data = eval("(" + data + ")"),
                data.zones)
                    _this.zones[z] = data.zones[z];
                for (var r in data.rules)
                    _this.rules[r] = data.rules[r]
            };
            return sync ? processData(_this.transport({
                url: url,
                async: !1
            })) : _this.transport({
                url: url,
                success: processData
            })
        }
        ,
        this.loadZoneDataFromObject = function(e) {
            if (!e)
                ;
            else {
                for (var i in e.zones)
                    _this.zones[i] = e.zones[i];
                for (var o in e.rules)
                    _this.rules[o] = e.rules[o]
            }
        }
        ,
        this.getAllZones = function() {
            var e, i = [];
            for (e in this.zones)
                i.push(e);
            return i.sort()
        }
        ,
        this.parseZones = function(e) {
            for (var i, o, r = e.split("\n"), a = [], l = null, u = 0; u < r.length; u++) {
                if ((i = r[u]).match(/^\s/))
                    i = "Zone " + l + i;
                if (3 < (i = i.split("#")[0]).length)
                    switch ((a = i.split(/\s+/)).shift()) {
                    case "Zone":
                        if (l = a.shift(),
                        !_this.zones[l])
                            _this.zones[l] = [];
                        if (a.length < 3)
                            ;
                        else {
                            if (a.splice(3, a.length, processZone(a)),
                            a[3])
                                a[3] = Date.UTC.apply(null, a[3]);
                            a[0] = -getBasicOffset(a[0]),
                            _this.zones[l].push(a)
                        }
                        break;
                    case "Rule":
                        if (o = a.shift(),
                        !_this.rules[o])
                            _this.rules[o] = [];
                        a[0] = parseInt(a[0], 10),
                        a[1] = parseInt(a[1], 10) || a[1],
                        a[5] = parseTimeString(a[5]),
                        a[6] = getBasicOffset(a[6]),
                        _this.rules[o].push(a);
                        break;
                    case "Link":
                        if (_this.zones[a[1]])
                            throw new Error("Error with Link " + a[1] + ". Cannot create link of a preexisted zone.");
                        _this.zones[a[1]] = a[0]
                    }
            }
            return !0
        }
        ,
        this.transport = _transport,
        this.getTzInfo = function(e, i, o) {
            if (this.loadingScheme === this.loadingSchemes.LAZY_LOAD) {
                var r = getRegionForTimezone(i);
                if (!r)
                    throw new Error("Not a valid timezone ID.");
                if (!this.loadedZones[r])
                    this.loadZoneFile(r)
            }
            r = getZone(e, i),
            i = r[0],
            e = getRule(e, r, o);
            if (e)
                i = getAdjustedOffset(i, e);
            return {
                tzOffset: i,
                tzAbbr: getAbbreviation(r, e)
            }
        }
    }
}
.call(this),
function(u) {
    var o, c = {}, r = {
        active: !1,
        on: function() {
            u(document).on("touchstart", e).on("touchmove", i).on("touchend touchcancel", l),
            r.active = !0
        },
        off: function() {
            u(document).off("touchstart", e).off("touchmove", i).off("touchend touchcancel", l),
            r.active = !1
        },
        track: function(e, i) {
            c[e] = i
        },
        addEventParam: function(e, i) {
            var o = u(e.target).offset()
              , o = {
                pageX: e.point[0].x,
                pageY: e.point[0].y,
                offsetX: o.left - e.point[0].x,
                offsetY: o.top - e.point[0].y
            };
            return u.extend(o, i)
        },
        Event: function(e) {
            var o = {
                type: e.type,
                timestamp: (new Date).getTime(),
                target: e.target,
                point: []
            }
              , i = [];
            if (-1 < e.type.indexOf("touch"))
                i = e.changedTouches || e.originalEvent.changedTouches || e.touches || e.originalEvent.touches;
            else if (e.type.match(/.*?pointer.*?/i))
                i = [e.originalEvent];
            return u.each(i, function(e, i) {
                o.point.push({
                    x: i.pageX,
                    y: i.pageY
                })
            }),
            o
        },
        State: function(e) {
            e.point[0];
            return {
                start: e,
                move: [],
                end: null
            }
        },
        calc: {
            getDuration: function(e, i) {
                return i.timestamp - e.timestamp
            },
            getDistance: function(e, i) {
                return Math.sqrt(Math.pow(i.x - e.x, 2) + Math.pow(i.y - e.y, 2))
            },
            getAngle: function(e, i) {
                return 180 * Math.atan2(i.y - e.y, i.x - e.x) / Math.PI
            },
            getDirection: function(e) {
                return e < -45 && -135 < e ? "up" : -45 <= e && e <= 45 ? "right" : 45 <= e && e < 135 ? "down" : 135 <= e || e <= -135 ? "left" : "unknown"
            },
            getScale: function(e, i) {
                e = e.point,
                i = i.point;
                if (2 === e.length && 2 === i.length)
                    return (Math.sqrt(Math.pow(i[0].x - i[1].x, 2) + Math.pow(i[0].y - i[1].y, 2)) / Math.sqrt(Math.pow(e[0].x - e[1].x, 2) + Math.pow(e[0].y - e[1].y, 2))).toFixed(2);
                else
                    return 0
            },
            getRotation: function(e, i) {
                e = e.point,
                i = i.point;
                if (2 === e.length && 2 === i.length)
                    return (180 * Math.atan2(i[0].y - i[1].y, i[0].x - i[1].x) / Math.PI - 180 * Math.atan2(e[0].y - e[1].y, e[0].x - e[1].x) / Math.PI).toFixed(2);
                else
                    return 0
            }
        }
    };
    function a(o, r, a, l) {
        u.each(c, function(e, i) {
            i[o].call(this, r, a, l)
        })
    }
    function e(e) {
        var i = r.Event(e);
        a("touchstart", e, o = r.State(i), i)
    }
    function i(e) {
        if (!o)
            ;
        else {
            var i = r.Event(e);
            o.move.push(i),
            a("touchmove", e, o, i)
        }
    }
    function l(e) {
        var i = r.Event(e);
        o.end = i,
        a("touchend", e, o, i)
    }
    r.on(),
    u.toe = r
}(jQuery),
function(u, c) {
    var d = "swipe"
      , h = {
        distance: 40,
        duration: 1200,
        direction: "all"
    };
    c.track(d, {
        touchstart: function(e, i, o) {
            i[d] = {
                finger: o.point.length
            }
        },
        touchmove: function(e, i, o) {
            i[d].finger = o.point.length > i[d].finger ? o.point.length : i[d].finger
        },
        touchend: function(e, i, o) {
            var r = u.extend(h, e.data)
              , a = c.calc.getDuration(i.start, o)
              , l = c.calc.getDistance(i.start.point[0], o.point[0]);
            if (a < r.duration && l > r.distance)
                if (i[d].angle = c.calc.getAngle(i.start.point[0], o.point[0]),
                i[d].direction = c.calc.getDirection(i[d].angle),
                i[d].distance = l,
                "all" === r.direction || i[d].direction === r.direction)
                    u(e.target).trigger(u.Event(d, c.addEventParam(i.start, i[d])))
        }
    })
}(jQuery, jQuery.toe),
function(l, u) {
    var e = document.documentElement.clientWidth
      , i = document.documentElement.clientHeight
      , e = Math.sqrt(e * i)
      , c = "tap"
      , d = {
        distance: .02 * e,
        duration: 300,
        finger: 1
    };
    u.track(c, {
        touchstart: function(e, i, o) {
            i.tap = {
                finger: o.point.length
            }
        },
        touchmove: function(e, i, o) {
            i.tap.finger = o.point.length > i.tap.finger ? o.point.length : i.tap.finger
        },
        touchend: function(e, i, o) {
            var r = l.extend(d, e.data)
              , a = u.calc.getDuration(i.start, o)
              , o = u.calc.getDistance(i.start.point[0], o.point[0]);
            if (a < r.duration && o < r.distance)
                if (i.tap.finger === r.finger)
                    l(e.target).trigger(l.Event(c, u.addEventParam(i.start, i.tap)))
        }
    })
}(jQuery, jQuery.toe),
function(a, l) {
    var u, c, d = "taphold", h = {
        distance: 20,
        duration: 500,
        finger: 1
    };
    l.track(d, {
        touchstart: function(e, i, o) {
            var r = a.extend(h, e.data);
            c = !1,
            i[d] = {
                finger: o.point.length
            },
            clearTimeout(u),
            u = setTimeout(function() {
                if (!c && l.active)
                    if (i[d].finger === r.finger)
                        a(e.target).trigger(a.Event(d, l.addEventParam(o, i[d])))
            }, r.duration)
        },
        touchmove: function(e, i, o) {
            e = a.extend(h, e.data);
            if (i[d].finger = o.point.length > i[d].finger ? o.point.length : i[d].finger,
            l.calc.getDistance(i.start.point[0], o.point[0]) > e.distance)
                c = !0
        },
        touchend: function(e, i, o) {
            c = !0,
            clearTimeout(u)
        }
    })
}(jQuery, jQuery.toe),
function(a, l) {
    var u, c = "transform", d = {
        scale: .1,
        rotation: 15
    };
    l.track(c, {
        touchstart: function(e, i, o) {
            u = !1,
            i[c] = {
                start: o,
                move: []
            }
        },
        touchmove: function(e, i, o) {
            var r = a.extend(d, e.data);
            if (2 !== o.point.length)
                ;
            else {
                if (i[c].move.push(o),
                2 !== i[c].start.point.length && 2 === o.point.length)
                    i[c].start = a.extend({}, o);
                if (i[c].rotation = l.calc.getRotation(i[c].start, o),
                i[c].scale = l.calc.getScale(i[c].start, o),
                Math.abs(1 - i[c].scale) > r.scale || Math.abs(i[c].rotation) > r.rotation) {
                    if (!u)
                        a(e.target).trigger(a.Event("transformstart", i[c])),
                        u = !0;
                    a(e.target).trigger(a.Event("transform", i[c]))
                }
            }
        },
        touchend: function(e, i, o) {
            if (u) {
                if (u = !1,
                2 !== o.point.length)
                    i.end = a.extend({}, i[c].move[i[c].move.length - 1]);
                i[c].rotation = l.calc.getRotation(i[c].start, i.end),
                i[c].scale = l.calc.getScale(i[c].start, i.end),
                a(e.target).trigger(a.Event("transformend", i[c]))
            }
        }
    })
}(jQuery, jQuery.toe),
function(l, u) {
    var c = "doubletap"
      , d = {
        distance: 10,
        duration: 300,
        finger: 1
    }
      , h = null;
    u.track(c, {
        touchstart: function(e, i, o) {
            if (i[c] = {
                finger: o.point.length
            },
            h && d.duration < Date.now() - h)
                h = null
        },
        touchmove: function(e, i, o) {
            i[c].finger = o.point.length > i[c].finger ? o.point.length : i[c].finger
        },
        touchend: function(e, i, o) {
            var r = l.extend(d, e.data)
              , a = u.calc.getDuration(i.start, o)
              , o = u.calc.getDistance(i.start.point[0], o.point[0]);
            if (a < r.duration && o < r.distance)
                if (h && d.duration > Date.now() - h && i[c].finger === r.finger)
                    l(e.target).trigger(l.Event(c, u.addEventParam(i.start, i[c]))),
                    h = null;
                else
                    h = Date.now();
            else
                h = null
        }
    })
}(jQuery, jQuery.toe);
var forceOrientation = function(e, a) {
    function i() {
        if (p) {
            if (l = u.style["-webkit-transform"] || void 0 !== window.orientation && 0 !== Math.abs(Math.abs(window.orientation) % 180))
                u.style["-webkit-transform"] = "rotate(-" + Math.abs(Math.abs(window.orientation) % 180) + "deg)"
        } else if (l = u.style["-webkit-transform"] || void 0 !== window.orientation && 0 !== Math.abs(Math.abs(window.orientation) - 90))
            u.style["-webkit-transform"] = "rotate(-" + Math.abs(Math.abs(window.orientation) - 90) + "deg)";
        var e = parseInt(c.width)
          , i = parseInt(c.height);
        if (f)
            e = l ? window.innerHeight : window.innerWidth,
            i = l ? window.innerWidth : window.innerHeight;
        else {
            var o = e;
            e = l ? Math.max(window.innerHeight, i) : Math.max(window.innerWidth, e),
            i = l ? Math.max(window.innerWidth, o) : Math.max(window.innerHeight, i)
        }
        if (p)
            e = Math.min(window.innerHeight, window.innerWidth),
            i = Math.max(window.innerHeight, window.innerWidth);
        else
            e = Math.max(window.innerHeight, window.innerWidth),
            i = Math.min(window.innerHeight, window.innerWidth);
        u.style.width = e + "px",
        u.style.height = i + "px";
        var o = Math.min(0, window.innerWidth - e)
          , r = Math.min(0, window.innerHeight - i);
        if (p)
            u.style.top = r + "px";
        else
            u.style.left = o + "px";
        if (r = Math.abs((e - window.innerWidth) / 2),
        o = Math.abs((i - window.innerHeight) / 2),
        a && a.dontRotate)
            u.style["-webkit-transform"] = "";
        else if (Math.abs(o) + Math.abs(r) != 0)
            u.style["-webkit-transform"] = u.style["-webkit-transform"] + " translate(-" + o + "px, " + r + "px)";
        g.setAttribute("content", "width=" + window.innerWidth + ",height=" + window.innerHeight + ",maximum-scale=" + 1 / h + ",minimum-scale=" + 1 / h),
        u.scrollLeft = 0,
        u.scrollTop = 0,
        document.defaultView.getComputedStyle(d)
    }
    var l, u = document.querySelector("body"), c = document.defaultView.getComputedStyle(u), o = document.querySelector("head"), d = document.querySelector("html"), h = a && a.devicePixelRatio || window.devicePixelRatio, p = e === forceOrientation.VERTICAL, f = a && a.overflow && "hidden" !== a.overflow.toLowerCase() ? !1 : "hidden", g = (d.style.overflow = f || a.overflow,
    u.style.position = "absolute",
    u.style.overflow = f || "visible",
    u.style.top = 0,
    u.style.left = 0,
    u.style.margin = 0,
    u.style.padding = 0,
    document.createElement("meta"));
    g.setAttribute("name", "viewport"),
    g.setAttribute("content", "width=" + window.innerWidth + ",height=" + window.innerHeight + ",maximum-scale=" + 1 / h + ",minimum-scale=" + 1 / h),
    o.appendChild(g);
    setTimeout(i, 1),
    window.onorientationchange = i
};
if (forceOrientation.VERTICAL = "vertical",
forceOrientation.HORIZONTAL = "horizontal",
function(e, i) {
    var o, r;
    "object" == typeof exports && "undefined" != typeof module ? module.exports = i() : "function" == typeof define && define.amd ? define("underscore", i) : (e = "undefined" != typeof globalThis ? globalThis : e || self,
    o = e._,
    (r = e._ = i()).noConflict = function() {
        return e._ = o,
        r
    }
    )
}(this, function() {
    var e = "object" == typeof self && self.self === self && self || "object" == typeof global && global.global === global && global || Function("return this")() || {}
      , r = Array.prototype
      , N = Object.prototype
      , $ = "undefined" != typeof Symbol ? Symbol.prototype : null
      , z = r.push
      , d = r.slice
      , f = N.toString
      , q = N.hasOwnProperty
      , i = "undefined" != typeof ArrayBuffer
      , o = "undefined" != typeof DataView
      , H = Array.isArray
      , U = Object.keys
      , V = Object.create
      , j = i && ArrayBuffer.isView
      , Y = isNaN
      , Q = isFinite
      , K = !{
        toString: null
    }.propertyIsEnumerable("toString")
      , J = ["valueOf", "isPrototypeOf", "toString", "propertyIsEnumerable", "hasOwnProperty", "toLocaleString"]
      , X = Math.pow(2, 53) - 1;
    function p(a, l) {
        return l = null == l ? a.length - 1 : +l,
        function() {
            for (var e = Math.max(arguments.length - l, 0), i = Array(e), o = 0; o < e; o++)
                i[o] = arguments[o + l];
            switch (l) {
            case 0:
                return a.call(this, i);
            case 1:
                return a.call(this, arguments[0], i);
            case 2:
                return a.call(this, arguments[0], arguments[1], i)
            }
            for (var r = Array(l + 1), o = 0; o < l; o++)
                r[o] = arguments[o];
            return r[l] = i,
            a.apply(this, r)
        }
    }
    function l(e) {
        var i = typeof e;
        return "function" == i || "object" == i && !!e
    }
    function Z(e) {
        return void 0 === e
    }
    function ee(e) {
        return !0 === e || !1 === e || "[object Boolean]" === f.call(e)
    }
    function a(e) {
        var i = "[object " + e + "]";
        return function(e) {
            return f.call(e) === i
        }
    }
    var te = a("String")
      , ie = a("Number")
      , u = a("Date")
      , ne = a("RegExp")
      , oe = a("Error")
      , re = a("Symbol")
      , se = a("ArrayBuffer")
      , c = a("Function")
      , e = e.document && e.document.childNodes;
    if ("function" != typeof /./ && "object" != typeof Int8Array && "function" != typeof e)
        c = function(e) {
            return "function" == typeof e || !1
        }
        ;
    var g = c
      , e = a("Object")
      , ae = o && e(new DataView(new ArrayBuffer(8)))
      , c = "undefined" != typeof Map && e(new Map)
      , o = a("DataView");
    var m = ae ? function(e) {
        return null != e && g(e.getInt8) && se(e.buffer)
    }
    : o
      , w = H || a("Array");
    function v(e, i) {
        return null != e && q.call(e, i)
    }
    var le = a("Arguments")
      , ue = (function() {
        if (!le(arguments))
            le = function(e) {
                return v(e, "callee")
            }
    }(),
    le);
    function ce(e) {
        return ie(e) && Y(e)
    }
    function de(e) {
        return function() {
            return e
        }
    }
    function he(i) {
        return function(e) {
            e = i(e);
            return "number" == typeof e && 0 <= e && e <= X
        }
    }
    function pe(i) {
        return function(e) {
            return null == e ? void 0 : e[i]
        }
    }
    var y = pe("byteLength")
      , _e = he(y)
      , fe = /\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;
    var ge = i ? function(e) {
        return j ? j(e) && !m(e) : _e(e) && fe.test(f.call(e))
    }
    : de(!1)
      , b = pe("length");
    function me(e, i) {
        i = function(i) {
            for (var o = {}, e = i.length, r = 0; r < e; ++r)
                o[i[r]] = !0;
            return {
                contains: function(e) {
                    return !0 === o[e]
                },
                push: function(e) {
                    return o[e] = !0,
                    i.push(e)
                }
            }
        }(i);
        var o = J.length
          , r = e.constructor
          , a = g(r) && r.prototype || N
          , l = "constructor";
        if (v(e, l) && !i.contains(l))
            i.push(l);
        for (; o--; )
            if ((l = J[o])in e && e[l] !== a[l] && !i.contains(l))
                i.push(l)
    }
    function C(e) {
        if (!l(e))
            return [];
        if (U)
            return U(e);
        var i, o = [];
        for (i in e)
            if (v(e, i))
                o.push(i);
        if (K)
            me(e, o);
        return o
    }
    function we(e, i) {
        var o = C(i)
          , r = o.length;
        if (null == e)
            return !r;
        for (var a = Object(e), l = 0; l < r; l++) {
            var u = o[l];
            if (i[u] !== a[u] || !(u in a))
                return !1
        }
        return !0
    }
    function T(e) {
        if (e instanceof T)
            return e;
        if (!(this instanceof T))
            return new T(e);
        this._wrapped = e
    }
    function ve(e) {
        return new Uint8Array(e.buffer || e,e.byteOffset || 0,y(e))
    }
    T.VERSION = "1.13.6",
    T.prototype.valueOf = T.prototype.toJSON = T.prototype.value = function() {
        return this._wrapped
    }
    ,
    T.prototype.toString = function() {
        return String(this._wrapped)
    }
    ;
    var ye = "[object DataView]";
    function be(e, i, o, r) {
        if (e === i)
            return 0 !== e || 1 / e == 1 / i;
        if (null == e || null == i)
            return !1;
        if (e != e)
            return i != i;
        var a = typeof e;
        if ("function" != a && "object" != a && "object" != typeof i)
            return !1;
        else
            return function e(i, o, r, a) {
                if (i instanceof T)
                    i = i._wrapped;
                if (o instanceof T)
                    o = o._wrapped;
                var l = f.call(i);
                if (l !== f.call(o))
                    return !1;
                if (ae && "[object Object]" == l && m(i)) {
                    if (!m(o))
                        return !1;
                    l = ye
                }
                switch (l) {
                case "[object RegExp]":
                case "[object String]":
                    return "" + i == "" + o;
                case "[object Number]":
                    if (+i != +i)
                        return +o != +o;
                    else
                        return 0 == +i ? 1 / +i == 1 / o : +i == +o;
                case "[object Date]":
                case "[object Boolean]":
                    return +i == +o;
                case "[object Symbol]":
                    return $.valueOf.call(i) === $.valueOf.call(o);
                case "[object ArrayBuffer]":
                case ye:
                    return e(ve(i), ve(o), r, a)
                }
                l = "[object Array]" === l;
                if (!l && ge(i)) {
                    var u = y(i);
                    if (u !== y(o))
                        return !1;
                    if (i.buffer === o.buffer && i.byteOffset === o.byteOffset)
                        return !0;
                    l = !0
                }
                if (!l) {
                    if ("object" != typeof i || "object" != typeof o)
                        return !1;
                    var u = i.constructor
                      , c = o.constructor;
                    if (u !== c && !(g(u) && u instanceof u && g(c) && c instanceof c) && ("constructor"in i && "constructor"in o))
                        return !1
                }
                r = r || [];
                a = a || [];
                var d = r.length;
                for (; d--; )
                    if (r[d] === i)
                        return a[d] === o;
                r.push(i);
                a.push(o);
                if (l) {
                    if ((d = i.length) !== o.length)
                        return !1;
                    for (; d--; )
                        if (!be(i[d], o[d], r, a))
                            return !1
                } else {
                    var h, p = C(i);
                    if (d = p.length,
                    C(o).length !== d)
                        return !1;
                    for (; d--; )
                        if (h = p[d],
                        !v(o, h) || !be(i[h], o[h], r, a))
                            return !1
                }
                r.pop();
                a.pop();
                return !0
            }(e, i, o, r)
    }
    function h(e) {
        if (!l(e))
            return [];
        var i, o = [];
        for (i in e)
            o.push(i);
        if (K)
            me(e, o);
        return o
    }
    function Ce(r) {
        var a = b(r);
        return function(e) {
            if (null == e)
                return !1;
            var i = h(e);
            if (b(i))
                return !1;
            for (var o = 0; o < a; o++)
                if (!g(e[r[o]]))
                    return !1;
            return r !== ke || !g(e[Te])
        }
    }
    var Te = "forEach"
      , e = ["clear", "delete"]
      , o = ["get", "has", "set"]
      , H = e.concat(Te, o)
      , ke = e.concat(o)
      , i = ["add"].concat(e, Te, "has")
      , o = c ? Ce(H) : a("Map")
      , e = c ? Ce(ke) : a("WeakMap")
      , H = c ? Ce(i) : a("Set")
      , c = a("WeakSet");
    function k(e) {
        for (var i = C(e), o = i.length, r = Array(o), a = 0; a < o; a++)
            r[a] = e[i[a]];
        return r
    }
    function xe(e) {
        for (var i = {}, o = C(e), r = 0, a = o.length; r < a; r++)
            i[e[o[r]]] = o[r];
        return i
    }
    function Se(e) {
        var i, o = [];
        for (i in e)
            if (g(e[i]))
                o.push(i);
        return o.sort()
    }
    function Ae(d, h) {
        return function(e) {
            var i = arguments.length;
            if (h)
                e = Object(e);
            if (i < 2 || null == e)
                ;
            else
                for (var o = 1; o < i; o++)
                    for (var r = arguments[o], a = d(r), l = a.length, u = 0; u < l; u++) {
                        var c = a[u];
                        if (!h || void 0 === e[c])
                            e[c] = r[c]
                    }
            return e
        }
    }
    var Ee = Ae(h)
      , x = Ae(C)
      , Me = Ae(h, !0);
    function Ie(e) {
        if (!l(e))
            return {};
        if (V)
            return V(e);
        else {
            var i = function() {}
              , e = (i.prototype = e,
            new i);
            return i.prototype = null,
            e
        }
    }
    function Pe(e) {
        return w(e) ? e : [e]
    }
    function S(e) {
        return T.toPath(e)
    }
    function Oe(e, i) {
        for (var o = i.length, r = 0; r < o; r++) {
            if (null == e)
                return;
            e = e[i[r]]
        }
        return o ? e : void 0
    }
    function Re(e, i, o) {
        e = Oe(e, S(i));
        return Z(e) ? o : e
    }
    function Ge(e) {
        return e
    }
    function A(i) {
        return i = x({}, i),
        function(e) {
            return we(e, i)
        }
    }
    function De(i) {
        return i = S(i),
        function(e) {
            return Oe(e, i)
        }
    }
    function E(a, l, e) {
        if (void 0 === l)
            return a;
        switch (null == e ? 3 : e) {
        case 1:
            return function(e) {
                return a.call(l, e)
            }
            ;
        case 3:
            return function(e, i, o) {
                return a.call(l, e, i, o)
            }
            ;
        case 4:
            return function(e, i, o, r) {
                return a.call(l, e, i, o, r)
            }
        }
        return function() {
            return a.apply(l, arguments)
        }
    }
    function Be(e, i, o) {
        if (null == e)
            return Ge;
        if (g(e))
            return E(e, i, o);
        if (l(e) && !w(e))
            return A(e);
        else
            return De(e)
    }
    function Le(e, i) {
        return Be(e, i, 1 / 0)
    }
    function M(e, i, o) {
        if (T.iteratee !== Le)
            return T.iteratee(e, i);
        else
            return Be(e, i, o)
    }
    function We() {}
    function Fe(e, i) {
        if (null == i)
            i = e,
            e = 0;
        return e + Math.floor(Math.random() * (i - e + 1))
    }
    T.toPath = Pe,
    T.iteratee = Le;
    var I = Date.now || function() {
        return (new Date).getTime()
    }
    ;
    function Ne(i) {
        function o(e) {
            return i[e]
        }
        var e = "(?:" + C(i).join("|") + ")"
          , r = RegExp(e)
          , a = RegExp(e, "g");
        return function(e) {
            return r.test(e = null == e ? "" : "" + e) ? e.replace(a, o) : e
        }
    }
    var i = {
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#x27;",
        "`": "&#x60;"
    }
      , $e = Ne(i)
      , i = Ne(xe(i))
      , ze = T.templateSettings = {
        evaluate: /<%([\s\S]+?)%>/g,
        interpolate: /<%=([\s\S]+?)%>/g,
        escape: /<%-([\s\S]+?)%>/g
    }
      , qe = /(.)^/
      , He = {
        "'": "'",
        "\\": "\\",
        "\r": "r",
        "\n": "n",
        "\u2028": "u2028",
        "\u2029": "u2029"
    }
      , Ue = /\\|'|\r|\n|\u2028|\u2029/g;
    function Ve(e) {
        return "\\" + He[e]
    }
    var je = /^\s*(\w|\$)+\s*$/;
    var Ye = 0;
    function Qe(e, i, o, r, a) {
        if (!(r instanceof i))
            return e.apply(o, a);
        r = Ie(e.prototype),
        i = e.apply(r, a);
        if (l(i))
            return i;
        else
            return r
    }
    var P = p(function(a, l) {
        function u() {
            for (var e = 0, i = l.length, o = Array(i), r = 0; r < i; r++)
                o[r] = l[r] === c ? arguments[e++] : l[r];
            for (; e < arguments.length; )
                o.push(arguments[e++]);
            return Qe(a, u, this, this, o)
        }
        var c = P.placeholder;
        return u
    })
      , Ke = (P.placeholder = T,
    p(function(i, o, r) {
        if (g(i)) {
            var a = p(function(e) {
                return Qe(i, a, o, this, r.concat(e))
            });
            return a
        }
        throw new TypeError("Bind must be called on a function")
    }))
      , O = he(b);
    function R(e, i, o, r) {
        if (r = r || [],
        !i && 0 !== i)
            i = 1 / 0;
        else if (i <= 0)
            return r.concat(e);
        for (var a = r.length, l = 0, u = b(e); l < u; l++) {
            var c = e[l];
            if (O(c) && (w(c) || ue(c)))
                if (1 < i)
                    R(c, i - 1, o, r),
                    a = r.length;
                else
                    for (var d = 0, h = c.length; d < h; )
                        r[a++] = c[d++];
            else if (!o)
                r[a++] = c
        }
        return r
    }
    var Je = p(function(e, i) {
        var o = (i = R(i, !1, !1)).length;
        if (o < 1)
            throw new Error("bindAll must be passed function names");
        for (; o--; ) {
            var r = i[o];
            e[r] = Ke(e[r], e)
        }
        return e
    });
    var Xe = p(function(e, i, o) {
        return setTimeout(function() {
            return e.apply(null, o)
        }, i)
    })
      , Ze = P(Xe, T, 1);
    function et(e) {
        return function() {
            return !e.apply(this, arguments)
        }
    }
    function tt(e, i) {
        var o;
        return function() {
            if (0 < --e)
                o = i.apply(this, arguments);
            if (e <= 1)
                i = null;
            return o
        }
    }
    var it = P(tt, 2);
    function nt(e, i, o) {
        i = M(i, o);
        for (var r, a = C(e), l = 0, u = a.length; l < u; l++)
            if (i(e[r = a[l]], r, e))
                return r
    }
    function ot(l) {
        return function(e, i, o) {
            i = M(i, o);
            for (var r = b(e), a = 0 < l ? 0 : r - 1; 0 <= a && a < r; a += l)
                if (i(e[a], a, e))
                    return a;
            return -1
        }
    }
    var rt = ot(1)
      , st = ot(-1);
    function at(e, i, o, r) {
        for (var a = (o = M(o, r, 1))(i), l = 0, u = b(e); l < u; ) {
            var c = Math.floor((l + u) / 2);
            if (o(e[c]) < a)
                l = c + 1;
            else
                u = c
        }
        return l
    }
    function lt(l, u, c) {
        return function(e, i, o) {
            var r = 0
              , a = b(e);
            if ("number" == typeof o)
                if (0 < l)
                    r = 0 <= o ? o : Math.max(o + a, r);
                else
                    a = 0 <= o ? Math.min(o + 1, a) : o + a + 1;
            else if (c && o && a)
                return e[o = c(e, i)] === i ? o : -1;
            if (i != i)
                return 0 <= (o = u(d.call(e, r, a), ce)) ? o + r : -1;
            for (o = 0 < l ? r : a - 1; 0 <= o && o < a; o += l)
                if (e[o] === i)
                    return o;
            return -1
        }
    }
    var ut = lt(1, rt, at)
      , ct = lt(-1, st);
    function dt(e, i, o) {
        i = (O(e) ? rt : nt)(e, i, o);
        if (void 0 !== i && -1 !== i)
            return e[i]
    }
    function G(e, i, o) {
        if (i = E(i, o),
        O(e))
            for (a = 0,
            l = e.length; a < l; a++)
                i(e[a], a, e);
        else
            for (var r = C(e), a = 0, l = r.length; a < l; a++)
                i(e[r[a]], r[a], e);
        return e
    }
    function D(e, i, o) {
        i = M(i, o);
        for (var r = !O(e) && C(e), a = (r || e).length, l = Array(a), u = 0; u < a; u++) {
            var c = r ? r[u] : u;
            l[u] = i(e[c], c, e)
        }
        return l
    }
    function ht(d) {
        return function(e, i, o, r) {
            var a = 3 <= arguments.length;
            return function(e, i, o, r) {
                var a = !O(e) && C(e)
                  , l = (a || e).length
                  , u = 0 < d ? 0 : l - 1;
                if (!r)
                    o = e[a ? a[u] : u],
                    u += d;
                for (; 0 <= u && u < l; u += d) {
                    var c = a ? a[u] : u;
                    o = i(o, e[c], c, e)
                }
                return o
            }(e, E(i, r, 4), o, a)
        }
    }
    var pt = ht(1)
      , _t = ht(-1);
    function B(e, r, i) {
        var a = [];
        return r = M(r, i),
        G(e, function(e, i, o) {
            if (r(e, i, o))
                a.push(e)
        }),
        a
    }
    function ft(e, i, o) {
        i = M(i, o);
        for (var r = !O(e) && C(e), a = (r || e).length, l = 0; l < a; l++) {
            var u = r ? r[l] : l;
            if (!i(e[u], u, e))
                return !1
        }
        return !0
    }
    function gt(e, i, o) {
        i = M(i, o);
        for (var r = !O(e) && C(e), a = (r || e).length, l = 0; l < a; l++) {
            var u = r ? r[l] : l;
            if (i(e[u], u, e))
                return !0
        }
        return !1
    }
    function L(e, i, o, r) {
        if (!O(e))
            e = k(e);
        if ("number" != typeof o || r)
            o = 0;
        return 0 <= ut(e, i, o)
    }
    var mt = p(function(e, o, r) {
        var a, l;
        if (g(o))
            l = o;
        else
            o = S(o),
            a = o.slice(0, -1),
            o = o[o.length - 1];
        return D(e, function(e) {
            var i = l;
            if (!i) {
                if (a && a.length)
                    e = Oe(e, a);
                if (null == e)
                    return;
                i = e[o]
            }
            return null == i ? i : i.apply(e, r)
        })
    });
    function wt(e, i) {
        return D(e, De(i))
    }
    function vt(e, r, i) {
        var o, a, l = -1 / 0, u = -1 / 0;
        if (null == r || "number" == typeof r && "object" != typeof e[0] && null != e) {
            for (var c = 0, d = (e = O(e) ? e : k(e)).length; c < d; c++)
                if (null != (o = e[c]) && l < o)
                    l = o
        } else
            r = M(r, i),
            G(e, function(e, i, o) {
                if (a = r(e, i, o),
                u < a || a === -1 / 0 && l === -1 / 0)
                    l = e,
                    u = a
            });
        return l
    }
    var yt = /[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;
    function bt(e) {
        if (!e)
            return [];
        if (w(e))
            return d.call(e);
        if (te(e))
            return e.match(yt);
        if (O(e))
            return D(e, Ge);
        else
            return k(e)
    }
    function Ct(e, n, i) {
        if (null == n || i) {
            if (!O(e))
                e = k(e);
            return e[Fe(e.length - 1)]
        }
        for (var o = bt(e), i = b(o), r = (n = Math.max(Math.min(n, i), 0),
        i - 1), a = 0; a < n; a++) {
            var l = Fe(a, r)
              , u = o[a];
            o[a] = o[l],
            o[l] = u
        }
        return o.slice(0, n)
    }
    function W(l, i) {
        return function(o, r, e) {
            var a = i ? [[], []] : {};
            return r = M(r, e),
            G(o, function(e, i) {
                i = r(e, i, o);
                l(a, e, i)
            }),
            a
        }
    }
    var Tt = W(function(e, i, o) {
        if (v(e, o))
            e[o].push(i);
        else
            e[o] = [i]
    })
      , kt = W(function(e, i, o) {
        e[o] = i
    })
      , xt = W(function(e, i, o) {
        if (v(e, o))
            e[o]++;
        else
            e[o] = 1
    })
      , St = W(function(e, i, o) {
        e[o ? 0 : 1].push(i)
    }, !0);
    function At(e, i, o) {
        return i in o
    }
    var Et = p(function(e, i) {
        var o = {}
          , r = i[0];
        if (null == e)
            ;
        else {
            if (g(r)) {
                if (1 < i.length)
                    r = E(r, i[1]);
                i = h(e)
            } else
                r = At,
                i = R(i, !1, !1),
                e = Object(e);
            for (var a = 0, l = i.length; a < l; a++) {
                var u = i[a]
                  , c = e[u];
                if (r(c, u, e))
                    o[u] = c
            }
        }
        return o
    })
      , Mt = p(function(e, o) {
        var i, r = o[0];
        if (g(r)) {
            if (r = et(r),
            1 < o.length)
                i = o[1]
        } else
            o = D(R(o, !1, !1), String),
            r = function(e, i) {
                return !L(o, i)
            }
            ;
        return Et(e, r, i)
    });
    function It(e, n, i) {
        return d.call(e, 0, Math.max(0, e.length - (null == n || i ? 1 : n)))
    }
    function Pt(e, n, i) {
        if (null == e || e.length < 1)
            return null == n || i ? void 0 : [];
        if (null == n || i)
            return e[0];
        else
            return It(e, e.length - n)
    }
    function F(e, n, i) {
        return d.call(e, null == n || i ? 1 : n)
    }
    var Ot = p(function(e, i) {
        return i = R(i, !0, !0),
        B(e, function(e) {
            return !L(i, e)
        })
    })
      , Rt = p(function(e, i) {
        return Ot(e, i)
    });
    function Gt(e, i, o, r) {
        if (!ee(i))
            r = o,
            o = i,
            i = !1;
        if (null != o)
            o = M(o, r);
        for (var a = [], l = [], u = 0, c = b(e); u < c; u++) {
            var d = e[u]
              , h = o ? o(d, u, e) : d;
            if (i && !o) {
                if (!u || l !== h)
                    a.push(d);
                l = h
            } else if (o) {
                if (!L(l, h))
                    l.push(h),
                    a.push(d)
            } else if (!L(a, d))
                a.push(d)
        }
        return a
    }
    var Dt = p(function(e) {
        return Gt(R(e, !0, !0))
    });
    function Bt(e) {
        for (var i = e && vt(e, b).length || 0, o = Array(i), r = 0; r < i; r++)
            o[r] = wt(e, r);
        return o
    }
    var Lt = p(Bt);
    function Wt(e, i) {
        return e._chain ? T(i).chain() : i
    }
    function Ft(o) {
        return G(Se(o), function(e) {
            var i = T[e] = o[e];
            T.prototype[e] = function() {
                var e = [this._wrapped];
                return z.apply(e, arguments),
                Wt(this, i.apply(T, e))
            }
        }),
        T
    }
    G(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function(i) {
        var o = r[i];
        T.prototype[i] = function() {
            var e = this._wrapped;
            if (null != e)
                if (o.apply(e, arguments),
                ("shift" === i || "splice" === i) && 0 === e.length)
                    delete e[0];
            return Wt(this, e)
        }
    }),
    G(["concat", "join", "slice"], function(e) {
        var i = r[e];
        T.prototype[e] = function() {
            var e = this._wrapped;
            if (null != e)
                e = i.apply(e, arguments);
            return Wt(this, e)
        }
    });
    u = Ft({
        __proto__: null,
        VERSION: "1.13.6",
        restArguments: p,
        isObject: l,
        isNull: function(e) {
            return null === e
        },
        isUndefined: Z,
        isBoolean: ee,
        isElement: function(e) {
            return !(!e || 1 !== e.nodeType)
        },
        isString: te,
        isNumber: ie,
        isDate: u,
        isRegExp: ne,
        isError: oe,
        isSymbol: re,
        isArrayBuffer: se,
        isDataView: m,
        isArray: w,
        isFunction: g,
        isArguments: ue,
        isFinite: function(e) {
            return !re(e) && Q(e) && !isNaN(parseFloat(e))
        },
        isNaN: ce,
        isTypedArray: ge,
        isEmpty: function(e) {
            if (null == e)
                return !0;
            var i = b(e);
            if ("number" == typeof i && (w(e) || te(e) || ue(e)))
                return 0 === i;
            else
                return 0 === b(C(e))
        },
        isMatch: we,
        isEqual: function(e, i) {
            return be(e, i)
        },
        isMap: o,
        isWeakMap: e,
        isSet: H,
        isWeakSet: c,
        keys: C,
        allKeys: h,
        values: k,
        pairs: function(e) {
            for (var i = C(e), o = i.length, r = Array(o), a = 0; a < o; a++)
                r[a] = [i[a], e[i[a]]];
            return r
        },
        invert: xe,
        functions: Se,
        methods: Se,
        extend: Ee,
        extendOwn: x,
        assign: x,
        defaults: Me,
        create: function(e, i) {
            if (e = Ie(e),
            i)
                x(e, i);
            return e
        },
        clone: function(e) {
            if (l(e))
                return w(e) ? e.slice() : Ee({}, e);
            else
                return e
        },
        tap: function(e, i) {
            return i(e),
            e
        },
        get: Re,
        has: function(e, i) {
            for (var o = (i = S(i)).length, r = 0; r < o; r++) {
                var a = i[r];
                if (!v(e, a))
                    return !1;
                e = e[a]
            }
            return !!o
        },
        mapObject: function(e, i, o) {
            i = M(i, o);
            for (var r = C(e), a = r.length, l = {}, u = 0; u < a; u++) {
                var c = r[u];
                l[c] = i(e[c], c, e)
            }
            return l
        },
        identity: Ge,
        constant: de,
        noop: We,
        toPath: Pe,
        property: De,
        propertyOf: function(i) {
            if (null == i)
                return We;
            else
                return function(e) {
                    return Re(i, e)
                }
        },
        matcher: A,
        matches: A,
        times: function(n, e, i) {
            var o = Array(Math.max(0, n));
            e = E(e, i, 1);
            for (var r = 0; r < n; r++)
                o[r] = e(r);
            return o
        },
        random: Fe,
        now: I,
        escape: $e,
        unescape: i,
        templateSettings: ze,
        template: function(l, e, i) {
            if (!e && i)
                e = i;
            e = Me({}, e, T.templateSettings);
            var o, i = RegExp([(e.escape || qe).source, (e.interpolate || qe).source, (e.evaluate || qe).source].join("|") + "|$", "g"), u = 0, c = "__p+='";
            if (l.replace(i, function(e, i, o, r, a) {
                if (c += l.slice(u, a).replace(Ue, Ve),
                u = a + e.length,
                i)
                    c += "'+\n((__t=(" + i + "))==null?'':_.escape(__t))+\n'";
                else if (o)
                    c += "'+\n((__t=(" + o + "))==null?'':__t)+\n'";
                else if (r)
                    c += "';\n" + r + "\n__p+='";
                return e
            }),
            c += "';\n",
            i = e.variable) {
                if (!je.test(i))
                    throw new Error("variable is not a bare identifier: " + i)
            } else
                c = "with(obj||{}){\n" + c + "}\n",
                i = "obj";
            c = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + c + "return __p;\n";
            try {
                o = new Function(i,"_",c)
            } catch (e) {
                throw e.source = c,
                e
            }
            function r(e) {
                return o.call(this, e, T)
            }
            return r.source = "function(" + i + "){\n" + c + "}",
            r
        },
        result: function(e, i, o) {
            var r = (i = S(i)).length;
            if (!r)
                return g(o) ? o.call(e) : o;
            for (var a = 0; a < r; a++) {
                var l = null == e ? void 0 : e[i[a]];
                if (void 0 === l)
                    l = o,
                    a = r;
                e = g(l) ? l.call(e) : l
            }
            return e
        },
        uniqueId: function(e) {
            var i = ++Ye + "";
            return e ? e + i : i
        },
        chain: function(e) {
            return (e = T(e))._chain = !0,
            e
        },
        iteratee: Le,
        partial: P,
        bind: Ke,
        bindAll: Je,
        memoize: function(r, a) {
            function l(e) {
                var i = l.cache
                  , o = "" + (a ? a.apply(this, arguments) : e);
                if (!v(i, o))
                    i[o] = r.apply(this, arguments);
                return i[o]
            }
            return l.cache = {},
            l
        },
        delay: Xe,
        defer: Ze,
        throttle: function(o, r, a) {
            var l, u, c, d, h = 0;
            if (!a)
                a = {};
            function p() {
                if (h = !1 === a.leading ? 0 : I(),
                l = null,
                d = o.apply(u, c),
                !l)
                    u = c = null
            }
            function e() {
                var e = I();
                if (!h && !1 === a.leading)
                    h = e;
                var i = r - (e - h);
                if (u = this,
                c = arguments,
                i <= 0 || r < i) {
                    if (l)
                        clearTimeout(l),
                        l = null;
                    if (h = e,
                    d = o.apply(u, c),
                    !l)
                        u = c = null
                } else if (!l && !1 !== a.trailing)
                    l = setTimeout(p, i);
                return d
            }
            return e.cancel = function() {
                clearTimeout(l),
                h = 0,
                l = u = c = null
            }
            ,
            e
        },
        debounce: function(i, o, r) {
            function a() {
                var e = I() - u;
                if (e < o)
                    l = setTimeout(a, o - e);
                else {
                    if (l = null,
                    !r)
                        d = i.apply(h, c);
                    if (!l)
                        c = h = null
                }
            }
            var l, u, c, d, h, e = p(function(e) {
                if (h = this,
                c = e,
                u = I(),
                !l)
                    if (l = setTimeout(a, o),
                    r)
                        d = i.apply(h, c);
                return d
            });
            return e.cancel = function() {
                clearTimeout(l),
                l = c = h = null
            }
            ,
            e
        },
        wrap: function(e, i) {
            return P(i, e)
        },
        negate: et,
        compose: function() {
            var o = arguments
              , r = o.length - 1;
            return function() {
                for (var e = r, i = o[r].apply(this, arguments); e--; )
                    i = o[e].call(this, i);
                return i
            }
        },
        after: function(e, i) {
            return function() {
                if (--e < 1)
                    return i.apply(this, arguments)
            }
        },
        before: tt,
        once: it,
        findKey: nt,
        findIndex: rt,
        findLastIndex: st,
        sortedIndex: at,
        indexOf: ut,
        lastIndexOf: ct,
        find: dt,
        detect: dt,
        findWhere: function(e, i) {
            return dt(e, A(i))
        },
        each: G,
        forEach: G,
        map: D,
        collect: D,
        reduce: pt,
        foldl: pt,
        inject: pt,
        reduceRight: _t,
        foldr: _t,
        filter: B,
        select: B,
        reject: function(e, i, o) {
            return B(e, et(M(i)), o)
        },
        every: ft,
        all: ft,
        some: gt,
        any: gt,
        contains: L,
        includes: L,
        include: L,
        invoke: mt,
        pluck: wt,
        where: function(e, i) {
            return B(e, A(i))
        },
        max: vt,
        min: function(e, r, i) {
            var o, a, l = 1 / 0, u = 1 / 0;
            if (null == r || "number" == typeof r && "object" != typeof e[0] && null != e) {
                for (var c = 0, d = (e = O(e) ? e : k(e)).length; c < d; c++)
                    if (null != (o = e[c]) && o < l)
                        l = o
            } else
                r = M(r, i),
                G(e, function(e, i, o) {
                    if ((a = r(e, i, o)) < u || a === 1 / 0 && l === 1 / 0)
                        l = e,
                        u = a
                });
            return l
        },
        shuffle: function(e) {
            return Ct(e, 1 / 0)
        },
        sample: Ct,
        sortBy: function(e, r, i) {
            var a = 0;
            return r = M(r, i),
            wt(D(e, function(e, i, o) {
                return {
                    value: e,
                    index: a++,
                    criteria: r(e, i, o)
                }
            }).sort(function(e, i) {
                var o = e.criteria
                  , r = i.criteria;
                if (o !== r) {
                    if (r < o || void 0 === o)
                        return 1;
                    if (o < r || void 0 === r)
                        return -1
                }
                return e.index - i.index
            }), "value")
        },
        groupBy: Tt,
        indexBy: kt,
        countBy: xt,
        partition: St,
        toArray: bt,
        size: function(e) {
            if (null == e)
                return 0;
            else
                return O(e) ? e.length : C(e).length
        },
        pick: Et,
        omit: Mt,
        first: Pt,
        head: Pt,
        take: Pt,
        initial: It,
        last: function(e, n, i) {
            if (null == e || e.length < 1)
                return null == n || i ? void 0 : [];
            if (null == n || i)
                return e[e.length - 1];
            else
                return F(e, Math.max(0, e.length - n))
        },
        rest: F,
        tail: F,
        drop: F,
        compact: function(e) {
            return B(e, Boolean)
        },
        flatten: function(e, i) {
            return R(e, i, !1)
        },
        without: Rt,
        uniq: Gt,
        unique: Gt,
        union: Dt,
        intersection: function(e) {
            for (var i = [], o = arguments.length, r = 0, a = b(e); r < a; r++) {
                var l = e[r];
                if (L(i, l))
                    ;
                else {
                    for (var u = 1; u < o && L(arguments[u], l); u++)
                        ;
                    if (u === o)
                        i.push(l)
                }
            }
            return i
        },
        difference: Ot,
        unzip: Bt,
        transpose: Bt,
        zip: Lt,
        object: function(e, i) {
            for (var o = {}, r = 0, a = b(e); r < a; r++)
                if (i)
                    o[e[r]] = i[r];
                else
                    o[e[r][0]] = e[r][1];
            return o
        },
        range: function(e, i, o) {
            if (null == i)
                i = e || 0,
                e = 0;
            if (!o)
                o = i < e ? -1 : 1;
            for (var r = Math.max(Math.ceil((i - e) / o), 0), a = Array(r), l = 0; l < r; l++,
            e += o)
                a[l] = e;
            return a
        },
        chunk: function(e, i) {
            if (null == i || i < 1)
                return [];
            for (var o = [], r = 0, a = e.length; r < a; )
                o.push(d.call(e, r, r += i));
            return o
        },
        mixin: Ft,
        default: T
    });
    return u._ = u
}),
function(o) {
    var r = "object" == typeof self && self.self === self && self || "object" == typeof global && global.global === global && global;
    if ("function" == typeof define && define.amd)
        define(["underscore", "jquery", "exports"], function(_, e, i) {
            r.Backbone = o(r, i, _, e)
        });
    else if ("undefined" != typeof exports) {
        var e, _ = require("underscore");
        try {
            e = require("jquery")
        } catch (e) {}
        o(r, exports, _, e)
    } else
        r.Backbone = o(r, {}, r._, r.jQuery || r.Zepto || r.ender || r.$)
}(function(e, Backbone, _, i) {
    function c(e, i, o, r, a) {
        var l, u = 0;
        if (o && "object" == typeof o) {
            if (void 0 !== r && "context"in a && void 0 === a.context)
                a.context = r;
            for (l = _.keys(o); u < l.length; u++)
                i = c(e, i, l[u], o[l[u]], a)
        } else if (o && h.test(o))
            for (l = o.split(h); u < l.length; u++)
                i = e(i, l[u], r, a);
        else
            i = e(i, o, r, a);
        return i
    }
    function k(e, i, o) {
        o = Math.min(Math.max(o, 0), e.length);
        for (var r = Array(e.length - o), a = i.length, l = 0; l < r.length; l++)
            r[l] = e[l + o];
        for (l = 0; l < a; l++)
            e[l + o] = i[l];
        for (l = 0; l < r.length; l++)
            e[l + a + o] = r[l]
    }
    var u, o = e.Backbone, d = Array.prototype.slice, i = (Backbone.VERSION = "1.6.0",
    Backbone.$ = i,
    Backbone.noConflict = function() {
        return e.Backbone = o,
        this
    }
    ,
    Backbone.emulateHTTP = !1,
    Backbone.emulateJSON = !1,
    Backbone.Events = {}), h = /\s+/, r = (i.on = function(e, i, o) {
        if (this._events = c(r, this._events || {}, e, i, {
            context: o,
            ctx: this,
            listening: u
        }),
        u)
            ((this._listeners || (this._listeners = {}))[u.id] = u).interop = !1;
        return this
    }
    ,
    i.listenTo = function(e, i, o) {
        if (!e)
            ;
        else {
            var r = e._listenId || (e._listenId = _.uniqueId("l"))
              , a = this._listeningTo || (this._listeningTo = {})
              , l = u = a[r];
            if (!l)
                this._listenId || (this._listenId = _.uniqueId("l")),
                l = u = a[r] = new m(this,e);
            a = p(e, i, o, this);
            if (u = void 0,
            a)
                throw a;
            if (l.interop)
                l.on(i, o)
        }
        return this
    }
    ,
    function(e, i, o, r) {
        if (o) {
            var i = e[i] || (e[i] = [])
              , a = r.context
              , l = r.ctx
              , r = r.listening;
            if (r)
                r.count++;
            i.push({
                callback: o,
                context: a,
                ctx: a || l,
                listening: r
            })
        }
        return e
    }
    ), p = function(e, i, o, r) {
        try {
            e.on(i, o, r)
        } catch (e) {
            return e
        }
    }, a = (i.off = function(e, i, o) {
        if (!this._events)
            ;
        else
            this._events = c(a, this._events, e, i, {
                context: o,
                listeners: this._listeners
            });
        return this
    }
    ,
    i.stopListening = function(e, i, o) {
        var r = this._listeningTo;
        if (!r)
            ;
        else {
            for (var a = e ? [e._listenId] : _.keys(r), l = 0; l < a.length; l++) {
                var u = r[a[l]];
                if (!u)
                    break;
                if (u.obj.off(i, o, this),
                u.interop)
                    u.off(i, o)
            }
            if (_.isEmpty(r))
                this._listeningTo = void 0
        }
        return this
    }
    ,
    function(e, i, o, r) {
        if (!e)
            ;
        else {
            var a, l = r.context, u = r.listeners, c = 0;
            if (!i && !l && !o)
                for (a = _.keys(u); c < a.length; c++)
                    u[a[c]].cleanup();
            else {
                for (a = i ? [i] : _.keys(e); c < a.length; c++) {
                    var d = e[i = a[c]];
                    if (!d)
                        break;
                    for (var h = [], p = 0; p < d.length; p++) {
                        var f = d[p];
                        if (o && o !== f.callback && o !== f.callback._callback || l && l !== f.context)
                            h.push(f);
                        else {
                            f = f.listening;
                            if (f)
                                f.off(i, o)
                        }
                    }
                    if (h.length)
                        e[i] = h;
                    else
                        delete e[i]
                }
                return e
            }
        }
    }
    ), l = (i.once = function(e, i, o) {
        var r = c(l, {}, e, i, this.off.bind(this));
        if ("string" == typeof e && null == o)
            i = void 0;
        return this.on(r, i, o)
    }
    ,
    i.listenToOnce = function(e, i, o) {
        i = c(l, {}, i, o, this.stopListening.bind(this, e));
        return this.listenTo(e, i)
    }
    ,
    function(e, i, o, r) {
        if (o) {
            var a = e[i] = _.once(function() {
                r(i, a),
                o.apply(this, arguments)
            });
            a._callback = o
        }
        return e
    }
    ), f = (i.trigger = function(e) {
        if (!this._events)
            ;
        else {
            for (var i = Math.max(0, arguments.length - 1), o = Array(i), r = 0; r < i; r++)
                o[r] = arguments[r + 1];
            c(f, this._events, e, void 0, o)
        }
        return this
    }
    ,
    function(e, i, o, r) {
        if (e) {
            var a = e[i]
              , l = e.all;
            if (a && l)
                l = l.slice();
            if (a)
                g(a, r);
            if (l)
                g(l, [i].concat(r))
        }
        return e
    }
    ), g = function(e, i) {
        var o, r = -1, a = e.length, l = i[0], u = i[1], c = i[2];
        switch (i.length) {
        case 0:
            for (; ++r < a; )
                (o = e[r]).callback.call(o.ctx);
            return;
        case 1:
            for (; ++r < a; )
                (o = e[r]).callback.call(o.ctx, l);
            return;
        case 2:
            for (; ++r < a; )
                (o = e[r]).callback.call(o.ctx, l, u);
            return;
        case 3:
            for (; ++r < a; )
                (o = e[r]).callback.call(o.ctx, l, u, c);
            return;
        default:
            for (; ++r < a; )
                (o = e[r]).callback.apply(o.ctx, i);
            return
        }
    }, m = function(e, i) {
        this.id = e._listenId,
        this.listener = e,
        this.obj = i,
        this.interop = !0,
        this.count = 0,
        this._events = void 0
    }, w = (m.prototype.on = i.on,
    m.prototype.off = function(e, i) {
        var o;
        if (this.interop)
            this._events = c(a, this._events, e, i, {
                context: void 0,
                listeners: void 0
            }),
            o = !this._events;
        else
            this.count--,
            o = 0 === this.count;
        if (o)
            this.cleanup()
    }
    ,
    m.prototype.cleanup = function() {
        if (delete this.listener._listeningTo[this.obj._listenId],
        !this.interop)
            delete this.obj._listeners[this.id]
    }
    ,
    i.bind = i.on,
    i.unbind = i.off,
    _.extend(Backbone, i),
    Backbone.Model = function(e, i) {
        var o = e || {};
        if (i = i || {},
        this.preinitialize.apply(this, arguments),
        this.cid = _.uniqueId(this.cidPrefix),
        this.attributes = {},
        i.collection)
            this.collection = i.collection;
        if (i.parse)
            o = this.parse(o, i) || {};
        var r = _.result(this, "defaults")
          , o = _.defaults(_.extend({}, r, o), r);
        this.set(o, i),
        this.changed = {},
        this.initialize.apply(this, arguments)
    }
    ), v = (_.extend(w.prototype, i, {
        changed: null,
        validationError: null,
        idAttribute: "id",
        cidPrefix: "c",
        preinitialize: function() {},
        initialize: function() {},
        toJSON: function(e) {
            return _.clone(this.attributes)
        },
        sync: function() {
            return Backbone.sync.apply(this, arguments)
        },
        get: function(e) {
            return this.attributes[e]
        },
        escape: function(e) {
            return _.escape(this.get(e))
        },
        has: function(e) {
            return null != this.get(e)
        },
        matches: function(e) {
            return !!_.iteratee(e, this)(this.attributes)
        },
        set: function(e, i, o) {
            if (null == e)
                ;
            else {
                var r;
                if ("object" == typeof e)
                    r = e,
                    o = i;
                else
                    (r = {})[e] = i;
                if (!this._validate(r, o = o || {}))
                    return !1;
                var a = o.unset
                  , e = o.silent
                  , l = []
                  , u = this._changing;
                if (this._changing = !0,
                !u)
                    this._previousAttributes = _.clone(this.attributes),
                    this.changed = {};
                var c, d = this.attributes, h = this.changed, p = this._previousAttributes;
                for (c in r) {
                    if (i = r[c],
                    !_.isEqual(d[c], i))
                        l.push(c);
                    if (!_.isEqual(p[c], i))
                        h[c] = i;
                    else
                        delete h[c];
                    a ? delete d[c] : d[c] = i
                }
                if (this.idAttribute in r) {
                    var f = this.id;
                    this.id = this.get(this.idAttribute),
                    this.trigger("changeId", this, f, o)
                }
                if (!e) {
                    if (l.length)
                        this._pending = o;
                    for (var g = 0; g < l.length; g++)
                        this.trigger("change:" + l[g], this, d[l[g]], o)
                }
                if (u)
                    ;
                else {
                    if (!e)
                        for (; this._pending; )
                            o = this._pending,
                            this._pending = !1,
                            this.trigger("change", this, o);
                    this._pending = !1,
                    this._changing = !1
                }
            }
            return this
        },
        unset: function(e, i) {
            return this.set(e, void 0, _.extend({}, i, {
                unset: !0
            }))
        },
        clear: function(e) {
            var i, o = {};
            for (i in this.attributes)
                o[i] = void 0;
            return this.set(o, _.extend({}, e, {
                unset: !0
            }))
        },
        hasChanged: function(e) {
            if (null == e)
                return !_.isEmpty(this.changed);
            else
                return _.has(this.changed, e)
        },
        changedAttributes: function(e) {
            if (!e)
                return this.hasChanged() ? _.clone(this.changed) : !1;
            var i, o, r = this._changing ? this._previousAttributes : this.attributes, a = {};
            for (o in e) {
                var l = e[o];
                if (_.isEqual(r[o], l))
                    ;
                else
                    a[o] = l,
                    i = !0
            }
            return i ? a : !1
        },
        previous: function(e) {
            if (null != e && this._previousAttributes)
                return this._previousAttributes[e];
            else
                return null
        },
        previousAttributes: function() {
            return _.clone(this._previousAttributes)
        },
        fetch: function(o) {
            o = _.extend({
                parse: !0
            }, o);
            var r = this
              , a = o.success;
            return o.success = function(e) {
                var i = o.parse ? r.parse(e, o) : e;
                if (!r.set(i, o))
                    return !1;
                if (a)
                    a.call(o.context, r, e, o);
                r.trigger("sync", r, e, o)
            }
            ,
            L(this, o),
            this.sync("read", this, o)
        },
        save: function(e, i, o) {
            var r;
            if (null == e || "object" == typeof e)
                r = e,
                o = i;
            else
                (r = {})[e] = i;
            var a = (o = _.extend({
                validate: !0,
                parse: !0
            }, o)).wait;
            if (r && !a) {
                if (!this.set(r, o))
                    return !1
            } else if (!this._validate(r, o))
                return !1;
            var l = this
              , u = o.success
              , c = this.attributes;
            if (o.success = function(e) {
                l.attributes = c;
                var i = o.parse ? l.parse(e, o) : e;
                if (a)
                    i = _.extend({}, r, i);
                if (i && !l.set(i, o))
                    return !1;
                if (u)
                    u.call(o.context, l, e, o);
                l.trigger("sync", l, e, o)
            }
            ,
            L(this, o),
            r && a)
                this.attributes = _.extend({}, c, r);
            e = this.isNew() ? "create" : o.patch ? "patch" : "update";
            if ("patch" == e && !o.attrs)
                o.attrs = r;
            i = this.sync(e, this, o);
            return this.attributes = c,
            i
        },
        destroy: function(i) {
            i = i ? _.clone(i) : {};
            function o() {
                r.stopListening(),
                r.trigger("destroy", r, r.collection, i)
            }
            var r = this
              , a = i.success
              , l = i.wait
              , e = !(i.success = function(e) {
                if (l)
                    o();
                if (a)
                    a.call(i.context, r, e, i);
                if (!r.isNew())
                    r.trigger("sync", r, e, i)
            }
            );
            if (this.isNew())
                _.defer(i.success);
            else
                L(this, i),
                e = this.sync("delete", this, i);
            if (!l)
                o();
            return e
        },
        url: function() {
            var e = _.result(this, "urlRoot") || _.result(this.collection, "url") || B();
            if (this.isNew())
                return e;
            else {
                var i = this.get(this.idAttribute);
                return e.replace(/[^\/]$/, "$&/") + encodeURIComponent(i)
            }
        },
        parse: function(e, i) {
            return e
        },
        clone: function() {
            return new this.constructor(this.attributes)
        },
        isNew: function() {
            return !this.has(this.idAttribute)
        },
        isValid: function(e) {
            return this._validate({}, _.extend({}, e, {
                validate: !0
            }))
        },
        _validate: function(e, i) {
            if (!i.validate || !this.validate)
                return !0;
            e = _.extend({}, this.attributes, e);
            e = this.validationError = this.validate(e, i) || null;
            if (e)
                return this.trigger("invalid", this, e, _.extend(i, {
                    validationError: e
                })),
                !1;
            else
                return !0
        }
    }),
    Backbone.Collection = function(e, i) {
        if (i = i || {},
        this.preinitialize.apply(this, arguments),
        i.model)
            this.model = i.model;
        if (void 0 !== i.comparator)
            this.comparator = i.comparator;
        if (this._reset(),
        this.initialize.apply(this, arguments),
        e)
            this.reset(e, _.extend({
                silent: !0
            }, i))
    }
    ), x = {
        add: !0,
        remove: !0,
        merge: !0
    }, y = {
        add: !0,
        remove: !1
    }, b = (_.extend(v.prototype, i, {
        model: w,
        preinitialize: function() {},
        initialize: function() {},
        toJSON: function(i) {
            return this.map(function(e) {
                return e.toJSON(i)
            })
        },
        sync: function() {
            return Backbone.sync.apply(this, arguments)
        },
        add: function(e, i) {
            return this.set(e, _.extend({
                merge: !1
            }, i, y))
        },
        remove: function(e, i) {
            i = _.extend({}, i);
            var o = !_.isArray(e)
              , e = (e = o ? [e] : e.slice(),
            this._removeModels(e, i));
            if (!i.silent && e.length)
                i.changes = {
                    added: [],
                    merged: [],
                    removed: e
                },
                this.trigger("update", this, i);
            return o ? e[0] : e
        },
        set: function(e, i) {
            if (null == e)
                ;
            else {
                if ((i = _.extend({}, x, i)).parse && !this._isModel(e))
                    e = this.parse(e, i) || [];
                var o = !_.isArray(e)
                  , r = (e = o ? [e] : e.slice(),
                i.at);
                if (null != r)
                    r = +r;
                if (r > this.length)
                    r = this.length;
                if (r < 0)
                    r += this.length + 1;
                for (var a = [], l = [], u = [], c = [], d = {}, h = i.add, p = i.merge, f = i.remove, g = !1, m = this.comparator && null == r && !1 !== i.sort, w = _.isString(this.comparator) ? this.comparator : null, v = 0; v < e.length; v++) {
                    var y = e[v]
                      , b = this.get(y);
                    if (b) {
                        if (p && y !== b) {
                            var C = this._isModel(y) ? y.attributes : y;
                            if (i.parse)
                                C = b.parse(C, i);
                            if (b.set(C, i),
                            u.push(b),
                            m && !g)
                                g = b.hasChanged(w)
                        }
                        if (!d[b.cid])
                            d[b.cid] = !0,
                            a.push(b);
                        e[v] = b
                    } else if (h)
                        if (y = e[v] = this._prepareModel(y, i))
                            l.push(y),
                            this._addReference(y, i),
                            d[y.cid] = !0,
                            a.push(y)
                }
                if (f) {
                    for (v = 0; v < this.length; v++)
                        if (!d[(y = this.models[v]).cid])
                            c.push(y);
                    if (c.length)
                        this._removeModels(c, i)
                }
                var T = !1;
                if (a.length && (!m && h && f))
                    T = this.length !== a.length || _.some(this.models, function(e, i) {
                        return e !== a[i]
                    }),
                    this.models.length = 0,
                    k(this.models, a, 0),
                    this.length = this.models.length;
                else if (l.length) {
                    if (m)
                        g = !0;
                    k(this.models, l, null == r ? this.length : r),
                    this.length = this.models.length
                }
                if (g)
                    this.sort({
                        silent: !0
                    });
                if (!i.silent) {
                    for (v = 0; v < l.length; v++) {
                        if (null != r)
                            i.index = r + v;
                        (y = l[v]).trigger("add", y, this, i)
                    }
                    if (g || T)
                        this.trigger("sort", this, i);
                    if (l.length || c.length || u.length)
                        i.changes = {
                            added: l,
                            removed: c,
                            merged: u
                        },
                        this.trigger("update", this, i)
                }
                return o ? e[0] : e
            }
        },
        reset: function(e, i) {
            i = i ? _.clone(i) : {};
            for (var o = 0; o < this.models.length; o++)
                this._removeReference(this.models[o], i);
            if (i.previousModels = this.models,
            this._reset(),
            e = this.add(e, _.extend({
                silent: !0
            }, i)),
            !i.silent)
                this.trigger("reset", this, i);
            return e
        },
        push: function(e, i) {
            return this.add(e, _.extend({
                at: this.length
            }, i))
        },
        pop: function(e) {
            var i = this.at(this.length - 1);
            return this.remove(i, e)
        },
        unshift: function(e, i) {
            return this.add(e, _.extend({
                at: 0
            }, i))
        },
        shift: function(e) {
            var i = this.at(0);
            return this.remove(i, e)
        },
        slice: function() {
            return d.apply(this.models, arguments)
        },
        get: function(e) {
            if (null == e)
                ;
            else
                return this._byId[e] || this._byId[this.modelId(this._isModel(e) ? e.attributes : e, e.idAttribute)] || e.cid && this._byId[e.cid]
        },
        has: function(e) {
            return null != this.get(e)
        },
        at: function(e) {
            if (e < 0)
                e += this.length;
            return this.models[e]
        },
        where: function(e, i) {
            return this[i ? "find" : "filter"](e)
        },
        findWhere: function(e) {
            return this.where(e, !0)
        },
        sort: function(e) {
            var i = this.comparator;
            if (!i)
                throw new Error("Cannot sort a set without a comparator");
            e = e || {};
            var o = i.length;
            if (_.isFunction(i))
                i = i.bind(this);
            if (1 === o || _.isString(i))
                this.models = this.sortBy(i);
            else
                this.models.sort(i);
            if (!e.silent)
                this.trigger("sort", this, e);
            return this
        },
        pluck: function(e) {
            return this.map(e + "")
        },
        fetch: function(o) {
            var r = (o = _.extend({
                parse: !0
            }, o)).success
              , a = this;
            return o.success = function(e) {
                var i = o.reset ? "reset" : "set";
                if (a[i](e, o),
                r)
                    r.call(o.context, a, e, o);
                a.trigger("sync", a, e, o)
            }
            ,
            L(this, o),
            this.sync("read", this, o)
        },
        create: function(e, i) {
            var r = (i = i ? _.clone(i) : {}).wait;
            if (!(e = this._prepareModel(e, i)))
                return !1;
            if (!r)
                this.add(e, i);
            var a = this
              , l = i.success;
            if (i.success = function(e, i, o) {
                if (r)
                    e.off("error", a._forwardPristineError, a),
                    a.add(e, o);
                if (l)
                    l.call(o.context, e, i, o)
            }
            ,
            r)
                e.once("error", this._forwardPristineError, this);
            return e.save(null, i),
            e
        },
        parse: function(e, i) {
            return e
        },
        clone: function() {
            return new this.constructor(this.models,{
                model: this.model,
                comparator: this.comparator
            })
        },
        modelId: function(e, i) {
            return e[i || this.model.prototype.idAttribute || "id"]
        },
        values: function() {
            return new C(this,T)
        },
        keys: function() {
            return new C(this,S)
        },
        entries: function() {
            return new C(this,A)
        },
        _reset: function() {
            this.length = 0,
            this.models = [],
            this._byId = {}
        },
        _prepareModel: function(e, i) {
            if (this._isModel(e)) {
                if (!e.collection)
                    e.collection = this;
                return e
            }
            var o;
            if (((i = i ? _.clone(i) : {}).collection = this).model.prototype)
                o = new this.model(e,i);
            else
                o = this.model(e, i);
            if (o.validationError)
                return this.trigger("invalid", this, o.validationError, i),
                !1;
            else
                return o
        },
        _removeModels: function(e, i) {
            for (var o = [], r = 0; r < e.length; r++) {
                var a = this.get(e[r]);
                if (!a)
                    ;
                else {
                    var l = this.indexOf(a)
                      , u = (this.models.splice(l, 1),
                    this.length--,
                    delete this._byId[a.cid],
                    this.modelId(a.attributes, a.idAttribute));
                    if (null != u)
                        delete this._byId[u];
                    if (!i.silent)
                        i.index = l,
                        a.trigger("remove", a, this, i);
                    o.push(a),
                    this._removeReference(a, i)
                }
            }
            if (0 < e.length && !i.silent)
                delete i.index;
            return o
        },
        _isModel: function(e) {
            return e instanceof w
        },
        _addReference: function(e, i) {
            this._byId[e.cid] = e;
            var o = this.modelId(e.attributes, e.idAttribute);
            if (null != o)
                this._byId[o] = e;
            e.on("all", this._onModelEvent, this)
        },
        _removeReference: function(e, i) {
            delete this._byId[e.cid];
            var o = this.modelId(e.attributes, e.idAttribute);
            if (null != o)
                delete this._byId[o];
            if (this === e.collection)
                delete e.collection;
            e.off("all", this._onModelEvent, this)
        },
        _onModelEvent: function(e, i, o, r) {
            if (i) {
                if (("add" === e || "remove" === e) && o !== this)
                    return;
                if ("destroy" === e)
                    this.remove(i, r);
                if ("changeId" === e) {
                    var a = this.modelId(i.previousAttributes(), i.idAttribute)
                      , l = this.modelId(i.attributes, i.idAttribute);
                    if (null != a)
                        delete this._byId[a];
                    if (null != l)
                        this._byId[l] = i
                }
            }
            this.trigger.apply(this, arguments)
        },
        _forwardPristineError: function(e, i, o) {
            if (this.has(e))
                ;
            else
                this._onModelEvent("error", e, i, o)
        }
    }),
    "function" == typeof Symbol && Symbol.iterator);
    if (b)
        v.prototype[b] = v.prototype.values;
    var C = function(e, i) {
        this._collection = e,
        this._kind = i,
        this._index = 0
    }
      , T = 1
      , S = 2
      , A = 3;
    if (b)
        C.prototype[b] = function() {
            return this
        }
        ;
    C.prototype.next = function() {
        if (this._collection) {
            if (this._index < this._collection.length) {
                var e, i = this._collection.at(this._index);
                if (this._index++,
                this._kind === T)
                    e = i;
                else {
                    var o = this._collection.modelId(i.attributes, i.idAttribute);
                    if (this._kind === S)
                        e = o;
                    else
                        e = [o, i]
                }
                return {
                    value: e,
                    done: !1
                }
            }
            this._collection = void 0
        }
        return {
            value: void 0,
            done: !0
        }
    }
    ;
    function E(o, r, e, a) {
        _.each(e, function(e, i) {
            if (r[i])
                o.prototype[i] = function(r, e, a, l) {
                    switch (e) {
                    case 1:
                        return function() {
                            return r[a](this[l])
                        }
                        ;
                    case 2:
                        return function(e) {
                            return r[a](this[l], e)
                        }
                        ;
                    case 3:
                        return function(e, i) {
                            return r[a](this[l], P(e, this), i)
                        }
                        ;
                    case 4:
                        return function(e, i, o) {
                            return r[a](this[l], P(e, this), i, o)
                        }
                        ;
                    default:
                        return function() {
                            var e = d.call(arguments);
                            return e.unshift(this[l]),
                            r[a].apply(r, e)
                        }
                    }
                }(r, e, i, a)
        })
    }
    var b = Backbone.View = function(e) {
        this.cid = _.uniqueId("view"),
        this.preinitialize.apply(this, arguments),
        _.extend(this, _.pick(e, I)),
        this._ensureElement(),
        this.initialize.apply(this, arguments)
    }
      , M = /^(\S+)\s*(.*)$/
      , I = ["model", "collection", "el", "id", "attributes", "className", "tagName", "events"]
      , P = (_.extend(b.prototype, i, {
        tagName: "div",
        $: function(e) {
            return this.$el.find(e)
        },
        preinitialize: function() {},
        initialize: function() {},
        render: function() {
            return this
        },
        remove: function() {
            return this._removeElement(),
            this.stopListening(),
            this
        },
        _removeElement: function() {
            this.$el.remove()
        },
        setElement: function(e) {
            return this.undelegateEvents(),
            this._setElement(e),
            this.delegateEvents(),
            this
        },
        _setElement: function(e) {
            this.$el = e instanceof Backbone.$ ? e : Backbone.$(e),
            this.el = this.$el[0]
        },
        delegateEvents: function(e) {
            if (!(e = e || _.result(this, "events")))
                ;
            else
                for (var i in this.undelegateEvents(),
                e) {
                    var o = e[i];
                    if (!_.isFunction(o))
                        o = this[o];
                    if (!o)
                        ;
                    else {
                        i = i.match(M);
                        this.delegate(i[1], i[2], o.bind(this))
                    }
                }
            return this
        },
        delegate: function(e, i, o) {
            return this.$el.on(e + ".delegateEvents" + this.cid, i, o),
            this
        },
        undelegateEvents: function() {
            if (this.$el)
                this.$el.off(".delegateEvents" + this.cid);
            return this
        },
        undelegate: function(e, i, o) {
            return this.$el.off(e + ".delegateEvents" + this.cid, i, o),
            this
        },
        _createElement: function(e) {
            return document.createElement(e)
        },
        _ensureElement: function() {
            if (!this.el) {
                var e = _.extend({}, _.result(this, "attributes"));
                if (this.id)
                    e.id = _.result(this, "id");
                if (this.className)
                    e.class = _.result(this, "className");
                this.setElement(this._createElement(_.result(this, "tagName"))),
                this._setAttributes(e)
            } else
                this.setElement(_.result(this, "el"))
        },
        _setAttributes: function(e) {
            this.$el.attr(e)
        }
    }),
    function(i, e) {
        if (_.isFunction(i))
            return i;
        if (_.isObject(i) && !e._isModel(i))
            return O(i);
        if (_.isString(i))
            return function(e) {
                return e.get(i)
            }
            ;
        else
            return i
    }
    )
      , O = function(e) {
        var i = _.matches(e);
        return function(e) {
            return i(e.attributes)
        }
    }
      , R = (_.each([[v, {
        forEach: 3,
        each: 3,
        map: 3,
        collect: 3,
        reduce: 0,
        foldl: 0,
        inject: 0,
        reduceRight: 0,
        foldr: 0,
        find: 3,
        detect: 3,
        filter: 3,
        select: 3,
        reject: 3,
        every: 3,
        all: 3,
        some: 3,
        any: 3,
        include: 3,
        includes: 3,
        contains: 3,
        invoke: 0,
        max: 3,
        min: 3,
        toArray: 1,
        size: 1,
        first: 3,
        head: 3,
        take: 3,
        initial: 3,
        rest: 3,
        tail: 3,
        drop: 3,
        last: 3,
        without: 0,
        difference: 0,
        indexOf: 3,
        shuffle: 1,
        lastIndexOf: 3,
        isEmpty: 1,
        chain: 1,
        sample: 3,
        partition: 3,
        groupBy: 3,
        countBy: 3,
        sortBy: 3,
        indexBy: 3,
        findIndex: 3,
        findLastIndex: 3
    }, "models"], [w, {
        keys: 1,
        values: 1,
        pairs: 1,
        invert: 1,
        pick: 0,
        omit: 0,
        chain: 1,
        isEmpty: 1
    }, "attributes"]], function(e) {
        var o = e[0]
          , i = e[1]
          , r = e[2];
        o.mixin = function(e) {
            var i = _.reduce(_.functions(e), function(e, i) {
                return e[i] = 0,
                e
            }, {});
            E(o, e, i, r)
        }
        ,
        E(o, _, i, r)
    }),
    Backbone.sync = function(e, i, r) {
        var o = R[e]
          , a = (_.defaults(r = r || {}, {
            emulateHTTP: Backbone.emulateHTTP,
            emulateJSON: Backbone.emulateJSON
        }),
        {
            type: o,
            dataType: "json"
        });
        if (!r.url)
            a.url = _.result(i, "url") || B();
        if (null == r.data && i && ("create" === e || "update" === e || "patch" === e))
            a.contentType = "application/json",
            a.data = JSON.stringify(r.attrs || i.toJSON(r));
        if (r.emulateJSON)
            a.contentType = "application/x-www-form-urlencoded",
            a.data = a.data ? {
                model: a.data
            } : {};
        if (r.emulateHTTP && ("PUT" === o || "DELETE" === o || "PATCH" === o)) {
            if (a.type = "POST",
            r.emulateJSON)
                a.data._method = o;
            var l = r.beforeSend;
            r.beforeSend = function(e) {
                if (e.setRequestHeader("X-HTTP-Method-Override", o),
                l)
                    return l.apply(this, arguments)
            }
        }
        if ("GET" !== a.type && !r.emulateJSON)
            a.processData = !1;
        var u = r.error
          , e = (r.error = function(e, i, o) {
            if (r.textStatus = i,
            r.errorThrown = o,
            u)
                u.call(r.context, e, i, o)
        }
        ,
        r.xhr = Backbone.ajax(_.extend(a, r)));
        return i.trigger("request", i, e, r),
        e
    }
    ,
    {
        create: "POST",
        update: "PUT",
        patch: "PATCH",
        delete: "DELETE",
        read: "GET"
    })
      , G = (Backbone.ajax = function() {
        return Backbone.$.ajax.apply(Backbone.$, arguments)
    }
    ,
    Backbone.Router = function(e) {
        if (e = e || {},
        this.preinitialize.apply(this, arguments),
        e.routes)
            this.routes = e.routes;
        this._bindRoutes(),
        this.initialize.apply(this, arguments)
    }
    )
      , W = /\((.*?)\)/g
      , F = /(\(\?)?:\w+/g
      , N = /\*\w+/g
      , $ = /[\-{}\[\]+?.,\\\^$|#\s]/g
      , D = (_.extend(G.prototype, i, {
        preinitialize: function() {},
        initialize: function() {},
        route: function(i, o, r) {
            if (!_.isRegExp(i))
                i = this._routeToRegExp(i);
            if (_.isFunction(o))
                r = o,
                o = "";
            if (!r)
                r = this[o];
            var a = this;
            return Backbone.history.route(i, function(e) {
                e = a._extractParameters(i, e);
                if (!1 !== a.execute(r, e, o))
                    a.trigger.apply(a, ["route:" + o].concat(e)),
                    a.trigger("route", o, e),
                    Backbone.history.trigger("route", a, o, e)
            }),
            this
        },
        execute: function(e, i, o) {
            if (e)
                e.apply(this, i)
        },
        navigate: function(e, i) {
            return Backbone.history.navigate(e, i),
            this
        },
        _bindRoutes: function() {
            if (!this.routes)
                ;
            else {
                this.routes = _.result(this, "routes");
                for (var e, i = _.keys(this.routes); null != (e = i.pop()); )
                    this.route(e, this.routes[e])
            }
        },
        _routeToRegExp: function(e) {
            return e = e.replace($, "\\$&").replace(W, "(?:$1)?").replace(F, function(e, i) {
                return i ? e : "([^/?]+)"
            }).replace(N, "([^?]*?)"),
            new RegExp("^" + e + "(?:\\?([\\s\\S]*))?$")
        },
        _extractParameters: function(e, i) {
            var o = e.exec(i).slice(1);
            return _.map(o, function(e, i) {
                if (i === o.length - 1)
                    return e || null;
                else
                    return e ? decodeURIComponent(e) : null
            })
        }
    }),
    Backbone.History = function() {
        if (this.handlers = [],
        this.checkUrl = this.checkUrl.bind(this),
        "undefined" != typeof window)
            this.location = window.location,
            this.history = window.history
    }
    )
      , z = /^[#\/]|\s+$/g
      , q = /^\/+|\/+$/g
      , H = /#.*$/
      , B = (D.started = !1,
    _.extend(D.prototype, i, {
        interval: 50,
        atRoot: function() {
            return this.location.pathname.replace(/[^\/]$/, "$&/") === this.root && !this.getSearch()
        },
        matchRoot: function() {
            return this.decodeFragment(this.location.pathname).slice(0, this.root.length - 1) + "/" === this.root
        },
        decodeFragment: function(e) {
            return decodeURI(e.replace(/%25/g, "%2525"))
        },
        getSearch: function() {
            var e = this.location.href.replace(/#.*/, "").match(/\?.+/);
            return e ? e[0] : ""
        },
        getHash: function(e) {
            e = (e || this).location.href.match(/#(.*)$/);
            return e ? e[1] : ""
        },
        getPath: function() {
            var e = this.decodeFragment(this.location.pathname + this.getSearch()).slice(this.root.length - 1);
            return "/" === e.charAt(0) ? e.slice(1) : e
        },
        getFragment: function(e) {
            if (null == e)
                if (this._usePushState || !this._wantsHashChange)
                    e = this.getPath();
                else
                    e = this.getHash();
            return e.replace(z, "")
        },
        start: function(e) {
            if (D.started)
                throw new Error("Backbone.history has already been started");
            if (D.started = !0,
            this.options = _.extend({
                root: "/"
            }, this.options, e),
            this.root = this.options.root,
            this._trailingSlash = this.options.trailingSlash,
            this._wantsHashChange = !1 !== this.options.hashChange,
            this._hasHashChange = "onhashchange"in window && (void 0 === document.documentMode || 7 < document.documentMode),
            this._useHashChange = this._wantsHashChange && this._hasHashChange,
            this._wantsPushState = !!this.options.pushState,
            this._hasPushState = !(!this.history || !this.history.pushState),
            this._usePushState = this._wantsPushState && this._hasPushState,
            this.fragment = this.getFragment(),
            this.root = ("/" + this.root + "/").replace(q, "/"),
            this._wantsHashChange && this._wantsPushState)
                if (!this._hasPushState && !this.atRoot()) {
                    e = this.root.slice(0, -1) || "/";
                    return this.location.replace(e + "#" + this.getPath()),
                    !0
                } else if (this._hasPushState && this.atRoot())
                    this.navigate(this.getHash(), {
                        replace: !0
                    });
            if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {
                this.iframe = document.createElement("iframe"),
                this.iframe.src = "javascript:0",
                this.iframe.style.display = "none",
                this.iframe.tabIndex = -1;
                e = document.body,
                e = e.insertBefore(this.iframe, e.firstChild).contentWindow;
                e.document.open(),
                e.document.close(),
                e.location.hash = "#" + this.fragment
            }
            e = window.addEventListener || function(e, i) {
                return attachEvent("on" + e, i)
            }
            ;
            if (this._usePushState)
                e("popstate", this.checkUrl, !1);
            else if (this._useHashChange && !this.iframe)
                e("hashchange", this.checkUrl, !1);
            else if (this._wantsHashChange)
                this._checkUrlInterval = setInterval(this.checkUrl, this.interval);
            if (!this.options.silent)
                return this.loadUrl()
        },
        stop: function() {
            var e = window.removeEventListener || function(e, i) {
                return detachEvent("on" + e, i)
            }
            ;
            if (this._usePushState)
                e("popstate", this.checkUrl, !1);
            else if (this._useHashChange && !this.iframe)
                e("hashchange", this.checkUrl, !1);
            if (this.iframe)
                document.body.removeChild(this.iframe),
                this.iframe = null;
            if (this._checkUrlInterval)
                clearInterval(this._checkUrlInterval);
            D.started = !1
        },
        route: function(e, i) {
            this.handlers.unshift({
                route: e,
                callback: i
            })
        },
        checkUrl: function(e) {
            var i = this.getFragment();
            if (i === this.fragment && this.iframe)
                i = this.getHash(this.iframe.contentWindow);
            if (i === this.fragment)
                if (this.matchRoot())
                    return !1;
                else
                    return this.notfound();
            if (this.iframe)
                this.navigate(i);
            this.loadUrl()
        },
        loadUrl: function(i) {
            if (this.matchRoot())
                return i = this.fragment = this.getFragment(i),
                _.some(this.handlers, function(e) {
                    if (e.route.test(i))
                        return e.callback(i),
                        !0
                }) || this.notfound();
            else
                return this.notfound()
        },
        notfound: function() {
            return this.trigger("notfound"),
            !1
        },
        navigate: function(e, i) {
            if (!D.started)
                return !1;
            if (!i || !0 === i)
                i = {
                    trigger: !!i
                };
            e = this.getFragment(e || "");
            var o = this.root;
            if (!this._trailingSlash && ("" === e || "?" === e.charAt(0)))
                o = o.slice(0, -1) || "/";
            var o = o + e
              , r = (e = e.replace(H, ""),
            this.decodeFragment(e));
            if (this.fragment === r)
                ;
            else {
                if (this.fragment = r,
                this._usePushState)
                    this.history[i.replace ? "replaceState" : "pushState"]({}, document.title, o);
                else if (this._wantsHashChange) {
                    if (this._updateHash(this.location, e, i.replace),
                    this.iframe && e !== this.getHash(this.iframe.contentWindow)) {
                        r = this.iframe.contentWindow;
                        if (!i.replace)
                            r.document.open(),
                            r.document.close();
                        this._updateHash(r.location, e, i.replace)
                    }
                } else
                    return this.location.assign(o);
                if (i.trigger)
                    return this.loadUrl(e)
            }
        },
        _updateHash: function(e, i, o) {
            if (o) {
                o = e.href.replace(/(javascript:|#).*$/, "");
                e.replace(o + "#" + i)
            } else
                e.hash = "#" + i
        }
    }),
    Backbone.history = new D,
    w.extend = v.extend = G.extend = b.extend = D.extend = function(e, i) {
        var o, r = this;
        if (e && _.has(e, "constructor"))
            o = e.constructor;
        else
            o = function() {
                return r.apply(this, arguments)
            }
            ;
        return _.extend(o, r, i),
        o.prototype = _.create(r.prototype, e),
        (o.prototype.constructor = o).__super__ = r.prototype,
        o
    }
    ,
    function() {
        throw new Error('A "url" property or function must be specified')
    }
    )
      , L = function(i, o) {
        var r = o.error;
        o.error = function(e) {
            if (r)
                r.call(o.context, i, e, o);
            i.trigger("error", i, e, o)
        }
    };
    return Backbone._debug = function() {
        return {
            root: e,
            _: _
        }
    }
    ,
    Backbone
}),
function(e, i) {
    if ("object" == typeof exports)
        module.exports = i(require("underscore"), require("backbone"));
    else if ("function" == typeof define && define.amd)
        define(["underscore", "backbone"], i);
    else {
        for (var o = "FilteredCollection".split("."), r = e, a = 0; a < o.length - 1; a++) {
            if (void 0 === r[o[a]])
                r[o[a]] = {};
            r = r[o[a]]
        }
        r[o[o.length - 1]] = i(e._, e.Backbone)
    }
}(this, function(_, Backbone) {
    function g(e) {
        return {
            underscore: _,
            backbone: Backbone
        }[e]
    }
    function m(e) {
        if (!(o = m.cache[e])) {
            var i = {}
              , o = m.cache[e] = {
                id: e,
                exports: i
            };
            m.modules[e].call(i, o, i)
        }
        return o.exports
    }
    return m.cache = [],
    m.modules = [function(e, i) {
        var _ = g("underscore")
          , Backbone = g("backbone")
          , o = m(1)
          , r = m(2);
        function a() {
            this._filterResultCache = {}
        }
        function l(e) {
            for (var i in this._filterResultCache)
                if (this._filterResultCache.hasOwnProperty(i))
                    delete this._filterResultCache[i][e]
        }
        function u(e) {
            if (!this._filterResultCache[e.cid])
                this._filterResultCache[e.cid] = {};
            var i, o = this._filterResultCache[e.cid];
            for (i in this._filters)
                if (this._filters.hasOwnProperty(i)) {
                    if (!o.hasOwnProperty(i))
                        o[i] = this._filters[i].fn(e);
                    if (!o[i])
                        return !1
                }
            return !0
        }
        function c() {
            var e = [];
            if (this._superset)
                e = this._superset.filter(_.bind(u, this));
            this._collection.reset(e),
            this.length = this._collection.length
        }
        function d(e) {
            if (this._filterResultCache[e.cid] = {},
            u.call(this, e)) {
                if (!this._collection.get(e.cid)) {
                    for (var i = null, o = this.superset().indexOf(e) - 1; 0 <= o; --o)
                        if (this.contains(this.superset().at(o))) {
                            i = this.indexOf(this.superset().at(o)) + 1;
                            break
                        }
                    this._collection.add(e, {
                        at: i = i || 0
                    })
                }
            } else if (this._collection.get(e.cid))
                this._collection.remove(e);
            this.length = this._collection.length
        }
        function h(e, i, o) {
            if ("change:" === e.slice(0, 7))
                (function(e) {
                    if (this._filterResultCache[e.cid] = {},
                    !u.call(this, e))
                        if (this._collection.get(e.cid))
                            this._collection.remove(e)
                }
                ).call(this, i)
        }
        function p(e) {
            if (this.contains(e))
                this._collection.remove(e);
            this.length = this._collection.length
        }
        function f(e) {
            this._superset = e,
            this._collection = new Backbone.Collection(e.toArray()),
            o(this._collection, this),
            this.resetFilters(),
            this.listenTo(this._superset, "reset sort", c),
            this.listenTo(this._superset, "add change", d),
            this.listenTo(this._superset, "remove", p),
            this.listenTo(this._superset, "all", h)
        }
        _.extend(f.prototype, {
            defaultFilterName: "__default",
            filterBy: function(e, i) {
                if (!i)
                    i = e,
                    e = this.defaultFilterName;
                return function(e, i) {
                    if (this._filters[e])
                        l.call(this, e);
                    this._filters[e] = i,
                    this.trigger("filtered:add", e)
                }
                .call(this, e, r(i)),
                c.call(this),
                this
            },
            removeFilter: function(e) {
                if (!e)
                    e = this.defaultFilterName;
                return function(e) {
                    delete this._filters[e],
                    l.call(this, e),
                    this.trigger("filtered:remove", e)
                }
                .call(this, e),
                c.call(this),
                this
            },
            resetFilters: function() {
                return this._filters = {},
                a.call(this),
                this.trigger("filtered:reset"),
                c.call(this),
                this
            },
            superset: function() {
                return this._superset
            },
            refilter: function(e) {
                if ("object" == typeof e && e.cid)
                    d.call(this, e);
                else
                    a.call(this),
                    c.call(this);
                return this
            },
            getFilters: function() {
                return _.keys(this._filters)
            },
            hasFilter: function(e) {
                return _.contains(this.getFilters(), e)
            },
            destroy: function() {
                this.stopListening(),
                this._collection.reset([]),
                this._superset = this._collection,
                this.length = 0,
                this.trigger("filtered:destroy")
            }
        }, Backbone.Events),
        e.exports = f
    }
    , function(e, i) {
        var _ = g("underscore")
          , Backbone = g("backbone")
          , o = ["_onModelEvent", "_prepareModel", "_removeReference", "_reset", "add", "initialize", "sync", "remove", "reset", "set", "push", "pop", "unshift", "shift", "sort", "parse", "fetch", "create", "model", "off", "on", "listenTo", "listenToOnce", "bind", "trigger", "once", "stopListening"]
          , l = ["add", "remove", "reset", "sort", "destroy", "sync", "request", "error"];
        e.exports = function(r, a) {
            function e() {
                a.length = r.length
            }
            var i = {};
            return _.each(_.functions(Backbone.Collection.prototype), function(e) {
                if (!_.contains(o, e))
                    i[e] = function() {
                        return r[e].apply(r, arguments)
                    }
            }),
            _.extend(a, Backbone.Events, i),
            a.listenTo(r, "all", e),
            a.listenTo(r, "all", function(e) {
                var i = _.toArray(arguments)
                  , o = "change" === e || "change:" === e.slice(0, 7);
                if ("reset" === e)
                    a.models = r.models;
                if (_.contains(l, e)) {
                    if (_.contains(["add", "remove", "destroy"], e))
                        i[2] = a;
                    else if (_.contains(["reset", "sort"], e))
                        i[1] = a;
                    a.trigger.apply(this, i)
                } else if (o)
                    if (a.contains(i[1]))
                        a.trigger.apply(this, i)
            }),
            a.models = r.models,
            e(),
            a
        }
    }
    , function(e, i) {
        var _ = g("underscore");
        function r(e, i) {
            if (!_.isArray(i))
                i = null;
            return {
                fn: e,
                keys: i
            }
        }
        function o(u) {
            var e = _.keys(u)
              , o = _.map(e, function(e) {
                var i, o, r, a, l = u[e];
                if (_.isFunction(l))
                    return i = e,
                    o = l,
                    function(e) {
                        return o(e.get(i))
                    }
                    ;
                else
                    return r = e,
                    a = l,
                    function(e) {
                        return e.get(r) === a
                    }
            });
            return r(function(e) {
                for (var i = 0; i < o.length; i++)
                    if (!o[i](e))
                        return !1;
                return !0
            }, e)
        }
        e.exports = function(e, i) {
            if (_.isFunction(e))
                return r(e, i);
            if (_.isObject(e))
                return o(e)
        }
    }
    ],
    m(0)
}),
function(e) {
    if ("object" == typeof exports)
        module.exports = e(require("underscore"), require("backbone"));
    else if ("function" == typeof define && define.amd)
        define(["underscore", "backbone"], e);
    else if (void 0 !== _ && "undefined" != typeof Backbone) {
        var i = Backbone.PageableCollection
          , o = e(_, Backbone);
        Backbone.PageableCollection.noConflict = function() {
            return Backbone.PageableCollection = i,
            o
        }
    }
}(function(_, Backbone) {
    "use strict";
    var C = _.extend
      , y = _.omit
      , T = _.clone
      , k = _.each
      , b = _.pick
      , g = _.contains
      , p = _.isEmpty
      , x = _.pairs
      , u = _.invert
      , S = _.isArray
      , A = _.isFunction
      , c = _.isObject
      , E = _.keys
      , M = _.isUndefined
      , I = Math.ceil
      , l = Math.floor
      , m = Math.max
      , P = Backbone.Collection.prototype;
    function f(e, i) {
        if (_.isNumber(e) && !_.isNaN(e) && _.isFinite(e) && ~~e === e)
            return e;
        throw new TypeError("`" + i + "` must be a finite integer")
    }
    function O(e, i, o) {
        e = e._events[i];
        if (e && e.length) {
            var r = e[e.length - 1]
              , a = r.callback;
            r.callback = function() {
                try {
                    a.apply(this, arguments),
                    o()
                } catch (e) {
                    throw e
                } finally {
                    r.callback = a
                }
            }
        } else
            o()
    }
    var d = /[\s'"]/g
      , h = /[<>\s'"]/g
      , e = Backbone.PageableCollection = Backbone.Collection.extend({
        state: {
            firstPage: 1,
            lastPage: null,
            currentPage: null,
            pageSize: 25,
            totalPages: null,
            totalRecords: null,
            sortKey: null,
            order: -1
        },
        mode: "server",
        queryParams: {
            currentPage: "page",
            pageSize: "per_page",
            totalPages: "total_pages",
            totalRecords: "total_entries",
            sortKey: "sort_by",
            order: "order",
            directions: {
                "-1": "asc",
                1: "desc"
            }
        },
        constructor: function(e, i) {
            P.constructor.apply(this, arguments);
            var o = this.mode = (i = i || {}).mode || this.mode || R.mode
              , r = C({}, R.queryParams, this.queryParams, i.queryParams || {})
              , r = (r.directions = C({}, R.queryParams.directions, this.queryParams.directions, r.directions || {}),
            this.queryParams = r,
            this.state = C({}, R.state, this.state, i.state || {}));
            if (r.currentPage = null == r.currentPage ? r.firstPage : r.currentPage,
            !S(e))
                e = e ? [e] : [];
            if (e = e.slice(),
            "server" != o && null == r.totalRecords && !p(e))
                r.totalRecords = e.length;
            this.switchMode(o, C({
                fetch: !1,
                resetState: !1,
                models: e
            }, i));
            var a = i.comparator;
            if (r.sortKey && !a)
                this.setSorting(r.sortKey, r.order, i);
            if ("server" != o) {
                o = this.fullCollection;
                if (a && i.full)
                    this.comparator = null,
                    o.comparator = a;
                if (i.full)
                    o.sort();
                if (e && !p(e))
                    this.reset(e, C({
                        silent: !0
                    }, i)),
                    this.getPage(r.currentPage),
                    e.splice.apply(e, [0, e.length].concat(this.models))
            }
            this._initState = T(this.state)
        },
        _makeFullCollection: function(e, i) {
            for (var o, r = ["url", "model", "sync", "comparator"], a = this.constructor.prototype, l = {}, u = 0, c = r.length; u < c; u++)
                if (!M(a[o = r[u]]))
                    l[o] = a[o];
            var d = new (Backbone.Collection.extend(l))(e,i);
            for (u = 0,
            c = r.length; u < c; u++)
                if (this[o = r[u]] !== a[o])
                    d[o] = this[o];
            return d
        },
        _makeCollectionEventHandler: function(y, b) {
            return function(e, i, o, r) {
                var a = y._handlers
                  , l = (k(E(a), function(e) {
                    var i = a[e];
                    y.off(e, i),
                    b.off(e, i)
                }),
                T(y.state))
                  , u = l.firstPage
                  , c = 0 === u ? l.currentPage : l.currentPage - 1
                  , d = l.pageSize
                  , c = c * d
                  , h = c + d;
                if ("add" == e) {
                    r = r || {};
                    if (o == b) {
                        if (c <= (p = b.indexOf(i)) && p < h)
                            f = y,
                            v = g = p - c
                    } else
                        var p = c + (v = y.indexOf(i))
                          , f = b
                          , g = !M(r.at) ? r.at + c : p;
                    if (!r.onRemove)
                        ++l.totalRecords,
                        delete r.onRemove;
                    if (y.state = y._checkState(l),
                    f) {
                        f.add(i, C({}, r || {}, {
                            at: g
                        }));
                        var m = d <= v ? i : !M(r.at) && g < h && y.length > d ? y.at(d) : null;
                        if (m)
                            O(o, e, function() {
                                y.remove(m, {
                                    onAdd: !0
                                })
                            })
                    }
                }
                if ("remove" == e)
                    if (!r.onAdd) {
                        if (!--l.totalRecords)
                            l.totalRecords = null,
                            l.totalPages = null;
                        else {
                            p = l.totalPages = I(l.totalRecords / d);
                            if (l.lastPage = 0 === u ? p - 1 : p || u,
                            l.currentPage > p)
                                l.currentPage = l.lastPage
                        }
                        y.state = y._checkState(l);
                        var w, f = r.index;
                        if (o == y) {
                            if (w = b.at(h))
                                O(y, e, function() {
                                    y.push(w, {
                                        onRemove: !0
                                    })
                                });
                            else if (!y.length && l.totalRecords)
                                y.reset(b.models.slice(c - d, h - d), C({}, r, {
                                    parse: !1
                                }));
                            b.remove(i)
                        } else if (c <= f && f < h) {
                            if (w = b.at(h - 1))
                                O(y, e, function() {
                                    y.push(w, {
                                        onRemove: !0
                                    })
                                });
                            if (y.remove(i),
                            !y.length && l.totalRecords)
                                y.reset(b.models.slice(c - d, h - d), C({}, r, {
                                    parse: !1
                                }))
                        }
                    } else
                        delete r.onAdd;
                if ("reset" == e)
                    if (r = o,
                    (o = i) == y && null == r.from && null == r.to) {
                        var v = b.models.slice(0, c)
                          , g = b.models.slice(c + y.models.length);
                        b.reset(v.concat(y.models).concat(g), r)
                    } else if (o == b) {
                        if (!(l.totalRecords = b.models.length))
                            l.totalRecords = null,
                            l.totalPages = null;
                        if ("client" == y.mode)
                            l.lastPage = l.currentPage = l.firstPage;
                        y.state = y._checkState(l),
                        y.reset(b.models.slice(c, h), C({}, r, {
                            parse: !1
                        }))
                    }
                if ("sort" == e)
                    if (r = o,
                    (o = i) === b)
                        y.reset(b.models.slice(c, h), C({}, r, {
                            parse: !1
                        }));
                k(E(a), function(i) {
                    var o = a[i];
                    k([y, b], function(e) {
                        e.on(i, o);
                        e = e._events[i] || [];
                        e.unshift(e.pop())
                    })
                })
            }
        },
        _checkState: function(e) {
            var i = this.mode
              , o = this.links
              , r = e.totalRecords
              , a = e.pageSize
              , l = e.currentPage
              , u = e.firstPage;
            if (null != r && null != a && null != l && null != u && ("infinite" == i ? o : 1)) {
                if (r = f(r, "totalRecords"),
                a = f(a, "pageSize"),
                l = f(l, "currentPage"),
                u = f(u, "firstPage"),
                a < 1)
                    throw new RangeError("`pageSize` must be >= 1");
                if (r = e.totalPages = I(r / a),
                u < 0 || 1 < u)
                    throw new RangeError("`firstPage must be 0 or 1`");
                if (e.lastPage = 0 === u ? m(0, r - 1) : r || u,
                "infinite" == i) {
                    if (!o[l + ""])
                        throw new RangeError("No link found for page " + l)
                } else if (l < u || 0 < r && (u ? r < l : r <= l))
                    throw new RangeError("`currentPage` must be firstPage <= currentPage " + (u ? ">" : ">=") + " totalPages if " + u + "-based. Got " + l + ".")
            }
            return e
        },
        setPageSize: function(e, i) {
            e = f(e, "pageSize"),
            i = i || {
                first: !1
            };
            var o = this.state
              , r = I(o.totalRecords / e)
              , a = r ? m(o.firstPage, l(r * o.currentPage / o.totalPages)) : o.firstPage
              , o = this.state = this._checkState(C({}, o, {
                pageSize: e,
                currentPage: i.first ? o.firstPage : a,
                totalPages: r
            }));
            return this.getPage(o.currentPage, y(i, ["first"]))
        },
        switchMode: function(e, i) {
            if (!g(["server", "client", "infinite"], e))
                throw new TypeError('`mode` must be one of "server", "client" or "infinite"');
            var o, r = this.state = (i = i || {
                fetch: !0,
                resetState: !0
            }).resetState ? T(this._initState) : this._checkState(C({}, this.state)), a = (this.mode = e,
            this), l = this.fullCollection, u = this._handlers = this._handlers || {};
            if ("server" != e && !l) {
                ((l = this._makeFullCollection(i.models || [], i)).pageableCollection = this).fullCollection = l;
                var c = this._makeCollectionEventHandler(this, l);
                k(["add", "remove", "reset", "sort"], function(e) {
                    u[e] = o = _.bind(c, {}, e),
                    a.on(e, o),
                    l.on(e, o)
                }),
                l.comparator = this._fullComparator
            } else if ("server" == e && l)
                k(E(u), function(e) {
                    o = u[e],
                    a.off(e, o),
                    l.off(e, o)
                }),
                delete this._handlers,
                this._fullComparator = l.comparator,
                delete this.fullCollection;
            if ("infinite" == e)
                for (var d = this.links = {}, e = r.firstPage, h = I(r.totalRecords / r.pageSize), p = 0 === e ? m(0, h - 1) : h || e, f = r.firstPage; f <= p; f++)
                    d[f] = this.url;
            else if (this.links)
                delete this.links;
            return i.fetch ? this.fetch(y(i, "fetch", "resetState")) : this
        },
        hasPreviousPage: function() {
            var e = this.state
              , i = e.currentPage;
            if ("infinite" != this.mode)
                return i > e.firstPage;
            else
                return !!this.links[i - 1]
        },
        hasNextPage: function() {
            var e = this.state
              , i = this.state.currentPage;
            if ("infinite" != this.mode)
                return i < e.lastPage;
            else
                return !!this.links[i + 1]
        },
        getFirstPage: function(e) {
            return this.getPage("first", e)
        },
        getPreviousPage: function(e) {
            return this.getPage("prev", e)
        },
        getNextPage: function(e) {
            return this.getPage("next", e)
        },
        getLastPage: function(e) {
            return this.getPage("last", e)
        },
        getPage: function(e, i) {
            var o = this.mode
              , r = this.fullCollection
              , a = (i = i || {
                fetch: !1
            },
            this.state)
              , l = a.firstPage
              , u = a.currentPage
              , c = a.lastPage
              , d = a.pageSize
              , h = e;
            switch (e) {
            case "first":
                h = l;
                break;
            case "prev":
                h = u - 1;
                break;
            case "next":
                h = u + 1;
                break;
            case "last":
                h = c;
                break;
            default:
                h = f(e, "index")
            }
            this.state = this._checkState(C({}, a, {
                currentPage: h
            })),
            i.from = u,
            i.to = h;
            a = (0 === l ? h : h - 1) * d,
            r = r && r.length ? r.models.slice(a, a + d) : [];
            if (("client" == o || "infinite" == o && !p(r)) && !i.fetch)
                return this.reset(r, y(i, "fetch")),
                this;
            if ("infinite" == o)
                i.url = this.links[h];
            return this.fetch(y(i, "fetch"))
        },
        getPageByOffset: function(e, i) {
            if (e < 0)
                throw new RangeError("`offset must be > 0`");
            e = f(e);
            e = l(e / this.state.pageSize);
            if (0 !== this.state.firstPage)
                e++;
            if (e > this.state.lastPage)
                e = this.state.lastPage;
            return this.getPage(e, i)
        },
        sync: function(e, i, l) {
            var u = this;
            if ("infinite" == u.mode) {
                var c = l.success
                  , d = u.state.currentPage;
                l.success = function(e, i, o) {
                    var r = u.links
                      , a = u.parseLinks(e, C({
                        xhr: o
                    }, l));
                    if (a.first)
                        r[u.state.firstPage] = a.first;
                    if (a.prev)
                        r[d - 1] = a.prev;
                    if (a.next)
                        r[d + 1] = a.next;
                    if (c)
                        c(e, i, o)
                }
            }
            return (P.sync || Backbone.sync).call(u, e, i, l)
        },
        parseLinks: function(e, i) {
            var r = {}
              , i = i.xhr.getResponseHeader("Link");
            if (i) {
                var a = ["first", "prev", "next"];
                k(i.split(","), function(e) {
                    var e = e.split(";")
                      , o = e[0].replace(h, "")
                      , e = e.slice(1);
                    k(e, function(e) {
                        var e = e.split("=")
                          , i = e[0].replace(d, "")
                          , e = e[1].replace(d, "");
                        if ("rel" == i && g(a, e))
                            r[e] = o
                    })
                })
            }
            return r
        },
        parse: function(e, i) {
            var o = this.parseState(e, T(this.queryParams), T(this.state), i);
            if (o)
                this.state = this._checkState(C({}, this.state, o));
            return this.parseRecords(e, i)
        },
        parseState: function(e, i, o, r) {
            if (e && 2 === e.length && c(e[0]) && S(e[1])) {
                var a = T(o)
                  , l = e[0];
                if (k(x(y(i, "directions")), function(e) {
                    var i = e[0]
                      , e = e[1]
                      , o = l[e];
                    if (!M(o) && !_.isNull(o))
                        a[i] = l[e]
                }),
                l.order)
                    a.order = +u(i.directions)[l.order];
                return a
            }
        },
        parseRecords: function(e, i) {
            if (e && 2 === e.length && c(e[0]) && S(e[1]))
                return e[1];
            else
                return e
        },
        fetch: function(a) {
            a = a || {};
            var e = this._checkState(this.state)
              , l = this.mode;
            if ("infinite" == l && !a.url)
                a.url = this.links[e.currentPage];
            var i = a.data || {}
              , o = a.url || this.url || "";
            if (A(o))
                o = o.call(this);
            var r = o.indexOf("?");
            if (-1 != r)
                C(i, function(e) {
                    for (var i, o = {}, r = decodeURIComponent, a = e.split("&"), l = 0, u = a.length; l < u; l++) {
                        var c = (d = a[l].split("="))[0]
                          , d = d[1] || !0;
                        if (c = r(c),
                        d = r(d),
                        i = o[c],
                        S(i))
                            i.push(d);
                        else if (i)
                            o[c] = [i, d];
                        else
                            o[c] = d
                    }
                    return o
                }(o.slice(r + 1))),
                o = o.slice(0, r);
            a.url = o,
            a.data = i;
            for (var u, c, d, r = "client" == this.mode ? b(this.queryParams, "sortKey", "order") : y(b(this.queryParams, E(R.queryParams)), "directions"), h = x(r), p = T(this), f = 0; f < h.length; f++)
                if (c = (u = h[f])[0],
                d = A(d = u[1]) ? d.call(p) : d,
                null != e[c] && null != d)
                    i[d] = e[c];
            if (e.sortKey && e.order)
                i[A(r.order) ? r.order.call(p) : r.order] = this.queryParams.directions[e.order + ""];
            else if (!e.sortKey)
                delete i[r.order];
            var g = x(y(this.queryParams, E(R.queryParams)));
            for (f = 0; f < g.length; f++)
                if (d = (u = g[f])[1],
                null != (d = A(d) ? d.call(p) : d))
                    i[u[0]] = d;
            if ("server" == l)
                return P.fetch.call(this, a);
            else {
                var m = this
                  , w = this.fullCollection
                  , v = a.success;
                return a.success = function(e, i, o) {
                    if (o = o || {},
                    M(a.silent))
                        delete o.silent;
                    else
                        o.silent = a.silent;
                    var r = e.models;
                    if ("client" == l)
                        w.reset(r, o);
                    else
                        w.add(r, C({
                            at: w.length
                        }, C(o, {
                            parse: !1
                        }))),
                        m.trigger("reset", m, o);
                    if (v)
                        v(e, i, o)
                }
                ,
                P.fetch.call(this, C({}, a, {
                    silent: !0
                }))
            }
        },
        _makeComparator: function(o, r, a) {
            var e = this.state;
            if (o = o || e.sortKey,
            r = r || e.order,
            !o || !r)
                ;
            else {
                if (!a)
                    a = function(e, i) {
                        return e.get(i)
                    }
                    ;
                return function(e, i) {
                    var t, e = a(e, o), i = a(i, o);
                    if (1 === r)
                        t = e,
                        e = i,
                        i = t;
                    if (e === i)
                        return 0;
                    else if (e < i)
                        return -1;
                    return 1
                }
            }
        },
        setSorting: function(e, i, o) {
            var r = this.state
              , r = (r.sortKey = e,
            r.order = i = i || r.order,
            this.fullCollection)
              , a = !1
              , l = !1;
            if (!e)
                a = l = !0;
            var u = this.mode
              , u = (o = C({
                side: "client" == u ? u : "server",
                full: !0
            }, o),
            this._makeComparator(e, i, o.sortValue))
              , e = o.full
              , i = o.side;
            if ("client" == i)
                if (e) {
                    if (r)
                        r.comparator = u;
                    a = !0
                } else
                    this.comparator = u,
                    l = !0;
            else if ("server" == i && !e)
                this.comparator = u;
            if (a)
                this.comparator = null;
            if (l && r)
                r.comparator = null;
            return this
        }
    })
      , R = e.prototype;
    return e
}),
function(e, i) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = i() : "function" == typeof define && define.amd ? define(i) : (e = e || self).DOMPurify = i()
}(this, function() {
    "use strict";
    var r = Object.hasOwnProperty
      , l = Object.setPrototypeOf
      , u = Object.isFrozen
      , a = Object.getPrototypeOf
      , c = Object.getOwnPropertyDescriptor
      , We = Object.freeze
      , e = Object.seal
      , d = Object.create
      , i = "undefined" != typeof Reflect && Reflect
      , h = i.apply
      , p = i.construct;
    if (!h)
        h = function(e, i, o) {
            return e.apply(i, o)
        }
        ;
    if (!We)
        We = function(e) {
            return e
        }
        ;
    if (!e)
        e = function(e) {
            return e
        }
        ;
    if (!p)
        p = function(e, i) {
            return new (Function.prototype.bind.apply(e, [null].concat(function(e) {
                if (Array.isArray(e)) {
                    for (var i = 0, o = Array(e.length); i < e.length; i++)
                        o[i] = e[i];
                    return o
                } else
                    return Array.from(e)
            }(i))))
        }
        ;
    var f, Fe = g(Array.prototype.forEach), Ne = g(Array.prototype.pop), $e = g(Array.prototype.push), ze = g(String.prototype.toLowerCase), qe = g(String.prototype.match), He = g(String.prototype.replace), Ue = g(String.prototype.indexOf), lt = g(String.prototype.trim), Ve = g(RegExp.prototype.test), je = (f = TypeError,
    function() {
        for (var e = arguments.length, i = Array(e), o = 0; o < e; o++)
            i[o] = arguments[o];
        return p(f, i)
    }
    );
    function g(a) {
        return function(e) {
            for (var i = arguments.length, o = Array(1 < i ? i - 1 : 0), r = 1; r < i; r++)
                o[r - 1] = arguments[r];
            return h(a, e, o)
        }
    }
    function Ye(e, i) {
        if (l)
            l(e, null);
        for (var o = i.length; o--; ) {
            var r = i[o];
            if ("string" == typeof r) {
                var a = ze(r);
                if (a !== r) {
                    if (!u(i))
                        i[o] = a;
                    r = a
                }
            }
            e[r] = !0
        }
        return e
    }
    function Qe(e) {
        var i = d(null)
          , o = void 0;
        for (o in e)
            if (h(r, e, [o]))
                i[o] = e[o];
        return i
    }
    function Ke(e, i) {
        for (; null !== e; ) {
            var o = c(e, i);
            if (o) {
                if (o.get)
                    return g(o.get);
                if ("function" == typeof o.value)
                    return g(o.value)
            }
            e = a(e)
        }
        return function(e) {
            return console.warn("fallback value for", e),
            null
        }
    }
    var Je = We(["a", "abbr", "acronym", "address", "area", "article", "aside", "audio", "b", "bdi", "bdo", "big", "blink", "blockquote", "body", "br", "button", "canvas", "caption", "center", "cite", "code", "col", "colgroup", "content", "data", "datalist", "dd", "decorator", "del", "details", "dfn", "dialog", "dir", "div", "dl", "dt", "element", "em", "fieldset", "figcaption", "figure", "font", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "i", "img", "input", "ins", "kbd", "label", "legend", "li", "main", "map", "mark", "marquee", "menu", "menuitem", "meter", "nav", "nobr", "ol", "optgroup", "option", "output", "p", "picture", "pre", "progress", "q", "rp", "rt", "ruby", "s", "samp", "section", "select", "shadow", "small", "source", "spacer", "span", "strike", "strong", "style", "sub", "summary", "sup", "table", "tbody", "td", "template", "textarea", "tfoot", "th", "thead", "time", "tr", "track", "tt", "u", "ul", "var", "video", "wbr"])
      , Xe = We(["svg", "a", "altglyph", "altglyphdef", "altglyphitem", "animatecolor", "animatemotion", "animatetransform", "circle", "clippath", "defs", "desc", "ellipse", "filter", "font", "g", "glyph", "glyphref", "hkern", "image", "line", "lineargradient", "marker", "mask", "metadata", "mpath", "path", "pattern", "polygon", "polyline", "radialgradient", "rect", "stop", "style", "switch", "symbol", "text", "textpath", "title", "tref", "tspan", "view", "vkern"])
      , Ze = We(["feBlend", "feColorMatrix", "feComponentTransfer", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feDistantLight", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feImage", "feMerge", "feMergeNode", "feMorphology", "feOffset", "fePointLight", "feSpecularLighting", "feSpotLight", "feTile", "feTurbulence"])
      , ut = We(["animate", "color-profile", "cursor", "discard", "fedropshadow", "font-face", "font-face-format", "font-face-name", "font-face-src", "font-face-uri", "foreignobject", "hatch", "hatchpath", "mesh", "meshgradient", "meshpatch", "meshrow", "missing-glyph", "script", "set", "solidcolor", "unknown", "use"])
      , et = We(["math", "menclose", "merror", "mfenced", "mfrac", "mglyph", "mi", "mlabeledtr", "mmultiscripts", "mn", "mo", "mover", "mpadded", "mphantom", "mroot", "mrow", "ms", "mspace", "msqrt", "mstyle", "msub", "msup", "msubsup", "mtable", "mtd", "mtext", "mtr", "munder", "munderover"])
      , ct = We(["maction", "maligngroup", "malignmark", "mlongdiv", "mscarries", "mscarry", "msgroup", "mstack", "msline", "msrow", "semantics", "annotation", "annotation-xml", "mprescripts", "none"])
      , tt = We(["#text"])
      , it = We(["accept", "action", "align", "alt", "autocapitalize", "autocomplete", "autopictureinpicture", "autoplay", "background", "bgcolor", "border", "capture", "cellpadding", "cellspacing", "checked", "cite", "class", "clear", "color", "cols", "colspan", "controls", "controlslist", "coords", "crossorigin", "datetime", "decoding", "default", "dir", "disabled", "disablepictureinpicture", "disableremoteplayback", "download", "draggable", "enctype", "enterkeyhint", "face", "for", "headers", "height", "hidden", "high", "href", "hreflang", "id", "inputmode", "integrity", "ismap", "kind", "label", "lang", "list", "loading", "loop", "low", "max", "maxlength", "media", "method", "min", "minlength", "multiple", "muted", "name", "nonce", "noshade", "novalidate", "nowrap", "open", "optimum", "pattern", "placeholder", "playsinline", "poster", "preload", "pubdate", "radiogroup", "readonly", "rel", "required", "rev", "reversed", "role", "rows", "rowspan", "spellcheck", "scope", "selected", "shape", "size", "sizes", "span", "srclang", "start", "src", "srcset", "step", "style", "summary", "tabindex", "title", "translate", "type", "usemap", "valign", "value", "width", "xmlns", "slot"])
      , nt = We(["accent-height", "accumulate", "additive", "alignment-baseline", "ascent", "attributename", "attributetype", "azimuth", "basefrequency", "baseline-shift", "begin", "bias", "by", "class", "clip", "clippathunits", "clip-path", "clip-rule", "color", "color-interpolation", "color-interpolation-filters", "color-profile", "color-rendering", "cx", "cy", "d", "dx", "dy", "diffuseconstant", "direction", "display", "divisor", "dur", "edgemode", "elevation", "end", "fill", "fill-opacity", "fill-rule", "filter", "filterunits", "flood-color", "flood-opacity", "font-family", "font-size", "font-size-adjust", "font-stretch", "font-style", "font-variant", "font-weight", "fx", "fy", "g1", "g2", "glyph-name", "glyphref", "gradientunits", "gradienttransform", "height", "href", "id", "image-rendering", "in", "in2", "k", "k1", "k2", "k3", "k4", "kerning", "keypoints", "keysplines", "keytimes", "lang", "lengthadjust", "letter-spacing", "kernelmatrix", "kernelunitlength", "lighting-color", "local", "marker-end", "marker-mid", "marker-start", "markerheight", "markerunits", "markerwidth", "maskcontentunits", "maskunits", "max", "mask", "media", "method", "mode", "min", "name", "numoctaves", "offset", "operator", "opacity", "order", "orient", "orientation", "origin", "overflow", "paint-order", "path", "pathlength", "patterncontentunits", "patterntransform", "patternunits", "points", "preservealpha", "preserveaspectratio", "primitiveunits", "r", "rx", "ry", "radius", "refx", "refy", "repeatcount", "repeatdur", "restart", "result", "rotate", "scale", "seed", "shape-rendering", "specularconstant", "specularexponent", "spreadmethod", "startoffset", "stddeviation", "stitchtiles", "stop-color", "stop-opacity", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke", "stroke-width", "style", "surfacescale", "systemlanguage", "tabindex", "targetx", "targety", "transform", "transform-origin", "text-anchor", "text-decoration", "text-rendering", "textlength", "type", "u1", "u2", "unicode", "values", "viewbox", "visibility", "version", "vert-adv-y", "vert-origin-x", "vert-origin-y", "width", "word-spacing", "wrap", "writing-mode", "xchannelselector", "ychannelselector", "x", "x1", "x2", "xmlns", "y", "y1", "y2", "z", "zoomandpan"])
      , ot = We(["accent", "accentunder", "align", "bevelled", "close", "columnsalign", "columnlines", "columnspan", "denomalign", "depth", "dir", "display", "displaystyle", "encoding", "fence", "frame", "height", "href", "id", "largeop", "length", "linethickness", "lspace", "lquote", "mathbackground", "mathcolor", "mathsize", "mathvariant", "maxsize", "minsize", "movablelimits", "notation", "numalign", "open", "rowalign", "rowlines", "rowspacing", "rowspan", "rspace", "rquote", "scriptlevel", "scriptminsize", "scriptsizemultiplier", "selection", "separator", "separators", "stretchy", "subscriptshift", "supscriptshift", "symmetric", "voffset", "width", "xmlns"])
      , rt = We(["xlink:href", "xml:id", "xlink:title", "xml:space", "xmlns:xlink"])
      , dt = e(/\{\{[\s\S]*|[\s\S]*\}\}/gm)
      , ht = e(/<%[\s\S]*|[\s\S]*%>/gm)
      , pt = e(/^data-[\-\w.\u00B7-\uFFFF]/)
      , _t = e(/^aria-[\-\w]+$/)
      , ft = e(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i)
      , gt = e(/^(?:\w+script|data):/i)
      , mt = e(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g)
      , st = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
        return typeof e
    }
    : function(e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    }
    ;
    function at(e) {
        if (Array.isArray(e)) {
            for (var i = 0, o = Array(e.length); i < e.length; i++)
                o[i] = e[i];
            return o
        } else
            return Array.from(e)
    }
    return function N(e) {
        var c = 0 < arguments.length && void 0 !== e ? e : "undefined" == typeof window ? null : window
          , h = function(e) {
            return N(e)
        };
        if (h.version = "2.3.5",
        h.removed = [],
        !c || !c.document || 9 !== c.document.nodeType)
            h.isSupported = !1;
        else {
            var d = c.document
              , a = c.document
              , $ = c.DocumentFragment
              , e = c.HTMLTemplateElement
              , p = c.Node
              , z = c.Element
              , i = c.NodeFilter
              , q = void 0 === (o = c.NamedNodeMap) ? c.NamedNodeMap || c.MozNamedAttrMap : o
              , H = c.HTMLFormElement
              , U = c.DOMParser
              , o = c.trustedTypes
              , V = Ke(r = z.prototype, "cloneNode")
              , j = Ke(r, "nextSibling")
              , Y = Ke(r, "childNodes")
              , l = Ke(r, "parentNode");
            if ("function" == typeof e)
                if ((r = a.createElement("template")).content && r.content.ownerDocument)
                    a = r.content.ownerDocument;
            var f = function(e, i) {
                if ("object" !== (void 0 === e ? "undefined" : st(e)) || "function" != typeof e.createPolicy)
                    return null;
                var o = null
                  , r = "data-tt-policy-suffix";
                if (i.currentScript && i.currentScript.hasAttribute(r))
                    o = i.currentScript.getAttribute(r);
                i = "dompurify" + (o ? "#" + o : "");
                try {
                    return e.createPolicy(i, {
                        createHTML: function(e) {
                            return e
                        }
                    })
                } catch (_) {
                    return console.warn("TrustedTypes policy " + i + " could not be created."),
                    null
                }
            }(o, d)
              , Q = f ? f.createHTML("") : ""
              , e = a
              , u = e.implementation
              , K = e.createNodeIterator
              , J = e.createDocumentFragment
              , X = e.getElementsByTagName
              , Z = d.importNode
              , r = {};
            try {
                r = Qe(a).documentMode ? a.documentMode : {}
            } catch (_) {}
            var ee, g = {}, m = (h.isSupported = "function" == typeof l && u && void 0 !== u.createHTMLDocument && 9 !== r,
            dt), w = ht, te = pt, ie = _t, ne = gt, oe = mt, re = ft, v = null, se = Ye({}, [].concat(at(Je), at(Xe), at(Ze), at(et), at(tt))), y = null, ae = Ye({}, [].concat(at(it), at(nt), at(ot), at(rt))), b = Object.seal(Object.create(null, {
                tagNameCheck: {
                    writable: !0,
                    configurable: !1,
                    enumerable: !0,
                    value: null
                },
                attributeNameCheck: {
                    writable: !0,
                    configurable: !1,
                    enumerable: !0,
                    value: null
                },
                allowCustomizedBuiltInElements: {
                    writable: !0,
                    configurable: !1,
                    enumerable: !0,
                    value: !1
                }
            })), C = null, le = null, ue = !0, ce = !0, de = !1, T = !1, k = !1, he = !1, pe = !1, x = !1, S = !1, A = !1, _e = !0, fe = !0, E = !1, M = {}, I = null, ge = Ye({}, ["annotation-xml", "audio", "colgroup", "desc", "foreignobject", "head", "iframe", "math", "mi", "mn", "mo", "ms", "mtext", "noembed", "noframes", "noscript", "plaintext", "script", "style", "svg", "template", "thead", "title", "video", "xmp"]), me = null, we = Ye({}, ["audio", "video", "img", "source", "image", "track"]), ve = null, ye = Ye({}, ["alt", "class", "for", "id", "label", "name", "pattern", "placeholder", "role", "summary", "title", "value", "style", "xmlns"]), be = "http://www.w3.org/1998/Math/MathML", Ce = "http://www.w3.org/2000/svg", P = "http://www.w3.org/1999/xhtml", O = P, R = void 0, Te = ["application/xhtml+xml", "text/html"], G = void 0, D = null, ke = a.createElement("form"), xe = function(e) {
                return e instanceof RegExp || e instanceof Function
            }, Se = function(e) {
                if (D && D === e)
                    ;
                else {
                    if (!e || "object" !== (void 0 === e ? "undefined" : st(e)))
                        e = {};
                    if (e = Qe(e),
                    v = "ALLOWED_TAGS"in e ? Ye({}, e.ALLOWED_TAGS) : se,
                    y = "ALLOWED_ATTR"in e ? Ye({}, e.ALLOWED_ATTR) : ae,
                    ve = "ADD_URI_SAFE_ATTR"in e ? Ye(Qe(ye), e.ADD_URI_SAFE_ATTR) : ye,
                    me = "ADD_DATA_URI_TAGS"in e ? Ye(Qe(we), e.ADD_DATA_URI_TAGS) : we,
                    I = "FORBID_CONTENTS"in e ? Ye({}, e.FORBID_CONTENTS) : ge,
                    C = "FORBID_TAGS"in e ? Ye({}, e.FORBID_TAGS) : {},
                    le = "FORBID_ATTR"in e ? Ye({}, e.FORBID_ATTR) : {},
                    M = "USE_PROFILES"in e ? e.USE_PROFILES : !1,
                    ue = !1 !== e.ALLOW_ARIA_ATTR,
                    ce = !1 !== e.ALLOW_DATA_ATTR,
                    de = e.ALLOW_UNKNOWN_PROTOCOLS || !1,
                    T = e.SAFE_FOR_TEMPLATES || !1,
                    k = e.WHOLE_DOCUMENT || !1,
                    x = e.RETURN_DOM || !1,
                    S = e.RETURN_DOM_FRAGMENT || !1,
                    A = e.RETURN_TRUSTED_TYPE || !1,
                    pe = e.FORCE_BODY || !1,
                    _e = !1 !== e.SANITIZE_DOM,
                    fe = !1 !== e.KEEP_CONTENT,
                    E = e.IN_PLACE || !1,
                    re = e.ALLOWED_URI_REGEXP || re,
                    O = e.NAMESPACE || P,
                    e.CUSTOM_ELEMENT_HANDLING && xe(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck))
                        b.tagNameCheck = e.CUSTOM_ELEMENT_HANDLING.tagNameCheck;
                    if (e.CUSTOM_ELEMENT_HANDLING && xe(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck))
                        b.attributeNameCheck = e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;
                    if (e.CUSTOM_ELEMENT_HANDLING && "boolean" == typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements)
                        b.allowCustomizedBuiltInElements = e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;
                    if (R = -1 === Te.indexOf(e.PARSER_MEDIA_TYPE) ? R = "text/html" : R = e.PARSER_MEDIA_TYPE,
                    G = "application/xhtml+xml" === R ? function(e) {
                        return e
                    }
                    : ze,
                    T)
                        ce = !1;
                    if (S)
                        x = !0;
                    if (M) {
                        if (v = Ye({}, [].concat(at(tt))),
                        y = [],
                        !0 === M.html)
                            Ye(v, Je),
                            Ye(y, it);
                        if (!0 === M.svg)
                            Ye(v, Xe),
                            Ye(y, nt),
                            Ye(y, rt);
                        if (!0 === M.svgFilters)
                            Ye(v, Ze),
                            Ye(y, nt),
                            Ye(y, rt);
                        if (!0 === M.mathMl)
                            Ye(v, et),
                            Ye(y, ot),
                            Ye(y, rt)
                    }
                    if (e.ADD_TAGS) {
                        if (v === se)
                            v = Qe(v);
                        Ye(v, e.ADD_TAGS)
                    }
                    if (e.ADD_ATTR) {
                        if (y === ae)
                            y = Qe(y);
                        Ye(y, e.ADD_ATTR)
                    }
                    if (e.ADD_URI_SAFE_ATTR)
                        Ye(ve, e.ADD_URI_SAFE_ATTR);
                    if (e.FORBID_CONTENTS) {
                        if (I === ge)
                            I = Qe(I);
                        Ye(I, e.FORBID_CONTENTS)
                    }
                    if (fe)
                        v["#text"] = !0;
                    if (k)
                        Ye(v, ["html", "head", "body"]);
                    if (v.table)
                        Ye(v, ["tbody"]),
                        delete C.tbody;
                    if (We)
                        We(e);
                    D = e
                }
            }, Ae = Ye({}, ["mi", "mo", "mn", "ms", "mtext"]), Ee = Ye({}, ["foreignobject", "desc", "title", "annotation-xml"]), B = Ye({}, Xe), Me = (Ye(B, Ze),
            Ye(B, ut),
            Ye({}, et)), L = (Ye(Me, ct),
            function(e) {
                $e(h.removed, {
                    element: e
                });
                try {
                    e.parentNode.removeChild(e)
                } catch (_) {
                    try {
                        e.outerHTML = Q
                    } catch (_) {
                        e.remove()
                    }
                }
            }
            ), Ie = function(e, i) {
                try {
                    $e(h.removed, {
                        attribute: i.getAttributeNode(e),
                        from: i
                    })
                } catch (_) {
                    $e(h.removed, {
                        attribute: null,
                        from: i
                    })
                }
                if (i.removeAttribute(e),
                "is" === e && !y[e])
                    if (x || S)
                        try {
                            L(i)
                        } catch (_) {}
                    else
                        try {
                            i.setAttribute(e, "")
                        } catch (_) {}
            }, Pe = function(e) {
                var i = void 0
                  , o = void 0;
                if (pe)
                    e = "<remove></remove>" + e;
                else
                    var r = qe(e, /^[\r\n\t ]+/)
                      , o = r && r[0];
                if ("application/xhtml+xml" === R)
                    e = '<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>' + e + "</body></html>";
                if (r = f ? f.createHTML(e) : e,
                O === P)
                    try {
                        i = (new U).parseFromString(r, R)
                    } catch (_) {}
                if (!i || !i.documentElement) {
                    i = u.createDocument(O, "template", null);
                    try {
                        i.documentElement.innerHTML = ee ? "" : r
                    } catch (_) {}
                }
                if (r = i.body || i.documentElement,
                e && o)
                    r.insertBefore(a.createTextNode(o), r.childNodes[0] || null);
                if (O === P)
                    return X.call(i, k ? "html" : "body")[0];
                else
                    return k ? i.documentElement : r
            }, Oe = function(e) {
                return K.call(e.ownerDocument || e, e, i.SHOW_ELEMENT | i.SHOW_COMMENT | i.SHOW_TEXT, null, !1)
            }, W = function(e) {
                return "object" === (void 0 === p ? "undefined" : st(p)) ? e instanceof p : e && "object" === (void 0 === e ? "undefined" : st(e)) && "number" == typeof e.nodeType && "string" == typeof e.nodeName
            }, F = function(e, i, o) {
                if (!g[e])
                    ;
                else
                    Fe(g[e], function(e) {
                        e.call(h, i, o, D)
                    })
            }, Re = function(e) {
                if (F("beforeSanitizeElements", e, null),
                (i = e)instanceof H && ("string" != typeof i.nodeName || "string" != typeof i.textContent || "function" != typeof i.removeChild || !(i.attributes instanceof q) || "function" != typeof i.removeAttribute || "function" != typeof i.setAttribute || "string" != typeof i.namespaceURI || "function" != typeof i.insertBefore))
                    return L(e),
                    !0;
                if (qe(e.nodeName, /[\u0080-\uFFFF]/))
                    return L(e),
                    !0;
                var i = G(e.nodeName);
                if (F("uponSanitizeElement", e, {
                    tagName: i,
                    allowedTags: v
                }),
                !W(e.firstElementChild) && (!W(e.content) || !W(e.content.firstElementChild)) && Ve(/<[/\w]/g, e.innerHTML) && Ve(/<[/\w]/g, e.textContent))
                    return L(e),
                    !0;
                if ("select" === i && Ve(/<template/i, e.innerHTML))
                    return L(e),
                    !0;
                if (!v[i] || C[i]) {
                    if (fe && !I[i]) {
                        var o = l(e) || e.parentNode
                          , r = Y(e) || e.childNodes;
                        if (r && o)
                            for (var a = r.length - 1; 0 <= a; --a)
                                o.insertBefore(V(r[a], !0), j(e))
                    }
                    if (!C[i] && De(i)) {
                        if (b.tagNameCheck instanceof RegExp && Ve(b.tagNameCheck, i))
                            return !1;
                        if (b.tagNameCheck instanceof Function && b.tagNameCheck(i))
                            return !1
                    }
                    return L(e),
                    !0
                }
                if (e instanceof z && !function(e) {
                    var i = l(e);
                    if (!i || !i.tagName)
                        i = {
                            namespaceURI: P,
                            tagName: "template"
                        };
                    var o = ze(e.tagName)
                      , r = ze(i.tagName);
                    if (e.namespaceURI === Ce) {
                        if (i.namespaceURI === P)
                            return "svg" === o;
                        if (i.namespaceURI === be)
                            return "svg" === o && ("annotation-xml" === r || Ae[r]);
                        else
                            return Boolean(B[o])
                    }
                    if (e.namespaceURI === be) {
                        if (i.namespaceURI === P)
                            return "math" === o;
                        if (i.namespaceURI === Ce)
                            return "math" === o && Ee[r];
                        else
                            return Boolean(Me[o])
                    }
                    if (e.namespaceURI === P)
                        if (i.namespaceURI === Ce && !Ee[r])
                            ;
                        else if (i.namespaceURI !== be || Ae[r])
                            return e = Ye({}, ["title", "style", "font", "a", "script"]),
                            !Me[o] && (e[o] || !B[o])
                }(e))
                    return L(e),
                    !0;
                if (("noscript" === i || "noembed" === i) && Ve(/<\/no(script|embed)/i, e.innerHTML))
                    return L(e),
                    !0;
                if (T && 3 === e.nodeType)
                    if (i = e.textContent,
                    i = He(i, m, " "),
                    i = He(i, w, " "),
                    e.textContent !== i)
                        $e(h.removed, {
                            element: e.cloneNode()
                        }),
                        e.textContent = i;
                return F("afterSanitizeElements", e, null),
                !1
            }, Ge = function(e, i, o) {
                if (_e && ("id" === i || "name" === i) && (o in a || o in ke))
                    return !1;
                if (ce && !le[i] && Ve(te, i))
                    ;
                else if (ue && Ve(ie, i))
                    ;
                else if (!y[i] || le[i])
                    if (De(e) && (b.tagNameCheck instanceof RegExp && Ve(b.tagNameCheck, e) || b.tagNameCheck instanceof Function && b.tagNameCheck(e)) && (b.attributeNameCheck instanceof RegExp && Ve(b.attributeNameCheck, i) || b.attributeNameCheck instanceof Function && b.attributeNameCheck(i)) || "is" === i && b.allowCustomizedBuiltInElements && (b.tagNameCheck instanceof RegExp && Ve(b.tagNameCheck, o) || b.tagNameCheck instanceof Function && b.tagNameCheck(o)))
                        ;
                    else
                        return !1;
                else if (ve[i])
                    ;
                else if (Ve(re, He(o, oe, "")))
                    ;
                else if (("src" === i || "xlink:href" === i || "href" === i) && "script" !== e && 0 === Ue(o, "data:") && me[e])
                    ;
                else if (de && !Ve(ne, He(o, oe, "")))
                    ;
                else if (!o)
                    ;
                else
                    return !1;
                return !0
            }, De = function(e) {
                return 0 < e.indexOf("-")
            }, Be = function(e) {
                var i = void 0
                  , o = void 0
                  , r = (F("beforeSanitizeAttributes", e, null),
                e.attributes);
                if (!r)
                    ;
                else {
                    for (var a = {
                        attrName: "",
                        attrValue: "",
                        keepAttr: !0,
                        allowedAttributes: y
                    }, o = r.length; o--; ) {
                        var l = (c = r[o]).name
                          , u = c.namespaceURI
                          , i = lt(c.value)
                          , c = G(l);
                        if (a.attrName = c,
                        a.attrValue = i,
                        a.keepAttr = !0,
                        a.forceKeepAttr = void 0,
                        F("uponSanitizeAttribute", e, a),
                        i = a.attrValue,
                        a.forceKeepAttr)
                            ;
                        else if (Ie(l, e),
                        !a.keepAttr)
                            ;
                        else if (Ve(/\/>/i, i))
                            Ie(l, e);
                        else {
                            if (T)
                                i = He(i, m, " "),
                                i = He(i, w, " ");
                            var d = G(e.nodeName);
                            if (!Ge(d, c, i))
                                ;
                            else
                                try {
                                    if (u)
                                        e.setAttributeNS(u, l, i);
                                    else
                                        e.setAttribute(l, i);
                                    Ne(h.removed)
                                } catch (_) {}
                        }
                    }
                    F("afterSanitizeAttributes", e, null)
                }
            }, Le = function e(i) {
                var o, r = Oe(i);
                for (F("beforeSanitizeShadowDOM", i, null); o = r.nextNode(); )
                    if (F("uponSanitizeShadowNode", o, null),
                    Re(o))
                        ;
                    else {
                        if (o.content instanceof $)
                            e(o.content);
                        Be(o)
                    }
                F("afterSanitizeShadowDOM", i, null)
            };
            h.sanitize = function(e, i) {
                var o, r = void 0, a = void 0, l = void 0;
                if (ee = !e)
                    e = "\x3c!--\x3e";
                if ("string" != typeof e && !W(e))
                    if ("function" != typeof e.toString)
                        throw je("toString is not a function");
                    else if ("string" != typeof (e = e.toString()))
                        throw je("dirty is not a string, aborting");
                if (!h.isSupported) {
                    if ("object" === st(c.toStaticHTML) || "function" == typeof c.toStaticHTML) {
                        if ("string" == typeof e)
                            return c.toStaticHTML(e);
                        if (W(e))
                            return c.toStaticHTML(e.outerHTML)
                    }
                    return e
                }
                if (!he)
                    Se(i);
                if (h.removed = [],
                "string" == typeof e)
                    E = !1;
                if (E) {
                    if (e.nodeName) {
                        i = G(e.nodeName);
                        if (!v[i] || C[i])
                            throw je("root node is forbidden and cannot be sanitized in-place")
                    }
                } else if (e instanceof p)
                    if (1 === (i = (r = Pe("\x3c!----\x3e")).ownerDocument.importNode(e, !0)).nodeType && "BODY" === i.nodeName)
                        r = i;
                    else if ("HTML" === i.nodeName)
                        r = i;
                    else
                        r.appendChild(i);
                else {
                    if (!x && !T && !k && -1 === e.indexOf("<"))
                        return f && A ? f.createHTML(e) : e;
                    if (!(r = Pe(e)))
                        return x ? null : A ? Q : ""
                }
                if (r && pe)
                    L(r.firstChild);
                for (var u = Oe(E ? e : r); o = u.nextNode(); )
                    if (3 === o.nodeType && o === a)
                        ;
                    else if (Re(o))
                        ;
                    else {
                        if (o.content instanceof $)
                            Le(o.content);
                        Be(o),
                        a = o
                    }
                if (a = null,
                E)
                    return e;
                if (x) {
                    if (S)
                        for (l = J.call(r.ownerDocument); r.firstChild; )
                            l.appendChild(r.firstChild);
                    else
                        l = r;
                    if (y.shadowroot)
                        l = Z.call(d, l, !0);
                    return l
                }
                if (i = k ? r.outerHTML : r.innerHTML,
                T)
                    i = He(i, m, " "),
                    i = He(i, w, " ");
                return f && A ? f.createHTML(i) : i
            }
            ,
            h.setConfig = function(e) {
                Se(e),
                he = !0
            }
            ,
            h.clearConfig = function() {
                D = null,
                he = !1
            }
            ,
            h.isValidAttribute = function(e, i, o) {
                if (!D)
                    Se({});
                return e = G(e),
                i = G(i),
                Ge(e, i, o)
            }
            ,
            h.addHook = function(e, i) {
                if ("function" != typeof i)
                    ;
                else
                    g[e] = g[e] || [],
                    $e(g[e], i)
            }
            ,
            h.removeHook = function(e) {
                if (g[e])
                    Ne(g[e])
            }
            ,
            h.removeHooks = function(e) {
                if (g[e])
                    g[e] = []
            }
            ,
            h.removeAllHooks = function() {
                g = {}
            }
        }
        return h
    }()
}),
window.underscore = window.us = window._.noConflict(),
window.WindowManagerViews = {},
window.WindowManagerControllers = {},
window.WindowManagerCollections = {},
window.WindowManagerModels = {},
window.PreloadedData = {},
window.GameViews = {},
window.GameCollections = {},
window.GameControllers = {},
window.GameModels = {},
window.GameListeners = {},
window.GameMixins = {},
window.WindowFactorySettings = {},
function() {
    "use strict";
    var o = {};
    window.require = function(e) {
        if (!o[e])
            if (debug("require: warn: you require a unregistered module", e),
            Game.dev)
                console.trace();
        return o[e]
    }
    ,
    window.define = function(e, i) {
        if (o[e])
            if (debug("require: warn: duplicate definition of", e),
            Game.dev)
                console.trace();
        o[e] = i(require)
    }
    ,
    window.require_legacy = function(e) {
        var i = "string" == typeof e ? window[e] : i;
        if (void 0 === i)
            if (debug('require: warn: you require a legacy global "window" object which is currently undefined'),
            Game.dev)
                console.trace();
        return i
    }
}(),
define("enums/buildings", function() {
    return {
        MAIN: "main",
        HIDE: "hide",
        PLACE: "place",
        LUMBER: "lumber",
        STONER: "stoner",
        IRONER: "ironer",
        MARKET: "market",
        DOCKS: "docks",
        BARRACKS: "barracks",
        WALL: "wall",
        STORAGE: "storage",
        FARM: "farm",
        ACADEMY: "academy",
        TEMPLE: "temple",
        THEATER: "theater",
        THERMAL: "thermal",
        LIBRARY: "library",
        LIGHTHOUSE: "lighthouse",
        TOWER: "tower",
        STATUE: "statue",
        ORACLE: "oracle",
        TRADE_OFFICE: "trade_office",
        PHOENICIAN_MERCHANT: "trader"
    }
}),
define("enums/artifact_notification_types", function() {
    return {
        ARTIFACT_AMBROSIA_LEVEL_RECEIVED: "artifact_ambrosia_level_received",
        ARTIFACT_ATHENAS_CORNUCOPIA_LEVEL_RECEIVED: "artifact_athenas_cornucopia_level_received",
        ARTIFACT_GOLDEN_FLEECE_LEVEL_RECEIVED: "artifact_golden_fleece_level_received",
        ARTIFACT_MYTHIC_TAMER_CHALICE_LEVEL_RECEIVED: "artifact_mythic_tamer_chalice_level_received",
        ARTIFACT_PALLADION_LEVEL_RECEIVED: "artifact_palladion_level_received",
        ARTIFACT_SILVER_KANTHAROS_LEVEL_RECEIVED: "artifact_silver_kantharos_level_received",
        ARTIFACT_ZEUS_SPARK_LEVEL_RECEIVED: "artifact_zeus_spark_level_received"
    }
}),
define("enums/ground_units", function() {
    return {
        SWORD: "sword",
        SLINGER: "slinger",
        ARCHER: "archer",
        HOPLITE: "hoplite",
        RIDER: "rider",
        CHARIOT: "chariot",
        CATAPULT: "catapult",
        MINOTAUR: "minotaur",
        MANTICORE: "manticore",
        ZYKLOP: "zyklop",
        HARPY: "harpy",
        MEDUSA: "medusa",
        CENTAUR: "centaur",
        PEGASUS: "pegasus",
        CERBERUS: "cerberus",
        FURY: "fury",
        GRIFFIN: "griffin",
        CALYDONIAN_BOAR: "calydonian_boar",
        SATYR: "satyr",
        SPARTOI: "spartoi",
        LADON: "ladon",
        GODSENT: "godsent"
    }
}),
define("enums/naval_units", function() {
    return {
        BIG_TRANSPORTER: "big_transporter",
        BIREME: "bireme",
        ATTACK_SHIP: "attack_ship",
        DEMOLITION_SHIP: "demolition_ship",
        SMALL_TRANSPORTER: "small_transporter",
        TRIREME: "trireme",
        COLONIZE_SHIP: "colonize_ship",
        SEA_MONSTER: "sea_monster",
        SIREN: "siren"
    }
}),
define("enums/premium_features", function() {
    return {
        TYPE_COMMANDER: "commander",
        TYPE_CURATOR: "curator",
        TYPE_CAPTAIN: "captain",
        TYPE_PRIEST: "priest",
        TYPE_TRADER: "trader"
    }
}),
define("enums/researches", function() {
    return {
        SLINGER: "slinger",
        ARCHER: "archer",
        HOPLITE: "hoplite",
        TOWN_GUARD: "town_guard",
        DIPLOMACY: "diplomacy",
        ESPIONAGE: "espionage",
        BOOTY: "booty",
        POTTERY: "pottery",
        RIDER: "rider",
        ARCHITECTURE: "architecture",
        INSTRUCTOR: "instructor",
        BIREME: "bireme",
        BUILDING_CRANE: "building_crane",
        METEOROLOGY: "meteorology",
        CHARIOT: "chariot",
        ATTACK_SHIP: "attack_ship",
        CONSCRIPTION: "conscription",
        SHIPWRIGHT: "shipwright",
        DEMOLITION_SHIP: "demolition_ship",
        CATAPULT: "catapult",
        CRYPTOGRAPHY: "cryptography",
        DEMOCRACY: "democracy",
        COLONIZE_SHIP: "colonize_ship",
        SMALL_TRANSPORTER: "small_transporter",
        PLOW: "plow",
        BERTH: "berth",
        TRIREME: "trireme",
        PHALANX: "phalanx",
        BREACH: "breach",
        MATHEMATICS: "mathematics",
        RAM: "ram",
        CARTOGRAPHY: "cartography",
        TAKE_OVER: "take_over",
        STONE_STORM: "stone_storm",
        TEMPLE_LOOTING: "temple_looting",
        DIVINE_SELECTION: "divine_selection",
        COMBAT_EXPERIENCE: "combat_experience",
        STRONG_WINE: "strong_wine",
        SET_SAIL: "set_sail"
    }
}),
define("enums/directions", function() {
    return {
        NORTH: "n",
        NORTH_EAST: "ne",
        EAST: "e",
        SOUTH_EAST: "se",
        SOUTH: "s",
        SOUTH_WEST: "sw",
        WEST: "w",
        NORTH_WEST: "nw"
    }
}),
define("enums/quest_markers", function() {
    return {
        HIGHLIGHT: "highlight"
    }
}),
define("enums/heroes", function() {
    return {
        ANDROMEDA: "andromeda",
        ANYSIA: "anysia",
        APHELEDES: "apheledes",
        ARGUS: "argus",
        ARISTOTLE: "aristotle",
        CHEIRON: "cheiron",
        CHRISTOPHOLUS: "christopholus",
        DEMOCRITUS: "democritus",
        EURYBIA: "eurybia",
        FERKYON: "ferkyon",
        ODYSSEUS: "odysseus",
        ORPHEUS: "orpheus",
        PARIPHAISTES: "pariphaistes",
        PHILOCTETES: "philoctetes",
        REKONOS: "rekonos",
        TERYLEA: "terylea",
        YLESTRES: "ylestres",
        AGAMEMNON: "agamemnon",
        AJAX: "ajax",
        ALEXANDRIOS: "alexandrios",
        ATALANTA: "atalanta",
        DAIDALOS: "daidalos",
        DEIMOS: "deimos",
        HECTOR: "hector",
        HELEN: "helen",
        HERCULES: "hercules",
        IASON: "iason",
        LEONIDAS: "leonidas",
        LYSIPPE: "lysippe",
        MEDEA: "medea",
        MELOUSA: "melousa",
        PELOPS: "pelops",
        PERSEUS: "perseus",
        TELEMACHOS: "telemachos",
        THEMISTOKLES: "themistokles",
        UREPHON: "urephon",
        ZURETHA: "zuretha"
    }
}),
define("enums/town_types", function() {
    return {
        FREE: "free",
        INV_SPO: "inv_spo",
        SPECIAL_TOWN: "special_town",
        TOWN: "town",
        FARM_TOWN: "farm_town",
        ATTACK_SPOT: "attack_spot",
        DOMINATION_AREA_MARKER: "domination_area_marker"
    }
}),
define("enums/farm_town_states", function() {
    return {
        LOCKED: "locked",
        OWNED: "owned",
        REVOLT: "revolt"
    }
}),
define("enums/runtime_info", function() {
    return {
        METEOROLOGY: "meteorology",
        CARTOGRAPHY: "cartography",
        SET_SAIL: "set_sail",
        UNIT_MOVEMENT: "unit_movement_boost",
        LIGHTHOUSE: "lighthouse",
        ATALANTA: "atalanta"
    }
}),
define("enums/quests", function() {
    return {
        INACTIVE: "inactive",
        VIABLE: "viable",
        RUNNING: "running",
        SATISFIED: "satisfied",
        ABORTED: "aborted",
        CLOSED: "closed",
        QUEST: "quest",
        ISLAND_QUEST: "island_quest",
        BEAR_EFFECT: "bear_effect",
        WAIT_TIME: "wait_time"
    }
}),
define("enums/assassins", function() {
    return {
        CAVALRY: "cavalry",
        LEGIONARY: "legionary",
        SAPPER: "sapper"
    }
}),
define("enums/filters", function() {
    return {
        FILTER_TYPES: {
            ALLIANCE: "alliance",
            PLAYER: "player",
            CITYGROUP: "citygroup"
        },
        ALLIANCE_TYPES: {
            OWN_ALLIANCE: "own_alliance",
            PACT: "pact",
            ENEMY: "enemy"
        },
        PLAYER_TYPES: {
            OWN_CITIES: "own_cities"
        },
        AUTOCOMPLETE_TYPES: {
            ALLIANCE: "game_alliance",
            PLAYER: "game_player"
        },
        PACT: {
            PEACE: "peace",
            WAR: "war"
        },
        OWN_PLAYER: "current_player",
        DEFAULT_PLAYER: "default_player"
    }
}),
define("enums/player_hint_categories", function() {
    return {
        CONFIRMATION: "confirmation",
        MAP: "map"
    }
}),
define("enums/map_extra_info_types", function() {
    return {
        ATTACK: "attack",
        REVOLT: "revolt",
        CONQUEST: "conquest",
        TAKE_OVER: "attack_takeover"
    }
}),
define("enums/command_types", function() {
    return {
        REVOLT_ARISING: "arising",
        REVOLT_RUNNING: "running",
        REVOLT: "revolt",
        SIEGE: "attack_takeover",
        ATTACK_INDICATOR: "attack_indicator",
        ATTACK_OUTGOING: "outgoing_attack",
        SUPPORT: "support",
        ATTACK: "attack",
        ATTACK_LAND: "attack_land",
        ATTACK_SEA: "attack_sea",
        PORTAL_ATTACK_OLYMPUS: "portal_attack_olympus",
        PORTAL_SUPPORT_OLYMPUS: "portal_support_olympus",
        PORTAL_REVOLT_OLYMPUS: "portal_revolt_olympus",
        COLONIZATION: "colonization"
    }
}),
define("enums/crm_bundles_packages", function() {
    return {
        CRM_TYPES: {
            PACKAGE: "Package",
            BUNDLE: "Bundle"
        },
        ICON_TYPES: {
            GENERIC: "generic",
            BEGINNER_PACKAGE: "beginner_package"
        }
    }
}),
define("enums/json_tracking", function() {
    return {
        EVENT_SCREEN: "event-screen",
        CRM_RESPONSE: "crm-response",
        WINDOW_POPUP: "popup",
        SHOP_OPEN: "shop-open",
        SHOP_CLOSE: "shop-close",
        SHOP_ERROR: "shop-error"
    }
}),
define("enums/happenings", function() {
    return {
        GREPOLYMPIA: "grepolympia",
        GRID_EVENT: "gridevent",
        MISSIONS: "missions",
        QUIZ_EVENT: "quizevent",
        ROTA: "rota",
        TASKS_EVENT: "tasksevent",
        UNDEFINED: "undefined_happening"
    }
}),
define("enums/happenings/grepolympia", function() {
    return {
        HOPLITE_RACE: "hoplite_race",
        ARCHERY: "archery",
        JAVELIN_THROWING: "javelin_throwing",
        CHARIOT_RACE: "chariot_race",
        SHIELD_LUGE: "shield_luge",
        WINTER_BIATHLON: "winter_biathlon",
        FIGURE_SKATING: "figure_skating",
        SKI_JUMP: "ski_jump",
        MATCH_VS_ATHENTS: "match_vs_athens",
        MATCH_VS_SPARTA: "match_vs_sparta",
        MATCH_VS_CORINTH: "match_vs_corinth",
        MATCH_VS_OLYMPUS: "match_vs_olympus"
    }
}),
define("enums/happenings/event_pass/prize_category", function() {
    return {
        DIVINE_PRIZE: "divine_prize",
        GRAND_PRIZE: "grand_prize",
        ALL: "all"
    }
}),
define("enums/happenings/event_pass/reward_status", function() {
    return {
        UNLOCKED: "unlocked",
        LOCKED: "locked",
        CLAIMED: "claimed",
        NOT_CLAIMED: "not_claimed"
    }
}),
define("enums/crm_screen_component_types", function() {
    return {
        TYPE_TEXT: "text",
        TYPE_BUTTON: "button",
        TYPE_IMAGE: "image",
        TYPE_OFFER: "offer",
        TYPE_ENUM: "enum"
    }
}),
define("enums/crm_tracking_enums", function() {
    return {
        TYPE_INTERSTITIAL: "interstitial",
        TYPE_SCREEN: "screen",
        ACTION_OPEN: "open",
        ACTION_ALLOW: "allow",
        ACTION_DISMISS: "dismiss",
        DEVICE_DESKTOP: "desktop"
    }
}),
define("enums/questlog_categories", function() {
    return {
        DEFAULT_CATEGORY: "default_category",
        ISLAND_QUESTS: "island_quests"
    }
}),
define("enums/unit_function", function() {
    return {
        NONE: "function_none",
        OFFENSIVE: "function_off",
        DEFENSIVE: "function_def",
        OFFENSIVE_DEFENSIVE: "function_both"
    }
}),
define("enums/commands", function() {
    return {
        UNITS: "MovementsUnits",
        SPY: "MovementsSpy",
        REVOLT: "MovementsRevolt",
        CONQUEROR: "MovementsConqueror",
        COLONIZATION: "MovementsColonization"
    }
}),
define("enums/benefit_types", function() {
    "use strict";
    return {
        LARGE_ICON: "largeicon",
        SPAWN: "spawn",
        PEACE_TIME: "peace_time",
        AUGMENTATION: "augmentation",
        AUGMENTATION_BUILDINGS: "augmentation_buildings",
        AUGMENTATION_FAVOR: "augmentation_favor",
        AUGMENTATION_RESOURCE: "augmentation_resource",
        AUGMENTATION_UNITS: "augmentation_units",
        PARTY: "party",
        TOWN_OVERLAY: "town_overlay",
        EVENT_PASS: "event_pass",
        EVENT_PASS_REWARDS_ONLY: "event_pass_rewards_only",
        MISCELLANEOUS: "miscellaneous"
    }
}),
define("enums/event_skins", function() {
    return {
        ASSASSINS: "turn_over_tokens_assassins",
        DIVINE_TRIALS: "divine_trials",
        EASTER_SKIN_DEMETER: "easter_skin_demeter",
        EASTER_SKIN_EASTER_HEN: "easter_skin_easter_hen",
        EASTER_SKIN_INCANTATION: "easter_skin_incantation",
        GREPOLYMPIA_SUMMER: "grepolympia_summer",
        GREPOLYMPIA_WINTER: "grepolympia_winter",
        GREPOLYMPIA_WORLDCUP: "grepolympia_worldcup",
        GRID_EVENT_BATTLESHIPS: "battleships",
        GRID_EVENT_GODS_GIFTS: "gods_gifts",
        HADES: "hades",
        HYDRA: "hydra",
        SLINGERS: "turn_over_tokens_slingers",
        ROTA_SPRING: "spring",
        ROTA_EPIC_BATTLE: "epic_battle"
    }
}),
define("enums/domination_eras", function() {
    return {
        PRE_DOMINATION: "pre_domination",
        DOMINATION: "domination",
        LAST_MAN_STANDING: "last_stand",
        POST_DOMINATION: "post_domination"
    }
}),
define("enums/last_stand_status", function() {
    return {
        ACTIVATION_POSSIBLE: "activation_possible",
        NOT_REACHED: "not_reached",
        ACTIVATED: "activated"
    }
}),
define("enums/end_game_notification_types", function() {
    return {
        DOMINATION_ERA_STARTED: "domination_era_started",
        DOMINATION_VALUE_REACHED: "domination_value_reached",
        DOMINATION_LAST_STAND_STARTED: "domination_last_stand_started",
        DOMINATION_LAST_STAND_FAILED: "domination_last_stand_failed",
        DOMINATION_WORLD_WON: "domination_world_won",
        OLYMPUS_SMALL_TEMPLE_STAGE_STARTED: "olympus_small_temple_stage_started",
        OLYMPUS_LARGE_TEMPLE_STAGE_STARTED: "olympus_large_temple_stage_started",
        OLYMPUS_OLYMPUS_STAGE_STARTED: "olympus_olympus_stage_started",
        OLYMPUS_POST_TEMPLE_STAGE_STARTED: "olympus_post_temple_stage_started",
        OLYMPUS_OLYMPUS_JUMPED: "olympus_olympus_jumped",
        OLYMPUS_OLYMPUS_CONQUERED: "olympus_olympus_conquered",
        WORLD_WONDERS_START: "world_wonders_start",
        WORLD_WONDERS_END: "world_wonders_end",
        WORLD_WONDER_DAMAGED: "world_wonder_damaged",
        WORLD_WONDER_COMPLETED: "world_wonder_completed",
        WORLD_WONDER_UPGRADED: "world_wonder_upgraded",
        WORLD_WONDERS_ALL_BUILT: "world_wonders_all_built",
        WORLD_WONDERS_WINNER: "world_wonders_winner"
    }
}),
define("enums/artifacts", function() {
    "use strict";
    return {
        AMBROSIA: "ambrosia",
        ATHENAS_CORNUCOPIA: "athenas_cornucopia",
        GOLDEN_FLEECE: "golden_fleece",
        MYTHIC_TAMER_CHALICE: "mythic_tamer_chalice",
        PALLADION: "palladion",
        SILVER_KANTHAROS: "silver_kantharos",
        ZEUS_SPARK: "zeus_spark"
    }
}),
define("enums/grepo_score_category", function() {
    return {
        EVENT: "event",
        DAILY_AWARDS: "daily_awards",
        END_GAME: "end_game",
        COMBAT: "combat",
        MILITARY_PREPARATION: "military_preparation",
        EMPIRE_PROGRESSION: "empire_progression",
        HIGHSCORES: "highscores",
        HEROES: "heroes",
        UNOBTAINABLE: "unobtainable"
    }
}),
define("enums/mass_notification_subtypes", function() {
    return {
        WONDER: "mass_notification_type_wonder",
        COMMUNITY_GOAL: "mass_notification_type_community_goal",
        DOMINATION: "mass_notification_type_domination",
        OLYMPUS: "mass_notification_type_olympus",
        ARTIFACT: "mass_notification_type_artifact"
    }
}),
define("enums/layout_modes", function() {
    return {
        CITY_OVERVIEW: "city_overview",
        ISLAND_VIEW: "island_view",
        STRATEGIC_MAP: "strategic_map"
    }
}),
define("enums/attack_table_box_enums", function() {
    return {
        ATTACK_TYPE: "attack_type",
        ATTACK_STRATEGY: "attack_strategy",
        ATTACK: "attack",
        REGULAR: "regular",
        SPELLS: "spells",
        PORTAL_ATTACK_OLYMPUS: "portal_attack_olympus",
        PORTAL_REVOLT_OLYMPUS: "portal_revolt_olympus",
        REVOLT: "revolt"
    }
}),
define("enums/powers", function() {
    return {
        NO_POWER: "no_power",
        STRENGTH_OF_HEROES: "strength_of_heroes",
        CAP_OF_INVISIBILITY: "cap_of_invisibility",
        FAIR_WIND: "fair_wind",
        RESURRECTION: "resurrection",
        EFFORT_OF_THE_HUNTRESS: "effort_of_the_huntress",
        ARES_ARMY: "ares_army",
        ARES_SACRIFICE: "ares_sacrifice",
        BLOODLUST: "bloodlust",
        HYMN_TO_APHRODITE: "hymn_to_aphrodite",
        CHARITABLE_FESTIVAL: "charitable_festival",
        CHARITABLE_FESTIVAL_BOOST_ALLIANCE: "charitable_festival_boost_alliance",
        MYTHICAl_UNIT_FAVOR_COST_BOOST_ALLIANCE: "mythical_unit_favor_cost_boost_alliance",
        ARES_SACRIFICE_BOOST_ALLIANCE: "ares_sacrifice_boost_alliance"
    }
}),
define("enums/end_game_types", function() {
    return {
        END_GAME_TYPE_DOMINATION: "end_game_type_domination",
        END_GAME_TYPE_NONE: "end_game_type_none",
        END_GAME_TYPE_OLYMPUS: "end_game_type_olympus",
        END_GAME_TYPE_WONDER: "end_game_type_world_wonder"
    }
}),
define("enums/enlarged_ui_sizes", function() {
    return {
        SMALL_SIZE: "small_size",
        MEDIUM_SIZE: "medium_size",
        FULL_SIZE: "full_size"
    }
}),
define("enums/temple_sizes", function(e) {
    "use strict";
    return {
        SMALL: "small",
        LARGE: "large",
        OLYMPUS: "olympus"
    }
}),
define("enums/olympus_stages", function() {
    return {
        PRE_TEMPLE_STAGE: "pre_temple_stage",
        SMALL_TEMPLE_STAGE: "small_temple_stage",
        LARGE_TEMPLE_STAGE: "large_temple_stage",
        OLYMPUS_STAGE: "olympus_stage",
        POST_TEMPLE_STAGE: "post_temple_stage"
    }
}),
define("enums/olympus_temple_states", function() {
    return {
        UNDER_PROTECTION: "under_protection",
        UNDER_SIEGE: "under_siege"
    }
}),
define("enums/sort_orders", function(e) {
    "use strict";
    return {
        DEFAULT: "default",
        ASC: "asc",
        DESC: "desc"
    }
}),
define("enums/world_boost_types", function() {
    return {
        FAVOR_PRODUCTION: "favor_production",
        RESOURCE_PRODUCTION: "resource_production",
        UNIT_ATTACK: "unit_attack",
        UNIT_DEFENSE: "unit_defense",
        UNIT_ORDER_TIME: "unit_order_time",
        BUILDING_ORDER_TIME: "building_order_time"
    }
}),
define("enums/unit_types", function() {
    return {
        GROUND: "ground",
        NAVAL: "naval"
    }
}),
define("enums/menu_items", function() {
    return {
        MESSAGES: "messages",
        REPORTS: "reports",
        ALLIANCE_FORUM: "allianceforum",
        INVENTORY: "inventory",
        NOTES: "notes",
        LOGOUT: "logout",
        OVERVIEWS: "overviews",
        FARMING_VILLAGES: "farming_villages",
        ATTACK_PLANNER: "attack_planner",
        ALLIANCE: "alliance",
        RANKING: "ranking",
        PROFILE: "profile",
        SETTINGS: "settings",
        PREMIUM: "premium",
        GREPO_SCORE: "greposcore",
        SUPPORT: "support",
        FORUM: "forum",
        WIKI: "wiki",
        OLYMPUS: "olympus",
        DOMINATION: "domination",
        WORLD_WONDERS: "wonder_wonders"
    }
}),
define("enums/world_wonder_donations_info_types", function() {
    return {
        RESOURCES: "resources",
        FAVOR: "favor"
    }
}),
define("enums/affront_types", function() {
    "use strict";
    return {
        MESSAGE_POST: "message_post",
        ALLIANCE_FORUM_POST: "alliance_forum_post",
        ALLIANCE_PROFILE: "alliance_profile"
    }
}),
function() {
    "use strict";
    if ("function" != typeof window.ngettext)
        window.ngettext = function(s, e, n) {
            if (s = 1 === n ? s : e instanceof Array ? e[0] : e,
            DebugTranslations.isEnabled())
                return DebugTranslations.markString(s);
            else
                return s
        }
}(),
define("misc/timestamp", function() {
    "use strict";
    var o = {
        last_servertime_update: 0,
        fromDays: function(e) {
            return this.fromHours(24 * e)
        },
        fromHours: function(e) {
            return 60 * e * 60
        },
        server: function() {
            try {
                var e = 0;
                if (0 !== this.last_servertime_update)
                    e = parseInt(this.client() - this.last_servertime_update, 10);
                return Game.server_time + e
            } catch (e) {}
        },
        client: function() {
            return o.make()
        },
        clientServerDiff: function() {
            return o.client() - o.server()
        },
        now: function(e) {
            switch (e) {
            case "client":
            case "c":
                return o.client();
            default:
                return o.server()
            }
        },
        nextMidnight: function(e) {
            e = new Date(1e3 * e);
            return e.setUTCDate(e.getUTCDate() + 1),
            e.setHours(0),
            e.setMinutes(0),
            e.setSeconds(0),
            parseInt(e.getTime() / 1e3, 10)
        },
        getSecondsToNextMidnight: function() {
            return o.nextMidnight(o.now()) - o.now()
        },
        serverGMTOffset: function() {
            return parseInt(Game.server_gmt_offset, 10)
        },
        localeGMTOffset: function() {
            return parseInt(Game.locale_gmt_offset, 10)
        },
        clientGMTOffset: function(e) {
            return 60 * (e ? new Date(1e3 * e) : new Date).getTimezoneOffset()
        },
        updateServerTime: function(e) {
            try {
                var i = o.make(e);
                Game.server_time = i || Game.server_time,
                this.last_servertime_update = this.client()
            } catch (e) {}
        },
        updateServerTimebyUnixTime: function(e) {
            e = parseInt(e, 10),
            Game.server_time = e || Game.server_time,
            this.last_servertime_update = this.client()
        },
        make: function(e) {
            return e = void 0 === e ? new Date : new Date(e),
            parseInt(e.getTime() / 1e3, 10)
        },
        toDate: function(e) {
            return new Date(1e3 * e)
        },
        shiftUnixTimestampByTimezoneOffset: function(e, i) {
            return e + ("lc_timezone" === i ? o.serverGMTOffset() : o.localeGMTOffset())
        },
        serverTime: function() {
            return o.toDate(o.server() + o.serverGMTOffset())
        },
        serverTimeToLocal: function() {
            return o.toDate(o.server() + o.localeGMTOffset())
        }
    };
    return window.Timestamp = o,
    window.Timestamp
}),
define("misc/debug_check", function() {
    return {
        startCheck: function() {
            TM.once("debug_check", 3e4, function() {
                gpAjax.ajaxPost("frontend_bridge", "execute", {
                    model_url: "DebugCheck",
                    action_name: "sendDebug",
                    arguments: {
                        html: $("html").get(0).outerHTML
                    }
                })
            })
        }
    }
}),
define("misc/humanmessage", function() {
    "use strict";
    var u = !window.DEBUG
      , c = null
      , d = null
      , i = []
      , o = Promise.resolve()
      , h = {
        CLOSE_TIMEOUT_MS: 3e3,
        INTER_MESSAGE_DELAY_MS: 500,
        error: function(e) {
            return i.push({
                theme: h.THEME.error,
                text: e
            }),
            h._remove(!0).then(h._display.bind(null, e, h.THEME.error))
        },
        success: function(e) {
            return i.push({
                theme: h.THEME.success,
                text: e
            }),
            h._remove(!0).then(h._display.bind(null, e, h.THEME.success))
        },
        award: function(e) {
            e = "+" + e.getPoints() + " - " + e.getName();
            return i.push({
                theme: h.THEME.award,
                text: e,
                headline: "Ocenenie bolo odomknuté!"
            }),
            h._remove(!0).then(h._display.bind(null, e, h.THEME.award, "Ocenenie bolo odomknuté!"))
        },
        _initialize: function() {
            if (!d)
                d = $("#human_message")
        },
        _processQueue: function() {
            if (0 === i.length)
                return Promise.resolve();
            else {
                var e = i.shift();
                return o = o.then(h._handleMessage.bind(null, e)).then(function() {
                    return new Promise(function(e) {
                        setTimeout(e, h.INTER_MESSAGE_DELAY_MS)
                    }
                    )
                }).then(h._processQueue)
            }
        },
        _handleMessage: function(e) {
            return h._display(e.text, e.theme, e.headline)
        },
        _display: function(r, a, l) {
            return new Promise(function(i) {
                function e() {
                    var e;
                    e = h.CLOSE_TIMEOUT_MS,
                    clearTimeout(c),
                    c = setTimeout(o, e)
                }
                var o = function(e) {
                    h._remove(!1).then(i)
                };
                if (h._initialize(),
                d.off().on("mouseenter", function() {
                    clearTimeout(c),
                    h._remove(!0).then(i)
                }),
                d.find(".text").html(r),
                d.find(".headline").text(l),
                d.css("display", "inline-block"),
                d.attr("class", a),
                u)
                    d.show(),
                    d.transition({
                        opacity: 1
                    }, {
                        duration: 200,
                        complete: e
                    });
                else
                    e()
            }
            )
        },
        _remove: function(i) {
            function o() {
                d.hide(),
                d.css("opacity", 0),
                d.find(".text").text(""),
                d.find(".headline").text("")
            }
            return h._initialize(),
            new Promise(function(e) {
                e = us.compose(o, e);
                if (clearTimeout(c),
                u && !i)
                    d.transition({
                        opacity: 0
                    }, 500, e);
                else
                    e()
            }
            )
        },
        THEME: {
            error: "error_msg",
            success: "success_msg",
            award: "award_msg"
        }
    };
    return window.HumanMessage = h
}),
define("helpers/date", function() {
    "use strict";
    var p = require("misc/timestamp");
    function o(e, i) {
        i = void 0 === i ? "full" : i;
        e = e,
        o = Math.floor(e / 86400),
        e -= 86400 * o,
        r = Math.floor(e / 3600),
        e -= 3600 * r,
        a = Math.floor(e / 60);
        var o, r, a, l = {
            days: o,
            hours: r,
            minutes: a,
            seconds: e -= 60 * a
        }, u = {}, c = [];
        if ("full" === i)
            u = {
                days: " " + ngettext("deň", ["deň", "dni", "dní"], l.days),
                hours: " " + ngettext("hodina", ["hodina", "hodiny", "hodín"], l.hours),
                minutes: " " + ngettext("minúta", ["minúta", "minúty", "minút"], l.minutes),
                seconds: " " + ngettext("sekunda", ["sekunda", "sekundy", "sekúnd"], l.seconds)
            };
        else if ("short" === i)
            u = {
                days: "d",
                hours: "h",
                minutes: "min.",
                seconds: "sek."
            };
        if (["days", "hours", "minutes", "seconds"].forEach(function(e) {
            if (1 <= l[e])
                c.push(l[e] + u[e])
        }),
        0 === c.length)
            c.push("0" + u.seconds);
        return c
    }
    var e = {
        FULL_LABEL_TYPE: "full",
        SHORT_LABEL_TYPE: "short",
        readableSeconds: function(e, i, o, r) {
            var a, l, u;
            if (i)
                e -= 86400 * (a = parseInt(e / 86400, 10));
            if (l = parseInt(e / 3600, 10),
            u = parseInt((e - 3600 * l) / 60, 10),
            r)
                e %= 60;
            else
                e = parseInt(e % 60, 10);
            function c(n, e) {
                if (void 0 === e)
                    e = 2;
                for (n += ""; n.length < e; )
                    n = "0" + n;
                return n
            }
            return (i && 0 < a ? ngettext("%s deň", ["%s deň", "%s dni", "%s dní"], a).split("%s").join(a) + " " : "") + (!o || 0 !== l || 0 !== u || 0 !== e ? c(l) + ":" + c(u) + ":" + c(e) : "")
        },
        readableSecondsWithLabels: function(e, i) {
            return o(e, i).join(" ")
        },
        timestampToLocaleTime: function(e, i) {
            var e = p.toDate(p.shiftUnixTimestampByTimezoneOffset(e))
              , o = {
                timeZone: "UTC",
                hour12: !1,
                hour: "numeric",
                minute: "2-digit"
            };
            if (i)
                o.second = "2-digit";
            return function() {
                try {
                    (new Date).toLocaleTimeString("i")
                } catch (e) {
                    return "RangeError" === e.name
                }
            }() ? e.toLocaleTimeString(void 0, o) : e.toLocaleTimeString()
        },
        timestampToLocaleDate: function(e, i) {
            e = p.toDate(p.shiftUnixTimestampByTimezoneOffset(e));
            return function() {
                try {
                    (new Date).toLocaleDateString("i")
                } catch (e) {
                    return "RangeError" === e.name
                }
            }() ? e.toLocaleDateString(i, {
                timeZone: "UTC",
                day: "2-digit",
                month: "2-digit",
                year: "numeric"
            }) : e.toLocaleDateString()
        },
        timestampToDateTime: function(e, i) {
            return e = p.shiftUnixTimestampByTimezoneOffset(e, i),
            getHumanReadableTimeDate(p.toDate(e))
        },
        formatDateTimeNice: function(e, i, o) {
            o = void 0 === o ? !0 : o;
            var r = new Date(1e3 * p.shiftUnixTimestampByTimezoneOffset(p.server()))
              , a = new Date(1e3 * p.shiftUnixTimestampByTimezoneOffset(e))
              , l = r.getUTCFullYear()
              , u = r.getUTCMonth()
              , r = r.getUTCDate()
              , c = new Date(Date.UTC(l, u, r, 23, 59, 59)).getTime()
              , d = new Date(Date.UTC(l, u, r - 1, 23, 59, 59)).getTime()
              , l = new Date(Date.UTC(l, u, r + 1, 23, 59, 59)).getTime();
            if (a.getTime().between(d, c))
                h = s("dnes o %1", this.timestampToLocaleTime(e, i));
            else if (a.getTime().between(c, l))
                h = s("zajtra o %1", this.timestampToLocaleTime(e, i));
            else
                var u = this.timestampToLocaleDate(e, Game.locale_lang.replace("_", "-"))
                  , r = this.timestampToLocaleTime(e, i)
                  , h = s(o ? "dňa %1 o %2" : "%1 o %2", u, r);
            return h
        },
        formatAdvisorExpiration: function(e, i) {
            var o = "no_offset" === i ? e : p.shiftUnixTimestampByTimezoneOffset(e, i)
              , o = new Date(1e3 * o)
              , r = o.getUTCDate()
              , a = o.getUTCMonth() + 1;
            if (r < 10)
                r = "0" + r;
            if (a < 10)
                a = "0" + a;
            return r = r + "." + a + "." + o.getUTCFullYear(),
            s("%1 <br />o %2", r, readableUnixTimestamp(e, i, {
                with_seconds: !0
            }))
        },
        seconds_in_last48_hours: function(e, i) {
            var o = []
              , r = Math.floor(e / 86400);
            if (2 <= r) {
                var a = r + " " + ngettext("deň", ["deň", "dni", "dní"], r);
                if (i)
                    o.push(s(ngettext("%1 zostáva", ["%1 zostáva", "%1 zostáva", "%1 zostáva"], r), a));
                else
                    o.push(s("zostáva %1", a))
            } else
                o.push(this.readableSeconds(e));
            return o.join(" ")
        },
        relativeTimeWithLabel: function(e, i) {
            e = o(p.now("s") - e, i);
            return s("pred %1", e[0])
        },
        roundSecondsToNearestMinute: function(e) {
            return 60 * Math.round(e / 60)
        }
    };
    return window.DateHelper = e
}),
function() {
    "use strict";
    window.DeprecatedHelper = {
        parseToValidNumericValue: function(e) {
            var i = (i = $(e).val()).replace(/[^\d\.]/g, "");
            if (i = parseInt(i, 10),
            isNaN(i))
                i = "";
            $(e).val(i)
        }
    }
}(),
define("helpers/internal_markets", function() {
    "use strict";
    return {
        isInternalMarket: function(e) {
            if (e)
                return -1 < Game.internal_markets.indexOf(e.toLowerCase())
        }
    }
}),
define("helpers/benefit", function() {
    "use strict";
    var a = require("enums/benefit_types");
    return {
        isEventNotStartedOrRunning: function(i) {
            return void 0 !== MM.getOnlyCollectionByName("Benefit").find(function(e) {
                return e.getType() === i && (e.isRunning() || 0 < e.secondsTillStart())
            })
        },
        isEventRunning: function(i) {
            return void 0 !== MM.getOnlyCollectionByName("Benefit").find(function(e) {
                return e.getType() === i && e.isRunning()
            })
        },
        isEventPassRunning: function() {
            return void 0 !== MM.getOnlyCollectionByName("Benefit").getFirstRunningBenefitOfType(a.EVENT_PASS)
        },
        isExtendedEventPassRunning: function() {
            return void 0 !== MM.getOnlyCollectionByName("Benefit").getFirstRunningBenefitOfType(a.EVENT_PASS_REWARDS_ONLY)
        },
        getEventPassRewardsOnly: function() {
            return MM.getOnlyCollectionByName("Benefit").getFirstBenefitOfType(a.EVENT_PASS_REWARDS_ONLY)
        },
        isEventPassRewardsOnlyRunning: function() {
            return void 0 !== MM.getOnlyCollectionByName("Benefit").getFirstRunningBenefitOfType(a.EVENT_PASS_REWARDS_ONLY)
        },
        getWindowType: function() {
            return MM.getOnlyCollectionByName("Benefit").getFirstRunningBenefitOfTypeWithoutPrerequisites(a.LARGE_ICON).getLargeIconData().window_type
        },
        getBenefitSkin: function(e) {
            var i = MM.getOnlyCollectionByName("Benefit")
              , o = "";
            if (!i || 0 === i.length)
                ;
            else {
                if (void 0 === e)
                    e = a.LARGE_ICON;
                if (e === a.LARGE_ICON && i.getFirstRunningBenefitOfTypeWithoutPrerequisites(e))
                    var r = i.getFirstRunningBenefitOfTypeWithoutPrerequisites(e).getLargeIconData().window_type
                      , o = i.getSkinForTheLargeIconOfWindowType(e, r);
                else if (i.getFirstRunningBenefitOfType(e)) {
                    r = i.getFirstRunningBenefitOfType(e).get("params");
                    o = r.skin ? r.skin : ""
                }
                return o
            }
        },
        getl10nForSkin: function(e, i, o) {
            if (void 0 === o)
                o = a.LARGE_ICON;
            o = this.getBenefitSkin(o),
            o = DM.getl10n(o)[i];
            return $.extend(!0, e, o)
        },
        getl10nPremiumForSkin: function(e, i, o) {
            if (void 0 === o)
                o = a.LARGE_ICON;
            var o = this.getBenefitSkin(o)
              , r = DM.getl10n(o);
            return ["premium", i, "confirmation"].forEach(function(e) {
                r = r ? r[e] : r
            }),
            $.extend(!0, e, r)
        },
        getRunningPeaceTimeHappening: function() {
            return MM.getOnlyCollectionByName("Benefit").getFirstRunningBenefitOfType(a.PEACE_TIME)
        },
        getEventStartAt: function(e) {
            var i = MM.getOnlyCollectionByName("Benefit")
              , e = i.getFirstRunningBenefitOfType(e || a.LARGE_ICON);
            if (0 < i.length && e)
                return e.getStart();
            else
                return 0
        },
        getEventEndAt: function(e) {
            var i = MM.getOnlyCollectionByName("Benefit")
              , e = i.getFirstRunningBenefitOfType(e || a.LARGE_ICON);
            if (0 < i.length && e)
                return e.getEnd();
            else
                return 0
        },
        getEventLength: function(e) {
            var i = MM.getOnlyCollectionByName("Benefit")
              , e = i.getFirstRunningBenefitOfType(e || a.LARGE_ICON);
            if (0 < i.length && e)
                return e.getEnd() - e.getStart();
            else
                return 0
        }
    }
}),
define("helpers/browser", function() {
    "use strict";
    function e(e) {
        var i = navigator.userAgent.toLowerCase()
          , i = /(msie) ([\w.]+)/.exec(i) || 0 <= i.indexOf("trident") && /(rv)(?::| )([\w.]+)/.exec(i) || [];
        return ("msie" === i[1] || "rv" === i[1]) && parseInt(i[2], 10) <= e
    }
    return {
        isIE: function() {
            return e(11)
        },
        isIE11OrLower: function() {
            return e(11)
        },
        isIE10OrLower: function() {
            return e(10)
        }
    }
}),
define("helpers/error_handler", function() {
    "use strict";
    return {
        handleImageCorsError: function(e) {
            var e = e.target
              , i = e.currentSrc
              , o = Game.game_url
              , r = e.parentElement
              , a = document.createElement("div");
            a.innerHTML = us.template(DM.getTemplate("error_messages", "cors_error_message"))({
                error_message: DM.getl10n("COMMON").error.cors_error_message(i, o, Game.img_hosting_whitelist_wiki_url)
            }),
            r.insertBefore(a.firstChild, e),
            r.removeChild(e)
        }
    }
}),
define("helpers/wonder", function() {
    "use strict";
    var a = require_legacy("Game");
    return {
        registerGracePeriodProgressBar: function(e) {
            var i = e.getJQElement().find(".grace_period_wonder_bar");
            if (i.length) {
                var o = i.data("timestamp")
                  , r = a.constants.wonder.wonder_start_grace_period_seconds
                  , o = o - Timestamp.now();
                CM.unregister(e.getContext(), "grace_period_wonder_bar"),
                CM.register(e.getContext(), "grace_period_wonder_bar", i.singleProgressbar({
                    template: "tpl_pb_single_nomax_bg",
                    type: "time",
                    reverse_progress: !0,
                    liveprogress: !0,
                    liveprogress_interval: 1,
                    value: o,
                    max: r,
                    countdown: !0
                }))
            }
        }
    }
}),
function() {
    var e = require("helpers/internal_markets");
    if (Game.dev || e.isInternalMarket(Game.market_id))
        window.DebugTimeOffset = function() {
            "use strict";
            function e() {
                gpAjax.ajaxPost("debug", "macro", {
                    macro: "dailylogingift_resetdebugtimeoffset"
                }, !1, function() {
                    window.location.reload()
                })
            }
            return $(document).ready(function() {
                $("#debug_time_offset a").on("click", e)
            }),
            {
                setMinutesUntilMidnight: function(e) {
                    gpAjax.ajaxPost("debug", "macro", {
                        macro: "dailylogingift_setminutesuntilmidnight",
                        args: {
                            minutes: e
                        }
                    }, !1, function() {
                        window.location.reload()
                    })
                },
                reset: e
            }
        }()
}(),
window.DebugTranslations = function() {
    "use strict";
    var i = null;
    function e(e) {
        gpAjax.ajaxGet("debug", "debug_translations", {
            state: e
        }, !1, function() {
            LocalStore.gclear(),
            location.reload()
        })
    }
    return {
        enable: function() {
            i = !0,
            e(1)
        },
        disable: function() {
            i = !1,
            e(0)
        },
        isEnabled: function() {
            if (null !== i)
                return i;
            else {
                var e = $.cookie("DEBUG_TRANSLATIONS");
                return i = !!parseInt(e)
            }
        },
        toggle: function() {
            if (this.isEnabled())
                this.disable();
            else
                this.enable()
        },
        markString: function(e) {
            return "***" + e + "***"
        }
    }
}(),
!Date.now)
    Date.now = function() {
        return (new Date).valueOf()
    }
    ;
if (!String.prototype.camelCase)
    String.prototype.camelCase = function() {
        return this.replace(/(?:\b|_)(.)/g, function(e, i) {
            return i.toUpperCase()
        })
    }
    ;
if (!String.prototype.snakeCase)
    String.prototype.snakeCase = function() {
        return this.replace(/([A-Z])/g, function(e) {
            return "_" + e.toLowerCase()
        }).replace(/^_/, "")
    }
    ;
if (!Function.prototype.inherits)
    Function.prototype.inherits = function(e) {
        this.prototype = new e,
        (this.prototype.constructor = this).prototype.parent = e.prototype
    }
    ;
if (!Number.prototype.between)
    Number.prototype.between = function(e, i) {
        return e < i ? e <= this && this <= i : i <= this && this <= e
    }
    ;
if (!Array.prototype.searchFor)
    Array.prototype.searchFor = function(i, o) {
        return this.filter(function(e) {
            return e[i] == o
        })
    }
    ;
if (!String.prototype.truncate)
    String.prototype.truncate = function(e) {
        return e < this.length ? this.substr(0, e) + "..." : this
    }
    ;
if (!Array.prototype.remove)
    Array.prototype.remove = function(e, i) {
        i = this.slice((i || e) + 1 || this.length);
        return this.length = e < 0 ? this.length + e : e,
        this.push.apply(this, i)
    }
    ;
if (!Array.prototype.max)
    Array.prototype.max = function(e) {
        return Math.max.apply(Math, e)
    }
    ;
if (String.prototype.repeat = function(e) {
    "use strict";
    for (var i = "", o = 0; o < e; o++)
        i += this;
    return i
}
,
!Array.prototype.min)
    Array.prototype.min = function(e) {
        return Math.min.apply(Math, e)
    }
    ;
if (!Array.prototype.clone)
    Array.prototype.clone = function() {
        return this.slice(0)
    }
    ;
if (!String.prototype.strip)
    String.prototype.strip = function() {
        return this.replace(/<(.|\n)*?>/g, "")
    }
    ;
if (window.console && !window.console.group)
    window.console.group = function(e) {
        return e
    }
    ,
    window.console.groupEnd = function() {
        return ""
    }
    ;
if (!String.prototype.isLTE)
    String.prototype.isLTE = function(e) {
        var i = this
          , o = i.match(/^\s+\d+|^\d+/)
          , r = e.match(/^\s+\d+|^\d+/)
          , o = null !== o ? parseInt(o.shift(), 10) : NaN
          , r = null !== r ? parseInt(r.shift(), 10) : NaN;
        if (isNaN(o) || isNaN(r))
            i = i.toLowerCase(),
            e = e.toLowerCase();
        else
            i = o,
            e = r;
        return i <= e
    }
    ;
if (!Date.prototype.toShortString)
    Date.prototype.toShortString = function() {
        var e = (e = this.getUTCHours()) < 10 ? "0" + e : e
          , i = (i = this.getUTCMinutes()) < 10 ? "0" + i : i
          , o = (o = this.getUTCDate()) < 10 ? "0" + o : o
          , r = (r = this.getUTCMonth() + 1) < 10 ? "0" + r : r;
        return e + ":" + i + " " + o + "/" + r + "/" + this.getUTCFullYear()
    }
    ;
function utf8Encode(e) {
    e = e.replace(/\r\n/g, "\n");
    for (var i = "", n = 0; n < e.length; n++) {
        var o = e.charCodeAt(n);
        if (o < 128)
            i += String.fromCharCode(o);
        else if (127 < o && o < 2048)
            i = (i += String.fromCharCode(o >> 6 | 192)) + String.fromCharCode(63 & o | 128);
        else
            i = (i = (i += String.fromCharCode(o >> 12 | 224)) + String.fromCharCode(o >> 6 & 63 | 128)) + String.fromCharCode(63 & o | 128)
    }
    return i
}
function utf8Decode(e) {
    var i, o, r, a = "", l = 0;
    for (o = 0; l < e.length; )
        if ((r = e.charCodeAt(l)) < 128)
            a += String.fromCharCode(r),
            l++;
        else if (191 < r && r < 224)
            o = e.charCodeAt(l + 1),
            a += String.fromCharCode((31 & r) << 6 | 63 & o),
            l += 2;
        else
            o = e.charCodeAt(l + 1),
            i = e.charCodeAt(l + 2),
            a += String.fromCharCode((15 & r) << 12 | (63 & o) << 6 | 63 & i),
            l += 3;
    return a
}
function buildLink(e, i) {
    var o, r = [];
    for (o in i)
        r.push(o + "=" + escape(i[o]));
    return r.push("h=" + encodeURIComponent(Game.csrfToken)),
    "/game/" + e + "?" + r.join("&")
}
function url(e, i, o) {
    if (e && "/" === e.substr(0, 1))
        return e;
    if (e = e || Game.controller,
    o = o || {},
    void 0 !== i && "" !== i)
        o.action = i;
    return o.town_id = o.town_id || Game.townId,
    buildLink(e, o)
}
function day_hr_min_sec(e, i, o) {
    var r, a, l, u, c, d = "d", h = "h", p = "min.", f = "sek.";
    function g() {
        return m ? c + "<span>" + f + "</span>" : ""
    }
    var m = void 0 === (o = o || {}).with_seconds ? !0 : o.with_seconds;
    if (0 === e)
        return "Teraz";
    if (o = parseInt(e / 86400, 10),
    r = parseInt(e / 3600 % 24, 10),
    a = parseInt(e / 60 % 60, 10),
    e = parseInt(e % 60, 10),
    d = 0 < o ? o + "<span>" + d + "</span>&nbsp;" : "",
    l = r < 10 ? "0" + r : r,
    u = a < 10 ? "0" + a : a,
    c = e < 10 ? "0" + e : e,
    i)
        d = (d += 0 < r || 0 < o ? l + "<span>" + h + "</span>&nbsp;" : "") + (0 < a || 0 < r || 0 < o ? u + "<span>" + p + "</span>&nbsp;" : "") + g();
    else
        d += l + "<span>" + h + "</span>&nbsp;" + u + "<span>" + p + "</span>&nbsp;" + g();
    return d
}
function hours_minutes_seconds(e) {
    var i = []
      , o = Math.floor(e / 604800)
      , r = Math.floor(e / 86400 % 7)
      , a = Math.floor(e / 3600 % 24)
      , l = Math.floor(e / 60 % 60)
      , e = Math.floor(e % 60);
    if (0 < o)
        i.push(o + " " + ngettext("týždeň", ["týždeň", "týždne", "týždňov"], o));
    if (0 < r)
        i.push(r + " " + ngettext("deň", ["deň", "dni", "dní"], r));
    if (0 < a)
        i.push(a + " " + ngettext("hodina", ["hodina", "hodiny", "hodín"], a));
    if (0 < l)
        i.push(l + " " + ngettext("minúta", ["minúta", "minúty", "minút"], l));
    if (0 < e)
        i.push(e + " " + ngettext("sekunda", ["sekunda", "sekundy", "sekúnd"], e));
    return i.join(" ")
}
function readableDate(e, i, o, r) {
    return readableUnixTimestamp(e.getTime(), !0 === i ? "no_offset" : "player_timezone", {
        extended_date: o,
        with_seconds: r
    })
}
function readableUnixTimestamp(e, i, o) {
    var r, a = void 0 === (o = void 0 === o ? {} : o).with_seconds ? !0 : o.with_seconds, o = void 0 === o.extended_date ? !1 : o.extended_date, e = "no_offset" === i ? e : Timestamp.shiftUnixTimestampByTimezoneOffset(e, i), i = new Date(1e3 * e), e = i.getUTCHours(), l = i.getUTCMinutes(), u = i.getUTCSeconds();
    if (e < 10)
        e = "0" + e;
    if (l < 10)
        l = "0" + l;
    if (u < 10)
        u = "0" + u;
    if (o) {
        if ((o = i.getUTCDate()) < 10)
            o = "0" + o;
        if ((i = i.getUTCMonth() + 1) < 10)
            i = "0" + i;
        r = o + "." + i + ".|" + e + ":" + l + (a ? ":" + u : "")
    } else
        r = e + ":" + l + (a ? ":" + u : "");
    return r
}
function readableRatio(e) {
    var i = Math.round(100 * (1 <= e ? e : 1 / e)) / 100;
    if (e < 1)
        return "1:" + i;
    else
        return i + ":1"
}
function _(s) {
    if (DebugTranslations.isEnabled())
        return DebugTranslations.markString(s);
    else
        return s
}
function _literal(s) {
    return s
}
function __(s) {
    if (DebugTranslations.isEnabled())
        return DebugTranslations.markString(s.substr(s.indexOf("|") + 1));
    else
        return s.substr(s.indexOf("|") + 1)
}
function s(e) {
    var i;
    if (!e)
        return "";
    for (i = 1; i < arguments.length; i++)
        e = e.split("%" + i).join(arguments[i]);
    return e
}
function debug(i) {
    var s;
    if (!Game.dev)
        ;
    else
        try {
            if (1 < arguments.length) {
                for (console.group(),
                o = 0; o < arguments.length; o++)
                    console.debug(arguments[o]);
                console.groupEnd()
            } else
                console.log(i)
        } catch (e) {
            try {
                opera.postError(i)
            } catch (e) {
                if ("object" == typeof i) {
                    for (var o in s = "",
                    i)
                        s += o + ": " + i[o] + "\n";
                    alert(s)
                } else
                    alert(i)
            }
        }
}
function w(e) {
    var i = e || this;
    if (i.wnd)
        ;
    else {
        for (; i.parentNode && -1 === ("DIV" !== (i = i.parentNode).tagName ? i = i.parentNode : i).id.indexOf("gpwnd"); )
            ;
        e = ~~i.id.match(/\d+/);
        i.wnd = GPWindowMgr.GetByID(e)
    }
    return i.wnd
}
function attr(e) {
    var i, o = "";
    for (i in e)
        if (e[i])
            o = o + " " + i + '="' + e[i] + '"';
    return o
}
function button(e, i, o, r) {
    var a, l, u = "button";
    if (i.hasOwnProperty("class"))
        u += " " + i.class;
    if (!i.href)
        i.href = "#";
    if ((l = i.onclick) && "function" == typeof l)
        o = !1,
        delete i.onclick;
    if (u = '<a class="' + u + '" ' + (i = attr(i)) + '><span class="left"><span class="right"><span class="middle">' + e + '</span></span></span><span style="clear:both;"></span></a>',
    !o)
        a = $(u);
    if (l && !o)
        a.on("click", function() {
            l.apply(r)
        });
    return o ? u : a
}
function isNumber(e) {
    return "number" == typeof e && isFinite(e)
}
function is_array(e) {
    return "object" == typeof e && e instanceof Array
}
function addslashes(e) {
    e = e || "";
    return e = (e = (e = (e = e.replace(/\\/g, "\\\\")).replace(/\'/g, "\\'")).replace(/\"/g, '\\"')).replace(/\0/g, "\\0")
}
function getHumanReadableTimeDate(e) {
    var i = e.getUTCHours()
      , o = e.getUTCMinutes()
      , r = e.getUTCSeconds()
      , a = e.getUTCDate()
      , l = e.getUTCMonth() + 1;
    if (i < 10)
        i = "0" + i;
    if (o < 10)
        o = "0" + o;
    if (r < 10)
        r = "0" + r;
    if (a < 10)
        a = "0" + a;
    if (l < 10)
        l = "0" + l;
    return i + ":" + o + ":" + r + " " + a + "/" + l + "/" + e.getUTCFullYear()
}
function getHumanReadableDate(e) {
    var i = e.getUTCDate()
      , o = e.getUTCMonth() + 1;
    if (i < 10)
        i = "0" + i;
    if (o < 10)
        o = "0" + o;
    return i + "/" + o + "/" + e.getUTCFullYear()
}
function newDateByTimezone(e, i, o, r, a, l, u) {
    var c = new Date;
    return c.setUTCFullYear(e, i, o),
    c.setUTCHours(r, a, l - u),
    c
}
function recalcCapacity(e, r, i, o, a, l, u) {
    r = r || 0;
    var c = require("enums/ground_units")
      , d = 0
      , h = 0
      , p = r.berth || 0
      , f = GameData.units
      , g = f.big_transporter.capacity
      , m = f.small_transporter.capacity;
    if (e.each(function() {
        var e, i = this.name, o = ~~this.value;
        if (o && !f[i].flying)
            if (f[i].is_naval)
                d += ((e = f[i].capacity) + (e ? r.berth || 0 : 0)) * o;
            else if (f[i].id === c.SPARTOI)
                h += o;
            else
                h += f[i].population * o
    }),
    e = 1 <= (e = h / d) || !d ? 0 : -460 * (1 - e),
    i.text(h),
    o.text(d),
    a.stop(!0, !0).animate({
        backgroundPosition: e + "px"
    }),
    l)
        l.text(Math.ceil(h / (g + p)));
    if (u)
        u.text(Math.ceil(h / (m + p)));
    return {
        capacity: d,
        population: h
    }
}
function isSomeThing(r, a) {
    var l, u;
    return function() {
        var e, i, o = r.length;
        if ("boolean" == typeof l)
            return l;
        else {
            if (u = navigator.userAgent.toLowerCase(),
            "any" === a)
                for (e = 0; e < o; ++e)
                    i = r[e],
                    l = l || -1 < u.indexOf(i);
            else
                for (l = !0,
                e = 0; e < o; ++e)
                    i = r[e],
                    l = l && -1 < u.indexOf(i);
            return l
        }
    }
}
window.cycle = function() {
    var o = !1;
    return function(e, i) {
        return (o = !o) ? e : i
    }
}(),
jQuery.blocker = function(e) {
    var i = jQuery.extend({
        id: "",
        caching: e.id,
        html: "f00",
        width: 520,
        height: 200,
        title: "",
        gameloader: !1,
        bgClickable: !0,
        success: "",
        cssClass: "",
        onSuccess: function() {},
        cancel: "",
        onCancel: function() {},
        callback: void 0
    }, e)
      , e = '<div class="gpwindow_frame ' + i.cssClass + '" style="position: absolute; top: ' + ($(window).height() - i.height) / 2 + "px;left: " + ($(window).width() - i.width) / 2 + "px; width: " + i.width + "px; height: " + i.height + 'px; z-index: 5000; display: block;"><div class="gpwindow_left"></div><div class="gpwindow_right"></div><div class="gpwindow_bottom"><div class="gpwindow_left corner"></div><div class="gpwindow_right corner"></div></div><div class="gpwindow_top"><div class="gpwindow_left corner"></div><div class="ui-dialog-titlebar"><span class="ui-dialog-title">' + i.title + '</span></div><div class="gpwindow_right corner"></div></div><div class="gpwindow_content"></div>'
      , o = {
        box: $(e),
        bg: $('<div id="blockbox_bg"></div>'),
        body: $("body")
    };
    return o.content = o.box.find("div.gpwindow_content"),
    this.blocker.block = function() {
        var e = i.html.parent();
        o.original_parent = e.length ? e : $("body"),
        o.html = i.html.detach(),
        o.content.append(o.html.show()),
        o.box.appendTo(o.body).show(),
        o.bg.appendTo(o.body).show()
    }
    ,
    this.blocker.handleEvents = function() {
        if (i.bgClickable)
            o.bg.on("click.block", function() {
                jQuery.blocker.unblock()
            });
        $(i.success).off("click").on("click", function() {
            i.onSuccess(),
            jQuery.blocker.unblock()
        }),
        $(i.cancel).off("click").on("click", function() {
            i.onCancel(),
            jQuery.blocker.unblock()
        })
    }
    ,
    this.blocker.unblock = function() {
        if (o.box.hide().detach(),
        o.bg.hide().detach(),
        i.gameloader)
            o.html.remove();
        else
            o.html.appendTo(o.original_parent).hide();
        if (i.callback && "function" == typeof i.callback)
            i.callback()
    }
    ,
    this.blocker.block(),
    this.blocker.handleEvents(),
    this.blocker
}
,
jQuery.extend(jQuery.easing, {
    bounce: function(e, t, i, o, r) {
        if ((t /= r) < 1 / 2.75)
            return o * (7.5625 * t * t) + i;
        else if (t < 2 / 2.75)
            return o * (7.5625 * (t -= 1.5 / 2.75) * t + .75) + i;
        else if (t < 2.5 / 2.75)
            return o * (7.5625 * (t -= 2.25 / 2.75) * t + .9375) + i;
        else
            return o * (7.5625 * (t -= 2.625 / 2.75) * t + .984375) + i
    }
});
var isiOs = isSomeThing(["iphone", "ipad", "ipod", "appledevice"], "any")
  , isIeTouch = isSomeThing(["touch", "trident", "tablet"], "all")
  , isMsApp = isSomeThing(["trident", "msapphost"], "all");
function isSmallScreen() {
    if (isSmallScreen.result)
        ;
    else if ($(window).height() <= 800)
        isSmallScreen.result = !0;
    else
        isSmallScreen.result = !1;
    return isSmallScreen.result
}
function makeDWord(e, i) {
    return 65535 & e | (65535 & i) << 16
}
var Sort = {
    sort_by: null,
    sortBy: function(e) {
        this.sort_by = e
    },
    sortedBy: function(e) {
        return this.sort_by === e
    },
    qsort: function(e) {
        var i = []
          , o = [];
        if (!e || e.length <= 1)
            return e;
        else {
            var r, a = Math.floor(Math.random() * (e.length - 1)), l = e[a];
            for (e.splice(a, 1),
            r = 0; r < e.length; r++) {
                var u = e[r]
                  , c = $(u).find("span.sortable." + this.sort_by).text()
                  , d = $(l).find("span.sortable." + this.sort_by).text();
                if (c.isLTE(d))
                    o.push(u);
                else
                    i.push(u)
            }
            return this.qsort(o).concat(l).concat(this.qsort(i))
        }
    }
};
function romanNumerals(e) {
    for (var i = [1e3, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1], o = ["min", "CM", "D", "CD", "C", "XC", "L", "XL", "X", "IX", "V", "IV", "I"], r = i.length, a = 0, l = e, u = ""; a < r; ++a)
        for (; i[a] < l; )
            l -= i[a],
            u += o[a];
    return u
}
if (!window.getComputedStyle)
    window.getIEComputedStyle = function(r, e) {
        return this.el = r,
        this.getPropertyValue = function(e) {
            var i = /(\-([a-z]){1})/g;
            if ("float" === e)
                e = "styleFloat";
            if (i.test(e))
                e = e.replace(i, function() {
                    return arguments[2].toUpperCase()
                });
            return r.currentStyle[e] ? r.currentStyle[e] : null
        }
        ,
        this.cssText = function() {
            if (!r)
                return !1;
            var e, i = r.currentStyle, o = "";
            for (e in i)
                o += e + ":" + i[e] + ";";
            return o.replace(/([A-Z])/g, function(e) {
                return "-" + e.toLowerCase()
            })
        }(),
        this
    }
    ;
function difference(e, i) {
    var o, r = {};
    for (o in e)
        if (e.hasOwnProperty(o) && o in i)
            if (us.isObject(i[o]) && !us.isArray(i[o])) {
                var a = difference(e[o], i[o]);
                if (!us.isEmpty(a))
                    r[o] = a
            } else if (!us.isEqual(e[o], i[o]))
                r[o] = i[o];
    return r
}
function ellipsis(e, i) {
    if (e.length <= i)
        return e;
    else
        return e.slice(0, i - 1) + "…"
}
function numberToLocaleString(e) {
    var i = Game.locale_lang.replace("_", "-");
    return function() {
        try {
            0..toLocaleString("i")
        } catch (e) {
            return "RangeError" === e.name
        }
        return !1
    }() ? e.toLocaleString(i) : e
}
(function(r) {
    "use strict";
    r.fn.hiddenOuterWidth = function(e) {
        e = e ? !0 : !1;
        var i = r(this)
          , o = {
            left: i.css("left"),
            display: i.css("display"),
            position: i.css("position"),
            visibility: i.css("visibility"),
            width: i.css("width")
        };
        return i.css({
            left: 300,
            display: "block",
            position: "absolute",
            visibility: "visible"
        }),
        e = i.outerWidth(e),
        i.css(o),
        e
    }
    ,
    r.fn.setOffsetWidth = function(e) {
        var i = r(this)
          , o = i.outerWidth(!0) - i.outerWidth();
        return i.width(e - o),
        this
    }
}
)(jQuery),
function() {
    "use strict";
    window.GPWindowMgr = function() {
        var u = this
          , c = 0
          , l = 0
          , d = [];
        function e(e, i, o, r, a) {
            if (!o)
                ;
            else
                u["TYPE_" + e] = l,
                d[l] = {
                    handler: o,
                    refs: [],
                    tselector: (1 === (r = r || 0) ? "#" : ".") + i,
                    maxconcurrent: r,
                    isImportant: a = a || !1,
                    name: e.toLowerCase()
                },
                l++
        }
        this.getInstance = function() {
            return u
        }
        ,
        this.getTypeInfo = function(e) {
            return d[e]
        }
        ,
        (this.addWndType = e)("CUSTOM", null, window.WndHandlerDefault),
        e("BOT_CHECK", null, window.WndHandlerDefault, 1, !0),
        e("CAPTCHA", null, window.WndHandlerDefault, 1, !0);
        var h = []
          , p = []
          , f = 1e3;
        return this.setMaxConcurrent = function(e) {
            c = e
        }
        ,
        this.getMaxConcurrent = function() {
            return c
        }
        ,
        this.getNextWindowId = function() {
            return f++
        }
        ,
        this.getWindowById = function(e) {
            return h[e - 1e3]
        }
        ,
        this.checkIfTypeAttackCommandWindowIsAlreadyOpened = function(e, i, o) {
            var r = e.getOpen(i);
            if (!Array.isArray(r))
                ;
            else
                for (var a = 0; a < r.length; a++)
                    if (0 < r[a].getWindowVeryMainNode().find("#arrival_" + o).length)
                        return !0;
            return !1
        }
        ,
        this.Create = function(e, i, o) {
            var r;
            if (e === GPWindowMgr.TYPE_ATK_COMMAND && this.checkIfTypeAttackCommandWindowIsAlreadyOpened(u, e, arguments[3]))
                return null;
            if (0 !== c && !d[e].isImportant && c <= p.length)
                for (l = p.length; l--; )
                    if (!d[p[l].type].isImportant)
                        p[l].close();
            if (0 < d[e].maxconcurrent && d[e].refs.length >= d[e].maxconcurrent) {
                for (l = d[e].refs.length; l--; )
                    d[e].refs[l].toTop();
                if (o && "function" == typeof o.onAfterWindowLoad)
                    o.onAfterWindowLoad();
                return null
            }
            for (var o = new GPWindow(f++,u,this._models,this._collections), a = (o.setIsImportant(d[e].isImportant),
            r = new d[e].handler(o),
            o.setHandler(r),
            []), l = 1; l < arguments.length; l++)
                a[l - 1] = arguments[l];
            if (o.createWindow.apply(o, a))
                return h[o.getID() - 1e3] = o,
                d[e].refs.push(o),
                o.typeinforefid = d[e].refs.length - 1,
                o.type = e,
                p.push(o),
                $.Observer(GameEvents.window.open).publish({
                    context: d[e].name,
                    wnd: o
                }),
                GPWindowMgr.focusWindow(r),
                o;
            else
                return r = o = null
        }
        ,
        this.Unregister = function(e) {
            d[e.type].refs.remove(e.typeinforefid),
            h[e.getID() - 1e3] = void 0;
            for (var i = p.length; i--; )
                if (p[i] === e) {
                    p.remove(i);
                    break
                }
        }
        ,
        this.onClose = function(e) {
            if ($.Observer(GameEvents.window.close).publish({
                window_obj: e,
                type: e.wnd.type,
                id: e.wnd.getIdentifier()
            }),
            "object" == typeof WM)
                WM._removeFromMinimizedWindows(e.wnd.getID())
        }
        ,
        this.getTypeInfo = function(e) {
            return d[e]
        }
        ,
        this.numOpen = function() {
            return p.length
        }
        ,
        this.closeAll = function() {
            for (var e, i, o = [], t = d.length; t--; )
                for (e = d[t].refs.length; e--; )
                    o.push(d[t].refs[e]);
            for (i = o.length; i--; )
                if (o[i].isClosable() && !o[i].getIsImportant())
                    o[i].close(),
                    o[i] = void 0
        }
        ,
        this.GetByID = function(e) {
            e = h[e - 1e3];
            if (e)
                return e;
            else
                return null
        }
        ,
        this.is_open = function(e) {
            return this.getOpen(e).length
        }
        ,
        this.focusWindow = function(e) {
            if ("object" == typeof WM)
                WM.giveFocus(e)
        }
        ,
        this.getAllOpen = function() {
            return this.getOpenedWindows()
        }
        ,
        this.getOpenedWindows = function() {
            return p
        }
        ,
        this.getOpenedClosableWindows = function() {
            for (var e, i = p, o = i.length, r = [], a = 0; a < o; a++)
                if ((e = i[a]).isClosable() && !e.getIsImportant())
                    r.push(e);
            return r
        }
        ,
        this.getByType = function(e) {
            for (var i = [], o = 0, r = p.length; o < r; o++) {
                var a = p[o];
                if (a.getType() === e)
                    i.push(a)
            }
            return i
        }
        ,
        this.getFocusedWindow = function() {
            for (var e, i = p, o = i.length, r = 0; r < o; r++)
                if ((e = i[r]).isFocused())
                    return e;
            return null
        }
        ,
        this.getOpen = function(e) {
            return d[e].refs
        }
        ,
        this.getOpenFirst = function(e) {
            if (d[e] && 0 < d[e].refs.length)
                return d[e].refs[0];
            else
                return null
        }
        ,
        this._models = null,
        this._collections = null,
        this.setModelsAndCollections = function(e, i) {
            this._models = e,
            this._collections = i
        }
        ,
        this
    }
    .call({}),
    GPWindowMgr.extendLayoutWithShortLinks = function(r) {
        function e(o) {
            this.open = function() {
                var e = GPWindowMgr.getOpenFirst(o)
                  , i = Array.prototype.slice.call(arguments);
                if (!e)
                    i.unshift(o, "", {}),
                    GPWindowMgr.Create.apply(GPWindowMgr, i);
                else
                    e.maximizeWindow(),
                    e.sendMessage("openIndex", Game.townId),
                    e.toTop()
            }
            ,
            this.close = function(e) {
                var i = GPWindowMgr.getOpenFirst(o);
                if (!i)
                    ;
                else if (!e)
                    i.close()
            }
            ,
            this.getWnd = function() {
                return GPWindowMgr.getOpenFirst(o)
            }
        }
        r.conquestWindow = function() {}
        ,
        r.conquestWindow.prototype = new e(GPWindowMgr.TYPE_CONQUEST),
        r.conquestWindow.prototype.constructor = e,
        r.conquestWindow = new r.conquestWindow,
        r.conquerorWindow = function() {
            this.open = function(e, i) {
                var o = GPWindowMgr.getOpenFirst(GPWindowMgr.TYPE_CONQUEROR);
                if (!o)
                    GPWindowMgr.Create(GPWindowMgr.TYPE_CONQUEROR, "Informácie o dobytí", {}, e, i);
                else
                    o.toTop(),
                    o.sendMessage("refresh", e, i);
                return o
            }
        }
        ,
        r.conquerorWindow.prototype = new e(GPWindowMgr.TYPE_CONQUEROR),
        r.conquerorWindow.prototype.constructor = e,
        r.conquerorWindow = new r.conquerorWindow,
        r.revoltWindow = function() {
            this.open = function(e, i) {
                var o = GPWindowMgr.getOpenFirst(GPWindowMgr.TYPE_REVOLT);
                if (!o)
                    GPWindowMgr.Create(GPWindowMgr.TYPE_REVOLT, "Informácie o vzbure", {}, e, i);
                else
                    o.toTop(),
                    o.sendMessage("refresh", e, i);
                return o
            }
        }
        ,
        r.revoltWindow.prototype = new e(GPWindowMgr.TYPE_REVOLT),
        r.revoltWindow.prototype.constructor = e,
        r.revoltWindow = new r.revoltWindow,
        r.allianceForum = function() {}
        ,
        r.allianceForum.prototype = new e(GPWindowMgr.TYPE_ALLIANCE_FORUM),
        r.allianceForum.prototype.constructor = e,
        r.allianceForum = new r.allianceForum,
        r.newMessage = function() {
            this.open = function(e) {
                var i = GPWindowMgr.getOpenFirst(GPWindowMgr.TYPE_MESSAGE);
                if (!e.recipients)
                    HumanMessage.error("Zoznam príjemcov je prázdny.");
                else if (!i)
                    GPWindowMgr.Create(GPWindowMgr.TYPE_MESSAGE, "Správy", {}, "new", e);
                else
                    i.toTop(),
                    i.sendMessage("messageNew", e)
            }
        }
        ,
        r.newMessage.prototype = new e(GPWindowMgr.TYPE_MESSAGE),
        r.newMessage.prototype.constructor = e,
        r.newMessage = new r.newMessage,
        r.allianceProfile = function() {
            this.open = function(e, i) {
                var o = GPWindowMgr.getOpenFirst(GPWindowMgr.TYPE_ALLIANCE_PROFILE);
                if (!o)
                    r.wnd.Create(r.wnd.TYPE_ALLIANCE_PROFILE, e, {
                        alliance_id: i
                    });
                else
                    o.toTop(),
                    o.requestContentGet("alliance", "profile", {
                        alliance_id: i
                    }),
                    o.setTitle(e)
            }
        }
        ,
        r.allianceProfile.prototype = new e(GPWindowMgr.TYPE_ALLIANCE_PROFILE),
        r.allianceProfile.prototype.constructor = e,
        r.allianceProfile = new r.allianceProfile,
        r.playerProfile = function() {
            this.open = function(e, i) {
                var o = GPWindowMgr.getOpenFirst(GPWindowMgr.TYPE_PLAYER_PROFILE)
                  , e = "Profil používateľa" + " - " + e;
                if (!o)
                    r.wnd.Create(r.wnd.TYPE_PLAYER_PROFILE, e, {
                        player_id: i
                    });
                else
                    o.toTop(),
                    o.requestContentGet("player", "get_profile_html", {
                        player_id: i
                    }),
                    o.setTitle(e)
            }
        }
        ,
        r.playerProfile.prototype = new e(GPWindowMgr.TYPE_PLAYER_PROFILE),
        r.playerProfile.prototype.constructor = e,
        r.playerProfile = new r.playerProfile,
        r.phoenicianSalesman = function() {}
        ,
        r.phoenicianSalesman.prototype = new e(GPWindowMgr.TYPE_PHOENICIANSALESMAN),
        r.phoenicianSalesman.prototype.constructor = e,
        r.phoenicianSalesman = new r.phoenicianSalesman,
        r.dialogWindow = {
            open: function(e, i, o, r, a, l, u) {
                a = {
                    onClose: a,
                    minimizable: l
                },
                l = void 0 !== u ? $.extend(u, a) : a,
                u = GPWindowMgr.Create(GPWindowMgr.TYPE_DIALOG, "Upozornenie", l);
                if (u.setTitle(i),
                o = o || 400,
                r = r || 250,
                u.setContent(e),
                "auto" === r)
                    u.setWidth(o),
                    u.autoResize(e);
                else
                    u.setSize(o, r);
                return u
            },
            close: function(e) {
                e = GPWindowMgr.GetByID(e);
                if (!e)
                    ;
                else if (e.type === GPWindowMgr.TYPE_DIALOG)
                    e.close()
            }
        },
        r.publishReportWindow = {
            open: function(e, i) {
                var o = GPWindowMgr.Create(GPWindowMgr.TYPE_PUBLISH_REPORT, "Zverejniť hlásenie", {});
                o.setSize(500, 350),
                o.setContent(e)
            },
            close: function(e) {
                e = GPWindowMgr.GetByID(e);
                if (!e)
                    ;
                else if (e.type === GPWindowMgr.TYPE_PUBLISH_REPORT)
                    e.close()
            }
        },
        r.createApplication = function() {
            this.open = function(e) {
                var i = GPWindowMgr.getOpenFirst(GPWindowMgr.TYPE_ALLIANCE);
                if (!i)
                    GPWindowMgr.Create(GPWindowMgr.TYPE_ALLIANCE, "Nová prihláška", {}, null, "create_application", e);
                else
                    i.toTop(),
                    i.requestContentGet("alliance", "create_application", {
                        alliance_id: e
                    })
            }
        }
        ,
        r.createApplication.prototype = new e(GPWindowMgr.TYPE_ALLIANCE),
        r.createApplication.prototype.constructor = e,
        r.createApplication = new r.createApplication
    }
}(),
function() {
    "use strict";
    function e(e, f, i, o) {
        var g, m, w, L, v, y, W, a, F, l, N, r = e, b = "gpwnd_" + e, z = null, q = this, u = {}, H = !1, U = !1, c = !1, C = !1, d = !1, T = null, k = null, x = !1, V = !1, h = (this.models = i,
        this.collections = o,
        {
            main: null,
            sub: null
        }), p = this;
        this.setIsImportant = function(e) {
            d = e
        }
        ,
        this.getModel = function() {
            return GameControllers.BaseController.prototype.getModel.apply(this, arguments)
        }
        ,
        this.getCollection = function(e) {
            return GameControllers.BaseController.prototype.getCollection.apply(this, arguments)
        }
        ,
        this.getModels = function() {
            return GameControllers.BaseController.prototype.getModels.apply(this, arguments)
        }
        ,
        this.runInNewStyleWindowSystem = function() {
            V = !0
        }
        ,
        this.getCollections = function() {
            return GameControllers.BaseController.prototype.getCollections.apply(this, arguments)
        }
        ,
        this.getIsImportant = function() {
            return d
        }
        ,
        this.setHandler = function(e) {
            z = e
        }
        ,
        this.getHandler = function() {
            return z
        }
        ,
        this.getContext = function() {
            return h
        }
        ,
        this.setContext = function(e) {
            h = e
        }
        ,
        this.getOptions = function() {
            return W
        }
        ,
        this.isClosable = function() {
            return !1 !== W.closable
        }
        ,
        this.isMinimizable = function() {
            return !0 === W.minimizable
        }
        ,
        this.isModal = function() {
            return !1
        }
        ,
        this.createWindow = function(e, i, o) {
            W = i = i || {},
            (g = document.createElement("div")).id = b,
            g.className = "gpwindow_content",
            (y = document.createElement("div")).className = "gpwindow_frame" + (W.css_class ? " " + W.css_class : "");
            var r = document.createElement("div")
              , a = document.createElement("div")
              , l = document.createElement("div")
              , u = document.createElement("div")
              , c = document.createElement("div")
              , d = document.createElement("div")
              , h = document.createElement("div")
              , p = document.createElement("div");
            if (r.className = "gpwindow_left",
            a.className = "gpwindow_right",
            u.className = "gpwindow_left corner",
            c.className = "gpwindow_right corner",
            l.className = "gpwindow_bottom",
            h.className = "gpwindow_left corner",
            p.className = "gpwindow_right corner",
            d.className = "gpwindow_top",
            l.appendChild(u),
            l.appendChild(c),
            d.appendChild(h),
            d.appendChild(p),
            y.appendChild(r),
            y.appendChild(a),
            y.appendChild(l),
            y.appendChild(d),
            y.appendChild(g),
            (m = document.createElement("div")).id = "window_ajax_loader",
            m.style.visibility = "hidden",
            g.appendChild(m),
            L = $(y),
            (v = $(g)).wnd = this,
            w = new GPAjax(Layout || null,!1),
            z) {
                if (!z.onInit.apply(z, arguments))
                    return w = null,
                    !1;
                u = z.getDefaultWindowOptions(i),
                c = 1;
                if (void 0 !== Game.ui_scale)
                    c = Game.ui_scale.normalize.factor;
                if ($.extend(u, i, {
                    position: {
                        scaling: c
                    }
                }),
                i = W = u,
                W.minimizable)
                    C = !0;
                m.style.top = u.height / 2 - 58 + "px",
                m.style.left = u.width / 2 - 29 + "px",
                m.style.position = "relative"
            }
            if (e && 0 < e.length)
                i.title = e;
            if (i.fullwindow)
                g.className += " fullwindow";
            if (i.menuScroll)
                H = i.menuScroll;
            i.closeOnEscape = !1,
            L.dialog(i),
            this.getWindowVeryMainNode().addClass("js-window-main-container");
            h = "boolean" == typeof i.closable && !i.closable;
            if (i.minimizable && !h)
                p = $("<a>").attr({
                    href: "#",
                    class: "ui-dialog-titlebar-minimize ui-corner-all"
                }).on("click", function() {
                    q.minimize.apply(q, arguments)
                }),
                L.prev().append(p);
            if (h)
                L.prev().find(".ui-dialog-titlebar-close").remove();
            if (i.help)
                r = $("<a>").attr({
                    href: "#",
                    class: "ui-dialog-titlebar-help ui-corner-all"
                }).on("click", this.showHelp),
                L.prev().append(r);
            if (window.isiOs())
                a = $('<div class="ipad_drag_element">'),
                L.prev().append(a);
            if (i.yOverflowHidden)
                v.css({
                    "overflow-y": "hidden"
                });
            if (L.on("dialogbeforeclose", function() {
                var e = z.wnd.getID()
                  , i = z.onClose();
                if (i)
                    CM.unregisterGroup(e),
                    $.Observer().unsubscribe("window_" + e);
                return i
            }),
            L.on("dialogclose", function(e, i) {
                if (f.Unregister(v.wnd),
                L.dialog("destroy"),
                N)
                    N.find("div.menu_wrapper").find("a").off();
                if (L.parent())
                    L.remove();
                w = null,
                f.onClose(z),
                z = null
            }),
            L.on("dialogfocus", function(e, i) {
                GPWindowMgr.focusWindow(z)
            }),
            window.isiOs() || window.isSmallScreen()) {
                if (i.autoresize)
                    x = !0;
                this.centerWindowVerticaly()
            }
            return !0
        }
        ,
        this.createContentInNewWindow = function(e, i, o, r, a) {
            if (W = i = i || {},
            (v = L = r).wnd = this,
            w = new GPAjax(Layout || null,!1),
            z) {
                if (!z.onInit.apply(z, [e, i, o, a, {}]))
                    return w = null,
                    !1;
                r = z.getDefaultWindowOptions(i);
                if ($.extend(r, i),
                i = W = r,
                W.minimizable)
                    C = !0
            }
            if (e && 0 < e.length)
                i.title = e;
            return !(i.closeOnEscape = !1)
        }
        ,
        this.getWindowVeryMainNode = function() {
            return L.parent()
        }
        ,
        this.showHelp = function() {
            return z.showHelp.apply(z, arguments)
        }
        ,
        this.destroy = function() {
            L.dialog("destroy")
        }
        ,
        this.setPosition = function(e) {
            L.dialog("option", "position", e)
        }
        ,
        this.setSize = function(e, i) {
            L.dialog("option", "width", e),
            L.dialog("option", "height", i)
        }
        ,
        this.autoResize = function(e) {
            var i = []
              , o = e.split(/<script.*?>[\s\S]*?<\/.*?script>/gi).join("")
              , r = v.parent().parent().clone().appendTo("body").css({
                width: v.width(),
                zIndex: 0,
                left: -5e3,
                position: "absolute"
            })
              , a = r.find(".gpwindow_content");
            if (a.html(o).children().each(function() {
                var e = $(this);
                i.push(e.position().top + e.outerHeight(!0))
            }),
            o = Math.max(i.max(i), a.height()) + parseInt(a.css("top"), 10) + parseInt(a.css("bottom") || 0, 10),
            this.setHeight(Math.max(o, W.minHeight || 0)),
            r.remove(),
            r = void 0,
            x)
                this.centerWindowVerticaly(),
                x = !1;
            return e
        }
        ,
        this.centerWindowVerticaly = function() {
            var e = L.parent()
              , i = $(window).innerHeight()
              , o = e.outerHeight(!0)
              , r = $(".btn_toggle_town_groups_menu").outerHeight()
              , i = r + Math.max((i - r - o) / 2, 0);
            e.css("top", i + "px")
        }
        ,
        this.setHeight = function(e) {
            L.dialog("option", "height", e)
        }
        ,
        this.setWidth = function(e) {
            L.dialog("option", "width", e)
        }
        ,
        this.getHeight = function() {
            return L.dialog("option", "height")
        }
        ,
        this.getWidth = function() {
            return L.dialog("option", "width")
        }
        ,
        this.setMinSize = function(e, i) {
            L.dialog("option", "minWidth", e),
            L.dialog("option", "minHeight", i)
        }
        ,
        this.setMinHeight = function(e) {
            L.dialog("option", "minHeight", e)
        }
        ,
        this.setMinWidth = function(e) {
            L.dialog("option", "minWidth", e)
        }
        ,
        this.getMinHeight = function() {
            return L.dialog("option", "minHeight")
        }
        ,
        this.getMinWidth = function() {
            return L.dialog("option", "minWidth")
        }
        ,
        this.setMaxSize = function(e, i) {
            L.dialog("option", "maxWidth", e),
            L.dialog("option", "maxHeight", i)
        }
        ,
        this.setMaxHeight = function(e) {
            L.dialog("option", "maxHeight", e)
        }
        ,
        this.setMaxWidth = function(e) {
            L.dialog("option", "maxWidth", e)
        }
        ,
        this.getMaxHeight = function() {
            return L.dialog("option", "maxHeight")
        }
        ,
        this.getMaxWidth = function() {
            return L.dialog("option", "maxWidth")
        }
        ,
        this.allowResize = function(e) {
            L.dialog("option", "resizable", e)
        }
        ,
        this.getZIndex = function() {
            return parseInt(L.parent().css("zIndex"), 10)
        }
        ,
        this.setZIndex = function(e) {
            L.parent().css("zIndex", e)
        }
        ,
        this.toTop = function() {
            q.maximize.apply(q, arguments),
            L.dialog("moveToTop")
        }
        ,
        this.getPosition = function() {
            return {
                position: L.dialog("option", "position"),
                width: L.dialog("option", "width"),
                height: L.dialog("option", "height")
            }
        }
        ,
        this.setDialogClass = function(e) {
            if (V)
                ;
            else
                L.dialog("option", "dialogClass", e)
        }
        ,
        this.setTitle = function(e) {
            if (V)
                ;
            else
                W.title = e,
                L.dialog("option", "title", e)
        }
        ,
        this.setContent = function(e) {
            if (v.find("iframe").removeAttr("onload").remove(),
            z)
                if (W.autoresize)
                    e = this.autoResize(z.onSetContent(e));
                else
                    e = z.onSetContent(e);
            v.html(e),
            $.Observer(GameEvents.window.reload).publish()
        }
        ,
        this.setContent2 = function(e) {
            v.html(e),
            $.Observer(GameEvents.window.reload).publish()
        }
        ,
        this.setContent3 = function(e, i) {
            v.find(e).html(i),
            $.Observer(GameEvents.window.reload).publish()
        }
        ,
        this.appendContent = function(e) {
            v.append(e)
        }
        ,
        this.initMenu = function(e, i, o) {
            if (V)
                ;
            else {
                var r, a, l = arguments, c = (F = e || F) ? JSON.parse(F) : {}, e = (N = L.dialog("widget").find("div.ui-widget-header")).find("span.ui-dialog-title").outerWidth(!0), u = document.createElement("ul"), d = document.createElement("div"), h = [], p = [], f = N.find("div.menu_wrapper");
                if (U && f.length)
                    U = !1,
                    N.find("div.menu_wrapper, a.prev, a.next").remove(),
                    f = [];
                else if (f.length)
                    return !1;
                f = !1 !== W.closable;
                d.className = "menu_wrapper" + (f && W.minimizable ? " minimize" : "") + (f ? " closable" : "") + (W.help ? " help" : ""),
                u.className = "menu_inner";
                var g, m, w = function(e) {
                    m = e.firstChild,
                    e.removeChild(m),
                    m.className = m.className.replace(" active", ""),
                    e.appendChild(m)
                }, v = function() {
                    var e, i, o, r, a = this.id, l = this, u = c[a].onclick;
                    if (c[a].disabled)
                        ;
                    else if (c[a].id)
                        if (u)
                            if (u = typeof u === Object ? u : u.replace(/"/g, "").split(/,|\(|\)/g),
                            r = function() {
                                z.wnd[u.shift()].apply(this, u),
                                h.map(w),
                                l.className += " active"
                            }
                            ,
                            z.onBeforeTabSwitch && !z.onBeforeTabSwitch(r))
                                ;
                            else
                                r();
                        else
                            h.map(w),
                            this.className += " active";
                    else if (e = c[a].action,
                    i = c[a].controller,
                    o = c[a].type ? {
                        type: c[a].type
                    } : c[a].obj,
                    r = function() {
                        z.wnd.requestContentGet(i, e, o),
                        h.map(w),
                        l.className += " active"
                    }
                    ,
                    z.onBeforeTabSwitch && !z.onBeforeTabSwitch(r))
                        ;
                    else
                        r()
                };
                for (g in c)
                    if (c.hasOwnProperty(g)) {
                        if ((r = document.createElement("a")).setAttribute("data-menu_name", c[g].name),
                        r.innerHTML = '<span class="left"><span class="right"><span class="middle">' + c[g].name + "</span></span></span>",
                        r.className = "submenu_link" + (c[g].className ? " " + c[g].className : ""),
                        r.href = "#",
                        r.id = g,
                        c[g].is_active || g === i + "-" + o)
                            r.className += " active";
                        if (c[g].disabled)
                            r.className += " disabled";
                        $(r).on("click", v),
                        (a = document.createElement("li")).appendChild(r),
                        u.insertBefore(a, u.firstChild),
                        h.push(a)
                    }
                d.appendChild(u),
                N.append(d);
                for (var y, f = $(d).width(), b = Math.floor(f / h.length), C = 0, T = h.length; T--; )
                    y = $(h[T]).outerWidth(!0),
                    C += (p[T] = [$(h[T]).outerWidth(!0), b < y])[0];
                C += 2;
                var k, x, S, A, E, M, I = p.map(function(e) {
                    return e[0]
                }, this);
                if (f && C < f)
                    $(d).css({
                        width: C,
                        float: "right"
                    }),
                    this.adjustTitleWidth(N);
                else if (N[0].removeChild(d),
                !H) {
                    for (T = h.length; T--; ) {
                        var P = p.length;
                        for (k = p[T][1] ? Math.floor(b) : p[T][0],
                        x = p.length; P--; )
                            if (!1 === p[P][1] && P !== T)
                                if (S = (b - I[P]) / x,
                                I[P] -= S,
                                k + S > p[T][0])
                                    x--,
                                    p[T][1] = !1;
                                else
                                    k += S;
                        if (k < p[T][0]) {
                            var O = $(h[T])
                              , R = O.find("a");
                            O.find(".middle").css({
                                "max-width": k - 14 + "px"
                            }).tooltip(R.data("menu_name"))
                        }
                    }
                    N.append(d)
                } else {
                    var G, D, B = 0;
                    if (E = $('<a href="#" class="prev"></a>'),
                    A = $('<a href="#" class="next"></a>'),
                    D = document.createElement("div"),
                    G = document.createElement("div"),
                    D.className = "fade_left",
                    G.className = "fade_right",
                    d.className = d.className += " menu_wrapper_scroll",
                    d.appendChild(D),
                    d.appendChild(G),
                    N.append(A).append(E),
                    N.append(d),
                    [".ui-dialog-titlebar-minimize", ".ui-dialog-titlebar-close", ".next", ".prev", ".fade_left", ".fade_right"].forEach(function(e) {
                        if ($(N).find(e).length)
                            B += $(N).find(e).outerWidth(!0)
                    }),
                    e + B > (D = N.width()) || !f) {
                        if (G = N.find("span.ui-dialog-title"),
                        (e = G.outerWidth(!0)) - (f = C + B) < 0)
                            G.css("width", D / 2).attr("title", G.text());
                        else
                            G.css("width", Math.max(D - f, D / 2)).attr("title", G.text());
                        q.initMenu.apply(q, l)
                    } else
                        M = $(d).width() - C,
                        u.style.width = C + 1 + "px",
                        u.style.right = M - 100 + "px",
                        E.on("click", function() {
                            var e = parseInt(u.style.right, 10);
                            if (M <= e)
                                u.style.right = e - 100 + "px";
                            return !1
                        }),
                        A.on("click", function() {
                            var e = parseInt(u.style.right, 10);
                            if (e <= 100)
                                u.style.right = e + 100 + "px";
                            return !1
                        })
                }
            }
        }
        ,
        this.clearMenu = function() {
            U = !0
        }
        ,
        this.clearMenuNow = function() {
            if (L && !V && this.getHandler()) {
                var e = L.dialog("widget").find("div.ui-widget-header");
                if (e.find("div.menu_wrapper").length)
                    e.find("div.menu_wrapper, a.prev, a.next").remove()
            }
        }
        ,
        this.sendMessage = function(e, i) {
            return z.onMessage.apply(z, arguments, i)
        }
        ,
        this.call = function() {
            var e = Array.prototype.slice.call(arguments);
            return z[e.shift()].apply(z, e)
        }
        ,
        this.ajaxRequest = function(e, i, o, r, a) {
            var l = require("misc/humanmessage")
              , u = null
              , c = null;
            if ("object" == typeof r)
                u = r.success ? r.success : null,
                c = r.error ? r.error : null;
            else
                u = r;
            if (!o)
                o = {
                    town_id: Game.townId
                };
            else if (!o.town_id)
                o.town_id = Game.townId;
            if (r = {
                success: function(e, i, o, r) {
                    if (u && window.hasValidTownToken(i, r))
                        u(q, i, o)
                },
                error: function(e, i, o) {
                    if (!window.hasValidTownToken(i, o))
                        ;
                    else {
                        if (c)
                            c(q, i);
                        if (i.error && "backend_requested_verification" !== i.error)
                            if (z && "function" == typeof z.onRcvDataError)
                                z.onRcvDataError(i.error);
                            else
                                l.error(i.error);
                        if (!0 === i.gpWindowclose)
                            q.close()
                    }
                }
            },
            "get" === a)
                return w.ajaxGet(e, i, o, !0, r);
            else if ("post" === a)
                return w.ajaxPost(e, i, o, !0, r)
        }
        ,
        this.ajaxRequestGet = function(e, i, o, r) {
            this.ajaxRequest(e, i, o, r, "get")
        }
        ,
        this.ajaxRequestPost = function(e, i, o, r) {
            this.ajaxRequest(e, i, o, r, "post")
        }
        ,
        this.showAjaxLoader = function() {
            m.style.visibility = "visible"
        }
        ,
        this.hideAjaxLoader = function() {
            m.style.visibility = "hidden"
        }
        ,
        this.reloadContent = function() {
            if (!z)
                return !1;
            if (!a)
                throw "No controller or action!";
            if (a[2])
                a[2].town_id = Game.townId;
            this.requestContent.apply(this, a)
        }
        ,
        this.requestContent = function(u, c, d, h, p, e) {
            var i, r = require("misc/humanmessage"), f = this;
            if (a = arguments,
            !z)
                ;
            else {
                if ("function" == typeof z.onBeforeReloadContent)
                    z.onBeforeReloadContent();
                if (!d)
                    d = {
                        town_id: Game.townId
                    };
                else if (!d.town_id)
                    d.town_id = Game.townId;
                if (!L.find("div.grey_layer").length)
                    L.append($('<div class="grey_layer"></div>'));
                if (i = {
                    success: function(e, i, o, r) {
                        if (L.find("div.grey_layer").remove(),
                        !window.hasValidTownToken(i, r)) {
                            if (z && "function" == typeof z.onReloadContentError)
                                z.onReloadContentError()
                        } else {
                            if (i.menu || p)
                                if (!Game.dev)
                                    try {
                                        q.clearMenuNow(),
                                        q.initMenu.apply(q, [i.menu || F, u, c])
                                    } catch (e) {}
                                else
                                    q.clearMenuNow(),
                                    q.initMenu.apply(q, [i.menu || F, u, c]);
                            else
                                q.adjustTitleWidth(L.dialog("widget").find("div.ui-widget-header"));
                            if (window.isiOs() && i.html)
                                i.html = i.html.replace(/href=(['"])#['"]/g, "href=$1javascript:void$1");
                            r = f.getID();
                            if (CM.unregisterGroup(r),
                            $.Observer().unsubscribe("window_" + r),
                            T = u,
                            k = c,
                            z) {
                                if ("default" === c) {
                                    var a, l = JSON.parse(i.menu || F);
                                    for (a in l)
                                        if (l.hasOwnProperty(a) && l[a].is_active)
                                            k = l[a].action
                                }
                                if (f.setContext({
                                    main: f.getID(),
                                    sub: T + "_" + k
                                }),
                                z.onRcvData(i, T, k, d),
                                d.onAfterWindowLoad && "function" == typeof d.onAfterWindowLoad)
                                    d.onAfterWindowLoad();
                                if (h)
                                    if ("object" == typeof h && h.success)
                                        h.success(q, i, o);
                                    else
                                        h(q, i, o)
                            } else if ("object" == typeof h && h.error)
                                h.error(q, i, o)
                        }
                    },
                    error: function(e, i, o) {
                        if (L.find("div.grey_layer").remove(),
                        !window.hasValidTownToken(i, o)) {
                            if (i && !0 === i.gpWindowclose)
                                q.close();
                            else if (z && "function" == typeof z.onReloadContentError)
                                z.onReloadContentError()
                        } else {
                            if (i.error)
                                if (z && "function" == typeof z.onRcvDataError)
                                    z.onRcvDataError(i.error);
                                else
                                    r.error(i.error);
                            if (i && !0 === i.gpWindowclose)
                                q.close()
                        }
                    }
                },
                z.last_ajax_req && 4 !== z.last_ajax_req.readyState && "function" == typeof z.last_ajax_req.abort)
                    z.last_ajax_req.abort();
                if ("get" === e)
                    z.last_ajax_req = w.ajaxGet(u, c, d, !0, i, {
                        close_wnd: !0,
                        wnd: this
                    });
                else if ("post" === e)
                    z.last_ajax_req = w.ajaxPost(u, c, d, !0, i);
                else {
                    if (void 0 !== e)
                        window.debug("check & remove old 6th param (used for ajax-call-locking) of ajax call!!!");
                    z.last_ajax_req = w.ajaxPost(u, c, d, !0, i)
                }
            }
        }
        ,
        this.requestContentPost = function(e, i, o, r, a) {
            return this.requestContent(e, i, o, r, a, "post")
        }
        ,
        this.requestContentGet = function(e, i, o, r, a) {
            return this.requestContent(e, i, o, r, a, "get")
        }
        ,
        this.getID = function() {
            return this.getIdentifier()
        }
        ,
        this.getIdentifier = function() {
            return r
        }
        ,
        this.setFocus = function(e) {
            var i = e
              , o = l
              , r = this.getHandler();
            if (l = e,
            o && !i && "function" == typeof r.onBlur)
                r.onBlur();
            if (!o && i && "function" == typeof r.onFocus)
                r.onFocus()
        }
        ,
        this.isFocused = function() {
            return l
        }
        ,
        this.getFocus = function() {
            return l
        }
        ,
        this.getAction = function() {
            return k
        }
        ,
        this.getController = function() {
            return T
        }
        ,
        this.getName = function() {
            return b
        }
        ,
        this.getTitle = function() {
            return W.title
        }
        ,
        this.getType = function() {
            return this.type
        }
        ,
        this.getElement = function() {
            return g
        }
        ,
        this.getJQElement = function() {
            return L
        }
        ,
        this.getJQCloseButton = function() {
            return L.parent().find(".ui-dialog-titlebar-close.ui-corner-all")
        }
        ,
        this.isMinimized = function() {
            return c
        }
        ,
        this.isMinimizable = function() {
            return C
        }
        ,
        this.getMinimized = function() {
            return !c ? !1 : $(".box[cid=" + e + "]")
        }
        ,
        this.minimizeWindow = function() {
            if (this.isMinimizable()) {
                var e = u.html = $('<div id="' + v[0].id + '_min" class="gpwindow_minimize left"><div class="right"><div class="center"></div></div></div>')
                  , i = u.close = $("<a>").attr({
                    href: "#",
                    class: "ui-dialog-titlebar-close ui-corner-all"
                }).on("click", q.close)
                  , o = u.max = $("<a>").attr({
                    href: "#",
                    class: "ui-dialog-titlebar-maximize ui-corner-all"
                }).on("click", q.maximizeWindow)
                  , r = u.title = $("<span>").attr({
                    href: "#",
                    class: "ui-dialog-title"
                }).css({
                    cursor: "pointer"
                }).html(W.title).on("click", q.maximizeWindow)
                  , a = u.area = $("#gpwindow_area").show();
                e.find("div.center").append(r).append(i).append(o),
                a.append(e).parent().parent().show(),
                e.fadeIn(),
                L.parent().hide(),
                this.getWindowVeryMainNode().addClass("minimized"),
                c = !0,
                WM._addToMinimizedWindows(this)
            }
        }
        ,
        this.maximizeWindow = function() {
            if (L.parent().show(),
            !u.html)
                ;
            else {
                var e = p.getHandler().wnd;
                if (WM._removeFromMinimizedWindows(e.getID()),
                u.html.remove(),
                u.close.off(),
                u.max.off(),
                u.title.off(),
                u.area.children().length < 2 && f.numOpen() < 2)
                    u.area.parent().parent().hide();
                u = {},
                q.toTop(),
                this.getWindowVeryMainNode().removeClass("minimized"),
                c = !1,
                $.Observer(GameEvents.window.maximize).publish({
                    window_type: "old"
                })
            }
        }
        ,
        this.close = function() {
            try {
                L.dialog("close")
            } catch (e) {
                window.debug(e)
            }
        }
        ,
        this.adjustTitleWidth = function(e) {
            var i = e.find("span.ui-dialog-title")
              , o = 1;
            i.siblings().each(function() {
                o += $(this).width()
            }),
            i.css("max-width", e.width() - o - (i.outerWidth(!0) - i.width()))
        }
    }
    e.prototype.minimize = function() {
        this.minimizeWindow()
    }
    ,
    e.prototype.maximize = function() {
        this.maximizeWindow()
    }
    ,
    window.GPWindow = e
}(),
define("game", function(e) {
    return window.Game
}),
define("game/data", function() {
    return window.GameData.units = [],
    window.GameData.powers = [],
    window.GameData.map_size = 0,
    window.GameData.add = function(e) {
        "use strict";
        jQuery.extend(this, e)
    }
    ,
    window.GameData
}),
define("game/windows/ids", function() {
    return {
        INTERSTITIAL: "interstitial",
        QUEST: "quest",
        QUEST_PROGRESS: "quest_progress",
        QUEST_WELCOME: "quest_welcome",
        BARRACKS: "barracks",
        HIDE: "hide",
        DOCKS: "docks",
        INVENTORY: "inventory",
        SENATE: "senate",
        ISLAND_QUESTS: "island_quests",
        DIALOG: "dialog",
        HEROES: "heroes",
        HEROES_TRAIN: "heroes_train",
        HEROES_WELCOME: "heroes_welcome",
        PLACE: "place",
        LAYOUT: "layout",
        GREPOLYMPIA: "grepolympia",
        GREPOLYMPIA_SHOP: "grepolympiashop",
        GREPOLYMPIA_WELCOME_INTERSTITIAL: "grepolympia_welcome",
        GREPOLYMPIA_END_INTERSTITIAL: "grepolympia_end_interstitial",
        HALLOWEEN: "halloween",
        HALLOWEEN_COLLECT: "halloween_collect",
        ADVENT: "advent",
        ADVENT_WELCOME_INTERSTITIAL: "advent_welcome",
        ADVENT_END_INTERSTITIAL: "advent_end_interstitial",
        NWOT_WELCOME_INTERSTITIAL: "nwot_welcome",
        NWOT_END_INTERSTITIAL: "nwot_end_interstitial",
        EASTER: "easter",
        EASTER_WELCOME: "easter_welcome",
        EASTER_COLLECT: "easter_collect",
        EASTER_END_INTERSTITIAL: "easter_end_interstitial",
        ISLAND: "island",
        HERCULES2014: "hercules2014",
        HERCULES2014_END_INTERSTITIAL: "hercules2014_end_interstitial",
        HERCULES2014_COLLECT: "hercules2014_collect",
        CRM_INTERSTITIAL: "crm_interstitial",
        CRM_SCREEN: "crm_screen",
        SPECIAL_OFFER: "special_offer",
        PREMIUM: "premium",
        PREMIUM_PACKAGE_TAB: "premium_package_tab",
        STORAGE: "storage",
        CASH_SHOP: "cash_shop",
        DAILY_LOGIN: "daily_login",
        WORLD_WONDERS_WELCOME: "world_wonders_welcome",
        PHOENICIAN_SALESMAN_WELCOME: "phoenician_salesman_welcome",
        MILITIA_WELCOME: "militia_welcome",
        GIFTS_WELCOME: "gifts_welcome",
        MOBILE_TUTORIAL: "mobile_tutorial",
        HALLOWEEN_SALE_INTERSTITIAL: "halloween_sale_interstitial",
        HALLOWEEN_END_INTERSTITIAL: "halloween_end_interstitial",
        WORLD_END_WELCOME: "world_end_welcome",
        ACADEMY: "academy",
        GOLD_TRADE_INTERSTITIAL: "gold_trade_interstitial",
        NOTES: "notes",
        VALENTINESDAY_COLLECT: "valentinesday_collect",
        VALENTINESDAY_WELCOME: "valentine_welcome",
        UPDATE_NOTIFICATION: "update_notification",
        MARKET: "market",
        FARM_TOWN: "farm_town",
        ATTACK_SPOT: "attack_spot",
        RUNTIME_INFO: "runtime_info",
        ATTACK_SPOT_VICTORY: "attack_spot_victory",
        NO_GOLD_DIALOG: "no_gold_dialog",
        ASSASSINS_WELCOME: "assassins_welcome",
        ASSASSINS_END_INTERSTITIAL: "assassins_end_interstitial",
        ASSASSINS: "turnovertokens",
        SPAWN: "spawn",
        SPAWN_WELCOME: "spawn_welcome",
        ASSASSINS_SHOP: "turnovertokensshop",
        ASSASSINS_SHOP_INTERSTITIAL: "assassins_shop_interstitial",
        ASSASSINS_COMMUNITY_GOAL_REACHED: "assassins_community_goal_reached",
        COMMUNITY_GOAL_REACHED: "community_goal_reached",
        QUESTLOG: "questlog",
        STRATEGIC_MAP_FILTER: "strategic_map_filter",
        COLOR_PICKER: "color_picker",
        CUSTOM_COLORS: "custom_colors",
        GREPOLIS_SCORE: "grepolis_score",
        WORLD_WONDER_DONATIONS: "world_wonder_donations",
        FLIPPING_IMAGES: "flippingimages",
        FLIPPING_IMAGES_END_INTERSTITIAL: "flipping_images_end",
        COLONIZATION: "colonization",
        MISSIONS: "missions",
        MISSIONS_WELCOME: "missions_welcome",
        MISSIONS_END_INTERSTITIAL: "missions_end_interstitial",
        MISSIONS_PLOT_INTERSTITIAL: "missions_plot_interstitial",
        GOD_SELECTION: "god_selection",
        DOMINATION: "domination",
        NOTIFICATION_POPUP: "notification_popup",
        COLLECTED_ITEMS: "collected_items",
        TOWN_OVERLAY: "town_overlay",
        GRID_EVENT: "gridevent",
        DOMINATION_ERA_STARTED: "domination_era_started",
        GRID_EVENT_WELCOME_INTERSTITIAL: "grid_event_welcome_interstitial",
        GRID_EVENT_END_INTERSTITIAL: "grid_event_end_interstitial",
        BLACK_FRIDAY_SALE: "blackfridaysale",
        OLYMPUS_OVERVIEW: "olympus_overview",
        OLYMPUS_TEMPLE_INFO: "olympus_temple_info",
        OLYMPUS_RANKING: "olympus_ranking",
        ROTA: "rota",
        ROTA_EVENT_WELCOME_INTERSTITIAL: "rota_event_welcome_interstitial",
        ROTA_EVENT_END_INTERSTITIAL: "rota_event_end_interstitial",
        WORLD_WONDERS_INFO: "world_wonders_info",
        TASKS_EVENT: "tasksevent",
        TASKS_EVENT_WELCOME_INTERSTITIAL: "tasks_event_welcome_interstitial",
        TASKS_EVENT_END_INTERSTITIAL: "tasks_event_end_interstitial",
        AFFRONT: "affront",
        ACTIVITIES: "activities",
        CITY_LIST: "city_list",
        RECRUITING_LIST: "recruiting_list",
        CONSTRUCTION_LIST: "construction_list",
        FAKE_EVENT: "fakeevent",
        EVENT_PASS: "eventpass",
        QUIZ_EVENT: "quizevent",
        QUIZ_EVENT_WELCOME_INTERSTITIAL: "quiz_event_welcome_interstitial",
        QUIZ_EVENT_END_INTERSTITIAL: "quiz_event_end_interstitial",
        FARM_TOWN_TAKEOVER: "farm_town_takeover"
    }
}),
define("game/windows/tabs", function() {
    return {
        INFO: "info",
        PROGRESS: "progress",
        WELCOME: "welcome",
        TRAINING: "training",
        RANKING: "ranking",
        INDEX: "index",
        OVERVIEW: "overview",
        ASSIGN: "assign",
        TRANSFER: "transfer",
        COUNCIL: "council",
        COLLECTION: "collection",
        SUPPORT_OVERVIEW_SUPPORT_FOR_ACTIVE_TOWN: "support_overview_support_for_active_town",
        SUPPORT_OVERVIEW_ACTIVE_TOWN_SUPPORTS_TOWNS: "support_overview_active_town_supports_towns",
        SUPPORT_OVERVIEW_ACTIVE_PLAYER_SUPPORTS_TOWNS: "support_overview_active_player_supports_towns",
        SUPPORT_OVERVIEW_ACTIVE_PLAYER_SUPPORTS_TOWN: "support_overview_active_player_supports_town",
        RESEARCH: "research",
        RESET: "reset",
        HEROES: "heroes",
        ALCHEMY: "alchemy",
        RECIPES: "recipes",
        HEN: "hen",
        NOTE: "note",
        SHOP: "shop",
        OWN_OFFERS: "own_offers",
        ALL_OFFERS: "all_offers",
        CREATE: "create",
        SANCTUARY: "sanctuary",
        HIDDEN: "hidden",
        STATUS: "status",
        MATCHES: "matches",
        ARTIFACTS: "artifacts",
        ARTIFACTS_WITH_LEVELS: "artifacts_with_levels",
        PREMIUM_EXCHANGE: "premium_exchange",
        SMALL_TEMPLES: "small_temples",
        LARGE_TEMPLES: "large_temples",
        OLYMPUS: "olympus",
        TEMPLE_DEFENSE: "temple_defense",
        RUNNING_POWERS: "running_powers",
        RUNNING_TEMPLE_POWERS: "running_temple_powers",
        MOVEMENTS: "movements",
        TRADES: "trades",
        TEMPLE_COMMANDS: "temple_commands",
        EVENT_PASS: "event_pass"
    }
}),
define("game/game/infos", function() {
    return {
        MIN_SUPPORTED_WINDOW_WIDTH: 1024,
        MIN_SUPPORTED_WINDOW_HEIGHT: 768
    }
}),
define("game/windows/priorities", function(e) {
    "use strict";
    var e = e("game/windows/ids")
      , i = window.GPWindowMgr
      , o = {
        neutral: 10,
        highest: 999
    };
    return o[i.TYPE_BOT_CHECK] = 140,
    o[i.TYPE_CAPTCHA] = 140,
    o[i.TYPE_CONQUEST] = 130,
    o[e.QUEST_WELCOME] = 52,
    o[e.WORLD_END_WELCOME] = 51,
    o[e.MOBILE_TUTORIAL] = 50,
    o[e.HEROES_WELCOME] = 49,
    o[e.INTERSTITIAL] = 40,
    o[e.GIFTS_WELCOME] = 34,
    o[e.MILITIA_WELCOME] = 33,
    o[e.PHOENICIAN_SALESMAN_WELCOME] = 32,
    o[e.WORLD_WONDERS_WELCOME] = 31,
    o[e.DAILY_LOGIN] = 30,
    o[e.HALLOWEEN] = 44,
    o[e.HALLOWEEN_SALE_INTERSTITIAL] = 43,
    o[e.HALLOWEEN_END_INTERSTITIAL] = 42,
    o[e.HALLOWEEN_COLLECT] = 41,
    o[e.GREPOLYMPIA_WELCOME_INTERSTITIAL] = 45,
    o[e.GREPOLYMPIA_END_INTERSTITIAL] = 43,
    o[e.GREPOLYMPIA_SHOP] = 42,
    o[e.GREPOLYMPIA] = 41,
    o[e.EASTER_WELCOME] = 47,
    o[e.EASTER] = 46,
    o[e.EASTER_END_INTERSTITIAL] = 42,
    o[e.EASTER_COLLECT] = 41,
    o[e.ASSASSINS_WELCOME] = 47,
    o[e.ASSASSINS_END_INTERSTITIAL] = 44,
    o[e.ASSASSINS_SHOP_INTERSTITIAL] = 43,
    o[e.ASSASSINS] = 42,
    o[e.ASSASSINS_SHOP] = 41,
    o[e.HERCULES2014] = 44,
    o[e.HERCULES2014_END_INTERSTITIAL] = 42,
    o[e.HERCULES2014_COLLECT] = 41,
    o[e.NWOT_WELCOME_INTERSTITIAL] = 44,
    o[e.NWOT_END_INTERSTITIAL] = 42,
    o[e.ADVENT_WELCOME_INTERSTITIAL] = 44,
    o[e.ADVENT_END_INTERSTITIAL] = 42,
    o[e.ADVENT] = 41,
    o[e.COMMUNITY_GOAL_REACHED] = 41,
    o[e.ASSASSINS_COMMUNITY_GOAL_REACHED] = 41,
    o[e.MISSIONS_WELCOME] = 44,
    o[e.MISSIONS_PLOT_INTERSTITIAL] = 43,
    o[e.MISSIONS_END_INTERSTITIAL] = 42,
    {
        getPriority: function(e) {
            return o[e]
        }
    }
}),
define("data/features", function(e) {
    "use strict";
    var i = e("game")
      , o = e("enums/end_game_types");
    return {
        isBuildCostReductionEnabled: function() {
            return i.features.build_cost_reduction_enabled
        },
        areHeroesEnabled: function() {
            return i.features.heroes_enabled
        },
        isInstantBuyEnabled: function() {
            return "disabled" !== i.features.instant_buy
        },
        isPremiumExchangeEnabled: function() {
            return i.features.premium_exchange_active
        },
        areExtendedWorldFeaturesEnabled: function() {
            return i.features.extended_world_features
        },
        isOldCommandVersion: function() {
            return "old" === i.features.command_version
        },
        mapChunkBackboneNotifications: function() {
            return i.features.map_chunks_backbone
        },
        battlepointVillagesEnabled: function() {
            return i.features.battlepoint_villages
        },
        isWorldWondersDonationScreenEnabled: function() {
            return i.features.wonders_participation
        },
        isDominationActive: function() {
            return i.features.end_game_type === o.END_GAME_TYPE_DOMINATION
        },
        getEndGameType: function() {
            return i.features.end_game_type
        },
        isCasualWorld: function() {
            return i.features.casual_world
        },
        isOlympusEndgameActive: function() {
            return this.getEndGameType() === o.END_GAME_TYPE_OLYMPUS
        },
        isArtifactLevelsEnabled: function() {
            return i.features.artifact_levels
        },
        isNewWorldWonderEndgameEnabled: function() {
            return i.features.world_wonder_new_endgame
        },
        isWorldWondersEndgameActive: function() {
            return i.features.end_game_type === o.END_GAME_TYPE_WONDER
        },
        isLiveRevoltsEnabled: function() {
            return i.features.live_revolt
        },
        isTownCountRestrictedGoldMarketExchangeEnabled: function() {
            return i.features.town_count_restricted_gold_market_exchange_enabled
        },
        isWorldMasters: function() {
            return i.features.is_world_masters
        }
    }
}),
define("helpers/commands", function() {
    var i = !1;
    return {
        isCommandsBulkUpdateIncoming: function() {
            return i
        },
        setCommandsBulkUpdateIncoming: function(e) {
            i = e
        },
        isPlayersTown: function(e) {
            return -1 < this.getTownIds().indexOf(e)
        },
        getTownIds: function() {
            return MM.getModelByNameAndPlayerId("TownIdList", Game.player_id).getTownIds()
        },
        getTotalCountOfIncomingAttacks: function(i, o) {
            var r = 0
              , a = MM.getFirstTownAgnosticCollectionByName("MovementsUnits")
              , e = this.getTownIds();
            return us.each(e, function(e) {
                if (o && e === i)
                    r += o;
                else
                    r += a.getFragment(e).getIncomingAttacksCount(e)
            }
            .bind(this)),
            r
        },
        getNextIncomingAttackTimestamp: function() {
            function i(e, i) {
                return e.getArrivalAt() - i.getArrivalAt()
            }
            var e = this.getTownIds()
              , o = 0
              , r = MM.getFirstTownAgnosticCollectionByName("MovementsUnits");
            return e.forEach(function(e) {
                e = r.getFragment(e).getIncomingAttacks(e).sort(i).shift();
                if (void 0 !== e && (e.getArrivalAt() < o || 0 === o))
                    o = e.getArrivalAt()
            }
            .bind(this)),
            o
        },
        onAddMovementsUnitsInAllTownsChange: function(i, o) {
            var r = MM.getFirstTownAgnosticCollectionByName("MovementsUnits")
              , e = this.getTownIds();
            us.each(e, function(e) {
                r.getFragment(e).onAdd(i, o)
            }
            .bind(this))
        },
        onRemoveMovementsUnitsInAllTownsChange: function(i, o) {
            var r = MM.getFirstTownAgnosticCollectionByName("MovementsUnits")
              , e = this.getTownIds();
            us.each(e, function(e) {
                r.getFragment(e).onRemove(i, o)
            }
            .bind(this))
        },
        onAnyColonizationInAllTownsChange: function(i, o) {
            var r = MM.getFirstTownAgnosticCollectionByName("MovementsColonization")
              , e = this.getTownIds();
            us.each(e, function(e) {
                r.getFragment(e).onMovementsColonizationsChange(i, o)
            }
            .bind(this))
        },
        getOnGoingColonizationsCount: function() {
            var i = 0
              , o = MM.getFirstTownAgnosticCollectionByName("MovementsColonization")
              , e = this.getTownIds();
            return us.each(e, function(e) {
                i += o.getFragment(e).models.length
            }
            .bind(this)),
            i
        },
        getTownIdsForAllRevoltsOfGivenType: function(i) {
            var o = MM.getFirstTownAgnosticCollectionByName("MovementsRevoltDefender")
              , e = this.getTownIds()
              , r = [];
            return us.each(e, function(e) {
                if (o.getFragment(e).getRevolts(i).length)
                    r.push(e)
            }
            .bind(this)),
            r
        },
        getTownIdsForAllIncomingConquerors: function() {
            var e = this.getTownIds()
              , i = MM.getOnlyCollectionByName("Takeover")
              , o = [];
            return us.each(e, function(e) {
                if (null !== i.getIncomingTakeOverForSpecificTown(e))
                    o.push(e)
            }
            .bind(this)),
            o
        }
    }
}),
define("mobile/ios", function() {
    "use strict";
    return {
        setupLinkHandleriOs: function() {
            $(document.body).on("touchstart", "a:not(.fixediOsLink)", function(e) {
                var i = !1
                  , o = $(this)
                  , r = this;
                if (o.is('[class^="gp_"]'))
                    return r;
                else if ("#forum" === o.attr("href") || "#help" === o.attr("href"))
                    o.attr("href", o.attr("js-data")).addClass("fixediOsLink");
                else if (o.attr("onclick"))
                    i = o.attr("onclick"),
                    o.removeAttr("onclick").on("click", function(e) {
                        e.preventDefault(),
                        new Function(i).call(r)
                    }).addClass("fixediOsLink").attr("href", "#");
                else if (o.is('[href^="javas"]'))
                    if (i = /^(?:javascript\:)?(.*?)(?:void|$)/.exec(o.attr("href"))[1])
                        o.on("click", function(e) {
                            e.preventDefault(),
                            new Function(i).call(r)
                        }).addClass("fixediOsLink").attr("href", "#");
                    else
                        o.on("click", function(e) {
                            e.preventDefault()
                        }).addClass("fixediOsLink").attr("href", "#");
                else
                    o.on("click", function(e) {
                        e.preventDefault()
                    }).addClass("fixediOsLink")
            })
        }
    }
}),
define("mobile/messages", function(e) {
    "use strict";
    var i = e("misc/humanmessage")
      , a = e("enums/json_tracking")
      , e = {
        handleBackButton: function() {
            if (0 < WM.getNumberOfAllOpenWindows())
                WM.closeFrontWindow();
            else
                ConfirmationWindowFactory.openConfirmationLogout(function() {
                    gpAjax.ajaxPost("player", "logout", {}, !0, function() {})
                })
        },
        registerPush: function(e) {
            gpAjax.ajaxPost("push_notifications", "register_device", {
                id: DOMPurify.sanitize(e.id),
                token: DOMPurify.sanitize(e.token),
                service: DOMPurify.sanitize(e.service),
                user_agent: DOMPurify.sanitize(e.user_agent),
                device_brand_model: DOMPurify.sanitize(e.device_brand_model),
                build_profile: DOMPurify.sanitize(e.build_profile)
            }, !0, function(e) {
                if (e.success)
                    i.success("Push notifikácie registrované pre toto zariadenie.");
                if (e.error)
                    i.error("Push notifikácie nie sú zaregistrované.")
            })
        },
        handleSound: function(e) {
            var i = MM.getModelByNameAndPlayerId("PlayerSettings");
            if (i && i.get("muted"))
                ;
            else if (e)
                Game.Audio.mute();
            else
                Game.Audio.unmute()
        },
        updatePlayerGold: function(e) {
            window.top.postMessage({
                message: "available_gold",
                data: {
                    gold: e
                }
            }, "*")
        },
        openExternalLink: function(e) {
            window.top.postMessage({
                message: "open_link",
                data: {
                    url: e
                }
            }, "*")
        },
        trackShopOpenEvent: function(e) {
            e = {
                payment_session_id: "" === e ? null : DOMPurify.sanitize(e),
                screen_info: "gold_screen"
            };
            window.eventTracking.logJsonEvent(a.SHOP_OPEN, e)
        },
        trackShopCloseEvent: function() {
            window.eventTracking.logJsonEvent(a.SHOP_CLOSE, {})
        },
        trackShopErrorEvent: function(e, i, o) {
            var r = {
                payment_session_id: DOMPurify.sanitize(e),
                type: "error",
                error_code: DOMPurify.sanitize(i),
                message: DOMPurify.sanitize(o)
            };
            if ("" !== e && "" !== i && "" !== o)
                window.eventTracking.logJsonEvent(a.SHOP_ERROR, r)
        },
        addEventListeners: function() {
            window.addEventListener("message", function(e) {
                e = e.data;
                if ("object" != typeof e || !e.hasOwnProperty("message"))
                    ;
                else {
                    var i = e.message
                      , o = e.data;
                    switch (i) {
                    case "register_push":
                        this.registerPush(o);
                        break;
                    case "back_button":
                        this.handleBackButton();
                        break;
                    case "handle_sound":
                        this.handleSound(o.is_muted);
                        break;
                    case "open_shop":
                        this.trackShopOpenEvent(o.payment_session_id);
                        break;
                    case "close_shop":
                        this.trackShopCloseEvent();
                        break;
                    case "error_shop":
                        this.trackShopErrorEvent(o.payment_session_id, o.error_code, o.message)
                    }
                }
            }
            .bind(this), !1)
        }
    };
    return window.MobileMessages = e
}),
define("mobile/uiscale", function() {
    "use strict";
    var e = require("enums/enlarged_ui_sizes");
    return {
        init: function() {
            var e = Game.isHybridApp() ? Math.min(window.innerWidth / 1024, window.innerHeight / 665, 1) : 1;
            Game.ui_scale = {
                factor: e,
                normalize: {
                    factor: 1 / e
                }
            }
        },
        scaleUI: function() {
            if (this.init(),
            $("html").css({
                "transform-origin": "0 0",
                transform: "scaleX(" + Game.ui_scale.factor + ") scaleY(" + Game.ui_scale.factor + ")"
            }),
            $("body").css({
                "min-height": window.innerHeight * Game.ui_scale.normalize.factor + "px",
                "min-width": window.innerWidth * Game.ui_scale.normalize.factor + "px"
            }),
            !HelperGame.getEnlargedUIActivated())
                ;
            else {
                if (!Game.ui_scale.enlarged_ui_size)
                    Game.ui_scale.enlarged_ui_size = e.SMALL_SIZE;
                Game.ui_scale.enlarged_ui_size = 2.1 <= window.innerWidth / window.innerHeight ? e.MEDIUM_SIZE : e.SMALL_SIZE
            }
        },
        setMapMoveContainerDimension: function() {
            var e = document.body;
            $("#map_move_container").css({
                "min-height": e.clientHeight + "px",
                "min-width": e.clientWidth + "px"
            })
        },
        addEventListeners: function() {
            window.addEventListener("resize", function() {
                this.scaleUI(),
                this.setMapMoveContainerDimension()
            }
            .bind(this), !0)
        }
    }
}),
define("mobile/helper", function() {
    "use strict";
    return {
        getMobileShopProducts: function(e) {
            gpAjax.ajaxPost("mobile_shop_products", "getShopProductList", {
                platform: Game.isiOs() ? "apple" : "google"
            }, !1, e)
        },
        sendUpdatedProductDataToHybridApp(e) {
            window.top.postMessage({
                message: "shop_products_updated",
                data: {
                    products: e,
                    market_id: Game.market_id,
                    world_id: Game.world_id,
                    player_id: Game.player_id
                }
            }, "*")
        }
    }
});
var TempBarData = null, LocalStore = null, Award, Game = Game || {}, Layout = Layout || {}, GameLoader = GameLoader || null;
function GPAjax(b, r, e) {
    var C = require("managers/maintenance")
      , T = require("helpers/player_hints")
      , k = null
      , x = !1
      , a = e || {};
    function l(e, i, o, r) {
        switch (e.status) {
        case 400:
            o = "Táto požiadavka je nesprávna.";
            break;
        case 404:
            o = "Požadovaná stránka sa nenašla.";
            break;
        case 500:
            o = "Vyskytla sa interná chyba!";
            break;
        case 501:
            o = "Táto požiadavka je nesprávna.";
            break;
        case 502:
        case 503:
            o = "Server je momentálne nedostupný.";
            break;
        case 504:
            o = "Sieť neodpovedá z dôvodu prekročenia časového limitu."
        }
        if (HumanMessage.error("Chyba siete" + "<br/>" + e.status + " " + o),
        r && r.close_wnd && r.wnd)
            r.wnd.close()
    }
    function u(e, i, o) {
        if (e.responseText && "updating" === e.responseText)
            if (C)
                C.startMaintenance()
    }
    function c() {
        return !1 === window.request_stacks.current.pending
    }
    function o(e) {
        var i, o, r, a = Array.prototype.slice.call(arguments, 1);
        if ("function" == typeof e)
            e.apply(this, a);
        if (0 == --window.request_stacks.current.pending)
            if (window.request_stacks.current = window.request_stacks.waiting,
            window.request_stacks.waiting = void 0,
            window.request_stacks.current) {
                for (i = window.request_stacks.current.stack,
                r = i.length,
                o = 0; o < r; ++o)
                    h(i[o]);
                if (i = window.request_stacks.current.untraced)
                    for (r = i.length,
                    o = 0; o < r; ++o)
                        h(i[o])
            }
    }
    function d(e) {
        var i = e.callback;
        if ("object" == typeof i) {
            if (i.success)
                i.success = o.bind(this, i.success);
            if (i.error)
                i.error = o.bind(this, i.error)
        } else
            e.callback = o.bind(this, i)
    }
    function h(e) {
        p(e.controller, e.action, e.params, e.type, e.callback, e.show_loader, e.http_status_code_options, e.town_id)
    }
    function S(e, i, o, r, a, l, u) {
        if (!window.request_stacks.current)
            return p(e, i, o, r, a, l, u, Game.townId);
        else if (!c() && !window.request_stacks.waiting)
            return p(e, i, o, r, a, l, u, Game.townId);
        else {
            e = {
                controller: e,
                action: i,
                params: o,
                type: r,
                callback: a,
                show_loader: l,
                http_status_code_options: u,
                town_id: Game.townId
            };
            if (c())
                d(i = e),
                window.request_stacks.current.stack.push(i),
                h(e);
            else if (!1 === window.request_stacks.waiting.pending)
                d(o = e),
                window.request_stacks.waiting.stack.push(o);
            else
                window.request_stacks.waiting.untraced.push(e)
        }
    }
    function p(d, h, p, f, g, m, w, e) {
        if (C && C.isMaintenanceRunning())
            if ("ApiUpdateDummy" !== p.class_name)
                return;
        if (void 0 === m)
            m = !0;
        if (window.isForum)
            p.nl_skip = !0;
        if (r && x)
            ;
        else {
            x = !0;
            var v = null
              , y = null;
            if ("object" == typeof g)
                v = g.success ? g.success : null,
                y = g.error ? g.error : null;
            else
                v = g;
            if (b && !0 === m)
                b.showAjaxLoader();
            if (window.MaintenanceWindowFactory && MaintenanceWindowFactory.isMaintenanceTime())
                ;
            else {
                function i(e, i, o) {
                    l(e, 0, o, w)
                }
                jQuery.ajaxSetup({
                    cache: !1
                });
                var o = $.extend(!0, {}, p);
                return delete o.window_handle,
                jQuery.ajax({
                    url: url(d, h, {
                        town_id: e
                    }),
                    type: f,
                    data: {
                        json: JSON.stringify(o)
                    },
                    dataType: "text",
                    statusCode: {
                        400: i,
                        404: i,
                        418: i,
                        500: i,
                        501: i,
                        502: i,
                        503: u,
                        504: i
                    },
                    success: function(e, i, o) {
                        var r, a, l = "data" === d && "get" === h || "debug" === d && "get" === h || "debug" === d && "getSpeed" === h, u = e && e.length ? JSON.parse(e) : null;
                        if (200 === o.status)
                            if (C)
                                C.endMaintenance();
                        if (!u || !u.json || !u._srvtime)
                            ;
                        else {
                            e = u;
                            if (null !== e && e.version && e.update) {
                                if (k && e.version !== k && ("hard" === e.update || "unknown" === e.update))
                                    if (C)
                                        C.startMaintenance(!0),
                                        C.endMaintenance();
                                k = e.version
                            }
                            if (u.version)
                                k = u.version;
                            if ("object" != typeof (a = u.json) || null === a)
                                a = {
                                    data: a
                                };
                            if (u.plain)
                                for (r in u.plain)
                                    if (u.plain.hasOwnProperty(r))
                                        a[r] = u.plain[r];
                            if (x = !1,
                            b && 1 == m)
                                b.hideAjaxLoader();
                            if (o = a.t_token,
                            delete a.t_token,
                            Timestamp.updateServerTimebyUnixTime(u._srvtime),
                            delete u._srvtime,
                            void 0 !== Layout && void 0 !== Layout.insertEventTrackingCode && a.event_pixel)
                                Layout.insertEventTrackingCode(a.event_pixel),
                                delete a.event_pixel;
                            if (a.redirect)
                                window.location.href = a.redirect,
                                delete a.redirect;
                            else {
                                if (a.maintenance)
                                    return MaintenanceWindowFactory.openMaintenanceWindow(a.maintenance);
                                if (a.success)
                                    HumanMessage.success(a.success);
                                if (a.notifications)
                                    if (NotificationLoader)
                                        NotificationLoader.recvNotifyData(a, l),
                                        delete a.notifications,
                                        delete a.next_fetch_in;
                                if (a.bar && a.bar.gift && a.bar.gift.length) {
                                    e = require("game/windows/ids").DAILY_LOGIN,
                                    l = HelperLayout.getGiftData(a.bar.gift, "gift.daily_reward");
                                    if (l && !WM.isOpened(e))
                                        HelperLayout.openDailyLoginGift(l)
                                }
                                if (a.error) {
                                    if (window.isForum && a.type && "botcheck" === a.type) {
                                        HumanMessage.error("Response Error");
                                        e = require("game/windows/priorities");
                                        WQM.addQueuedWindow({
                                            type: GPWindowMgr.TYPE_BOT_CHECK,
                                            priority: e.getPriority(GPWindowMgr.TYPE_BOT_CHECK),
                                            open_function: function() {
                                                return BotCheckWindowFactory.openBotCheckWindow()
                                            }
                                        })
                                    }
                                    if (y)
                                        y(b, a, o);
                                    if (void 0 !== a.gpSwitchtown)
                                        if (HumanMessage.error(a.error),
                                        null === a.gpSwitchtown)
                                            window.location.reload();
                                        else
                                            HelperTown.townSwitch(parseInt(a.gpSwitchtown, 10));
                                    else if (void 0 !== a.gpVerificationRequest) {
                                        var c = JSON.parse(a.gpVerificationRequest)
                                          , l = !1;
                                        if (c.player_hint)
                                            l = !0;
                                        Layout.showConfirmDialog(c.title, c.desc, function() {
                                            p.verification_code = c.code,
                                            S(d, h, p, f, g, m, w)
                                        }, c.ok, null, c.cancel, function() {
                                            if (c.player_hint) {
                                                if (T.isHintEnabled(c.player_hint))
                                                    T.getPlayerHintsCollection().disableHint(c.player_hint);
                                                else
                                                    T.getPlayerHintsCollection().enableHint(c.player_hint);
                                                return !1
                                            } else
                                                return null
                                        }, c.check, null, l)
                                    } else if (HumanMessage.error(a.error),
                                    a.error_message && Game.dev)
                                        console.error(a.error, a.error_message);
                                    delete a.error
                                } else {
                                    if (v)
                                        v(b, a, i, o);
                                    if (1 == a._sysmsg)
                                        NotificationLoader.resetNotificationRequestTimeout(),
                                        delete a._sysmsg
                                }
                            }
                        }
                    },
                    error: function(e, i, o) {
                        if (0 === e.status || 0 === e.readyState)
                            ;
                        else {
                            if (x = !1,
                            b && 1 == m)
                                b.hideAjaxLoader();
                            if (503 === e.status)
                                ;
                            else {
                                if (!1 !== a.enable_response_errors)
                                    if (!1 !== a.enable_response_errors_human_msg)
                                        HumanMessage.error("Response Error");
                                    else if (!0 === a.enable_response_errors_to_console)
                                        debug("Response Error");
                                if (y)
                                    y(b, null)
                            }
                        }
                    }
                })
            }
        }
    }
    if (window.request_stacks = window.request_stacks || {
        current: void 0,
        waiting: void 0
    },
    this.doClosedRequestsContext = function(e) {
        var i = function() {
            if (window.request_stacks.current)
                return window.request_stacks.waiting = {
                    stack: [],
                    pending: !1,
                    untraced: []
                };
            else
                return window.request_stacks.current = {
                    stack: [],
                    pending: !1
                }
        }();
        e(),
        i.pending = i.stack.length
    }
    ,
    this.get = function(e, i, o, r, a, l) {
        return S(e, i, o, "GET", a, r, l)
    }
    ,
    this.post = function(e, i, o, r, a) {
        return S(e, i, o, "POST", a, r)
    }
    ,
    this.ajaxGet = function(e, i, o, r, a) {
        return this._ajax(e, i, o, r, a, "get")
    }
    ,
    this.ajaxPost = function(e, i, o, r, a) {
        return this._ajax(e, i, o, r, a, "post")
    }
    ,
    this._ajax = function(e, i, o, r, a, l) {
        var u;
        if (!o)
            o = {
                town_id: Game.townId
            };
        else if (!o.town_id)
            o.town_id = Game.townId;
        if (o.nl_init = NotificationLoader.isGameInitialized(),
        "object" == typeof a)
            u = a;
        else
            u = function(e, i, o, r) {
                if ("function" == typeof a)
                    a(i, r)
            }
            ;
        return this[l](e, i, o, r, u)
    }
    ,
    this.checkBackendDuringMaintenance = function() {
        this.ajaxGet("frontend_bridge", "fetch", {
            class_name: "ApiUpdateDummy",
            method_name: "read",
            version: 1,
            nl_skip: !0,
            params: {}
        }, !1, function() {})
    }
    ,
    window.DEBUG)
        this.specs = {
            handleHTTPStatusCode: l,
            gpajaxrequest: S,
            _doGpajaxrequest: p,
            locking: r,
            handleMaintenanceStatusCode: u,
            request_running: x
        }
}
(function(u, c, d) {
    "use strict";
    var h, r = require("game/windows/priorities"), p = require("data/features"), a = require("helpers/commands"), i = require("helpers/error_handler"), o = require("mobile/ios"), l = require("mobile/messages"), f = require("mobile/uiscale"), g = require("mobile/helper");
    function m(e, o) {
        var i = new GPLayout({
            wndMaxConcurrent: d.player_settings.windowmgr_max_concurrent,
            onInit: null
        });
        i.favor = d.favors,
        i.player_hint_settings = d.player_hint_settings,
        i.show_confirmation_popup = d.player_settings.show_confirmation_popups,
        c.GameLoader.addFinishLoadedHook(function() {
            d.Audio = new c.GameControllers.SoundController(d.audio_settings),
            u.Observer(GameEvents.sound.init).publish({}),
            delete d.audio_settings;
            var e = a.getTotalCountOfIncomingAttacks();
            if (0 < e)
                u.Observer(GameEvents.notification.incoming_attack).publish({
                    count: e,
                    previous_count: 0
                });
            var i = o.towns.getCurrentTown()
              , e = us.extend({}, Backbone.Events);
            if (i && i.hasConqueror())
                WQM.addNotQueuedWindow({
                    type: GPWindowMgr.TYPE_CONQUEST,
                    priority: r.getPriority(GPWindowMgr.TYPE_CONQUEST),
                    open_function: function() {
                        return ConquestWindowFactory.openConquestWindow()
                    }
                });
            i.onHasConquerorChange(e, function() {
                if (i.hasConqueror())
                    WQM.addNotQueuedWindow({
                        type: GPWindowMgr.TYPE_CONQUEST,
                        priority: r.getPriority(GPWindowMgr.TYPE_CONQUEST),
                        open_function: function() {
                            return ConquestWindowFactory.openConquestWindow()
                        }
                    });
                else
                    ConquestWindowFactory.closeConquestWindow()
            }),
            i.onAllResourcesFull(e, function() {
                u.Observer(GameEvents.town.resources.limit_reached_all).publish({})
            }),
            (new (require("features/benefits/large_icon"))).initLargeIcon()
        }),
        i.initProgressableViews(o.tutorial_quests, o.island_quests, DM.getl10n("questlog_icon")),
        i.initDailyLoginIcon(e.daily_login, DM.getl10n("daily_login")),
        i.initActivitiesIcon(DM.getl10n("activities")),
        c.Layout = i
    }
    function w(i, o) {
        var e = {
            data_dates: c.data_dates
        }
          , r = c.Quickbar;
        if (e.models = {
            unit_time_to_arrival: i.unit_time_to_arrival
        },
        e = new GPGameLoader(e),
        h.hasOwnProperty("game_loader_finishd_hook") && "function" == typeof h.game_loader_finishd_hook)
            e.addFinishLoadedHook(function(e, i) {
                if (function(e, i) {
                    if ("undefined" != typeof HelperEaster)
                        HelperEaster.registerEvent(e, i);
                    if ("undefined" != typeof HelperHercules2014)
                        HelperHercules2014.registerEvent(e, i)
                }(e, i),
                function() {
                    var e = !!u.cookie("login_startup_time");
                    gpAjax.ajaxPost("debug", "log_startup_time", {
                        log_startup_time: e
                    }, !1, function(e) {
                        if (e.t && 0 < e.t)
                            debug("Startup time: " + e.t)
                    })
                }(),
                d.isHybridApp())
                    g.getMobileShopProducts(v)
            }
            .bind(null, i, o)),
            e.addFinishLoadedHook(NotificationLoader.setGameInitialized.bind(NotificationLoader)),
            e.addFinishLoadedHook(h.game_loader_finishd_hook),
            e.addFinishLoadedHook(function(e, i) {
                c.GIM = new GlobalListenersManager(e,i)
            }
            .bind(null, i, o)),
            e.addFinishLoadedHook(function() {
                var e = new c.GameControllers.LayoutMainController({
                    el: u("#ui_box"),
                    cm_context: {
                        main: "new_ui",
                        sub: "layout_main_controller"
                    }
                });
                e.renderPage({
                    models: i,
                    collections: o,
                    templates: {
                        premium_button: {
                            premium_menu: DM.getTemplate("premium", "top_menu")
                        },
                        main_menu: {
                            item: DM.getTemplate("main_menu", "item"),
                            enlarged_main_menu_items: DM.getTemplate("COMMON", "enlarged_main_menu_items")
                        },
                        units: {
                            unit: DM.getTemplate("units", "unit"),
                            enlarged_units_area: DM.getTemplate("COMMON", "enlarged_units_area")
                        },
                        toolbar_activities: DM.getTemplate("COMMON", "toolbar_activities"),
                        town_name_area: {
                            town_groups_list: DM.getTemplate("COMMON", "town_groups_list"),
                            casted_powers: DM.getTemplate("COMMON", "casted_powers"),
                            casted_power_tooltip: DM.getTemplate("COMMON", "casted_power_tooltip"),
                            culture_overview: DM.getTemplate("COMMON", "culture_overview")
                        },
                        quickbar: {
                            main: DM.getTemplate("COMMON", "quickbar_main"),
                            options: DM.getTemplate("COMMON", "quickbar_options")
                        },
                        resources_bar: {
                            main: DM.getTemplate("COMMON", "resources_bar_main"),
                            enlarged: DM.getTemplate("COMMON", "resources_bar_enlarged")
                        },
                        powers_menu: {
                            gods_powers: DM.getTemplate("powers_menu", "gods_powers")
                        },
                        city_overview: DM.getTemplate("COMMON", "city_overview", "main"),
                        construction_queue: DM.getTemplate("COMMON", "construction_queue"),
                        city_construction_overlay: DM.getTemplate("COMMON", "city_construction_overlay"),
                        enlarged_minimized_windows_list: DM.getTemplate("COMMON", "enlarged_minimized_windows_list")
                    }
                }),
                c.layout_main_controller = e
            }),
            e.addFinishLoadedHook(function() {
                r.initialize({
                    quickbar: i.quickbar
                })
            }),
            e.addFinishLoadedHook(function() {
                Layout.questProgress.init(o.tutorial_quests, !0)
            }),
            e.addFinishLoadedHook(function() {
                Layout.initEffectsIcon(o.benefits, DM.getl10n("effects_icon"))
            });
        else
            debug("empty block");
        c.GameLoader = e
    }
    function v(e) {
        c.top.postMessage({
            message: "gameloader_finished",
            data: {
                products: e,
                market_id: d.market_id,
                world_id: d.world_id,
                player_id: d.player_id,
                appstore: d.appstore_url,
                playstore: d.playstore_url,
                is_muted: d.Audio.isMuted()
            }
        }, "*")
    }
    function y() {
        var o, e = function() {
            var e = {
                heroes: MM.checkAndPublishRawModel("Heroes", {
                    id: d.player_id,
                    persistent: !0
                }),
                premium_features: MM.checkAndPublishRawModel("PremiumFeatures", {
                    id: d.player_id,
                    persistent: !0
                }),
                player_settings: MM.checkAndPublishRawModel("PlayerSettings", {
                    id: d.player_id,
                    persistent: !0
                }),
                player_ledger: MM.checkAndPublishRawModel("PlayerLedger", {
                    id: d.player_id,
                    persistent: !0
                }),
                player_report_status: MM.checkAndPublishRawModel("PlayerReportStatus", {
                    id: d.player_id,
                    persistent: !0
                }),
                player_gods: MM.checkAndPublishRawModel("PlayerGods", {
                    id: d.player_id,
                    persistent: !0
                }),
                quickbar: MM.checkAndPublishRawModel("Quickbar", {
                    id: d.player_id,
                    persistent: !0
                }),
                phoenician_salesman: MM.checkAndPublishRawModel("PhoenicianSalesman", {
                    id: d.player_id,
                    persistent: !0
                }),
                current_player: new c.GameModels.CurrentPlayer({
                    player_model: MM.checkAndPublishRawModel("Player", {
                        id: d.player_id,
                        persistent: !0
                    }),
                    player_ranking_model: MM.checkAndPublishRawModel("PlayerRanking", {
                        id: d.player_id,
                        persistent: !0
                    })
                }),
                unit_time_to_arrival: new GameModels.UnitTimeToArrival,
                payment_config: MM.checkAndPublishRawModel("PaymentConfig", {
                    id: d.player_id,
                    persistent: !0
                }),
                instant_buy_data: MM.checkAndPublishRawModel("InstantBuyData", {
                    id: d.player_id,
                    persistent: !0
                }),
                inventory: MM.checkAndPublishRawModel("Inventory", {
                    id: d.player_id,
                    persistent: !0
                }),
                map_chunks: MM.checkAndPublishRawModel("MapChunks", {
                    id: d.player_id,
                    persistent: !0
                }),
                mermaid: MM.checkAndPublishRawModel("Mermaid", {
                    id: d.player_id,
                    persistent: !0
                }),
                maintenance: MM.checkAndPublishRawModel("Maintenance", {
                    id: 1,
                    persistent: !0
                }),
                player_killpoints: MM.checkAndPublishRawModel("PlayerKillpoints", {
                    id: d.player_id,
                    persistent: !0
                }),
                daily_login: MM.checkAndPublishRawModel("DailyLoginBonus", {
                    id: d.player_id,
                    persistent: !0
                }),
                grepo_score: MM.checkAndPublishRawModel("GrepoScore", {
                    id: d.player_id,
                    persistent: !0
                }),
                player_attack_spot: MM.checkAndPublishRawModel("PlayerAttackSpot", {
                    id: d.player_id,
                    persistent: !0
                }),
                mission_status: MM.checkAndPublishRawModel("MissionStatus", {
                    id: d.player_id,
                    persistent: !0
                }),
                mission_report: MM.checkAndPublishRawModel("MissionReport", {
                    id: d.player_id,
                    persistent: !0
                }),
                town_id_list: MM.checkAndPublishRawModel("TownIdList", {
                    id: d.player_id,
                    persistent: !0
                })
            };
            if (p.isCasualWorld())
                e.casual_worlds_blessed_town = MM.checkAndPublishRawModel("CasualWorldsBlessedTown", {
                    id: d.player_id,
                    persistent: !0
                });
            if (p.isOlympusEndgameActive())
                e.olympus = MM.checkAndPublishRawModel("Olympus", {
                    id: 1,
                    persistent: !0
                });
            return e
        }(), i = {
            trades: new c.TownAgnosticCollection([],{
                segmentation_keys: ["destination_town_id", "origin_town_id"],
                model_class: "Trade",
                fragment_constructor: c.GameCollections.Trades
            }),
            unit_orders: new c.TownAgnosticCollection([],{
                segmentation_key: "town_id",
                model_class: "UnitOrder",
                fragment_constructor: c.GameCollections.RemainingUnitOrders
            }),
            casted_powers: new c.TownAgnosticCollection([],{
                segmentation_key: "town_id",
                model_class: "CastedPowers",
                fragment_constructor: c.GameCollections.CastedPowers
            }),
            units: new c.TownAgnosticCollection([],{
                segmentation_key: "current_town_id",
                model_class: "Units",
                fragment_constructor: c.GameCollections.Units
            }),
            supporting_units: new c.TownAgnosticCollection([],{
                segmentation_key: "home_town_id",
                model_class: "Units",
                fragment_constructor: c.GameCollections.ActivePlayerSupportsTowns
            }),
            building_orders: new c.TownAgnosticCollection([],{
                segmentation_key: "town_id",
                model_class: "BuildingOrder",
                fragment_constructor: c.GameCollections.BuildingOrders
            }),
            research_orders: new c.TownAgnosticCollection([],{
                segmentation_key: "town_id",
                model_class: "ResearchOrder",
                fragment_constructor: c.GameCollections.ResearchOrders
            }),
            town_buildings: new c.TownAgnosticCollection([],{
                segmentation_key: "town_id",
                model_class: "Buildings",
                fragment_constructor: c.GameCollections.TownBuildings
            }),
            town_researches: new c.TownAgnosticCollection([],{
                segmentation_key: "town_id",
                model_class: "Researches",
                fragment_constructor: c.GameCollections.TownResearches
            }),
            celebrations: new c.TownAgnosticCollection([],{
                segmentation_key: "town_id",
                model_class: "Celebration",
                fragment_constructor: c.GameCollections.Celebrations
            }),
            movements_spys: new c.TownAgnosticCollection([],{
                segmentation_key: "home_town_id",
                model_class: "MovementsSpy",
                fragment_constructor: c.GameCollections.MovementsSpys
            }),
            movements_units: new c.TownAgnosticCollection([],{
                segmentation_keys: ["home_town_id", "target_town_id"],
                model_class: "MovementsUnits",
                fragment_constructor: c.GameCollections.MovementsUnits
            }),
            movements_revolts_defender: new c.TownAgnosticCollection([],{
                segmentation_key: "home_town_id",
                model_class: "MovementsRevoltDefender",
                fragment_constructor: c.GameCollections.MovementsRevoltsDefender
            }),
            movements_conquerors: new c.TownAgnosticCollection([],{
                segmentation_key: "home_town_id",
                model_class: "MovementsConqueror",
                fragment_constructor: c.GameCollections.MovementsConquerors
            }),
            movements_colonizations: new c.TownAgnosticCollection([],{
                segmentation_key: "home_town_id",
                model_class: "MovementsColonization",
                fragment_constructor: c.GameCollections.MovementsColonizations
            })
        }, r = (o = {},
        us.each(i, function(e, i) {
            if (e instanceof c.TownAgnosticCollection)
                o[i] = e.getCurrentFragment()
        }),
        o), a = function() {
            var e = {
                farm_town_player_relations: new c.GameCollections.FarmTownPlayerRelations,
                farm_towns: new c.GameCollections.FarmTowns,
                player_heroes: new c.GameCollections.PlayerHeroes,
                player_map_favorites: new c.GameCollections.PlayerMapFavorites,
                town_groups: new c.GameCollections.TownGroups,
                town_group_towns: new c.GameCollections.TownGroupTowns,
                towns: new c.GameCollections.Towns,
                building_build_datas: new c.GameCollections.BuildingBuildDatas,
                militias: new c.GameCollections.Militias,
                island_quests: new c.GameCollections.IslandQuests,
                benefits: new c.GameCollections.Benefits,
                player_hints: new c.GameCollections.PlayerHints,
                crm_campaigns: new c.GameCollections.CrmCampaigns,
                crm_icons: new c.GameCollections.CrmIcons,
                tutorial_quests: new c.GameCollections.Quests,
                feature_blocks: new c.GameCollections.FeatureBlocks,
                inventory_items: new c.GameCollections.InventoryItems,
                finished_wonders: new c.GameCollections.FinishedWonders([],{
                    alliance_id: d.alliance_id
                }),
                alliance_pacts: new c.GameCollections.AlliancePacts,
                runtimes: new c.GameCollections.Runtimes,
                map_extra_infos: new c.GameCollections.MapExtraInfos,
                custom_colors: new c.GameCollections.CustomColors,
                player_awards: new c.GameCollections.PlayerAwards,
                takeovers: new c.GameCollections.Takeovers,
                attacks: new c.GameCollections.Attacks,
                supports: new c.GameCollections.Supports,
                bundles_and_packages_player_levels: new c.GameCollections.BundlesAndPackagesPlayerLevels,
                grepo_score_hashes: new c.GameCollections.GrepoScoreCategoryHashs,
                island_quest_player_relations: new c.GameCollections.IslandQuestPlayerRelations,
                highlights: new c.GameCollections.Highlights,
                collected_items: new c.GameCollections.CollectedItems,
                movements_revolts_attacker: new c.GameCollections.MovementsRevoltsAttacker,
                capped_powers_progresses: new c.GameCollections.CappedPowersProgresses,
                casted_alliance_powers: new c.GameCollections.CastedAlliancePowers,
                player_artifacts: new c.GameCollections.PlayerArtifacts,
                player_city_skins: new c.GameCollections.PlayerCitySkins,
                player_tasks: new c.GameCollections.PlayerTasks,
                world_boosts: new c.GameCollections.WorldBoosts
            };
            if (p.isOlympusEndgameActive())
                e.temples = new c.GameCollections.Temples,
                e.temple_commands = new c.GameCollections.TempleCommands;
            return e
        }();
        if (!u.support.transition)
            u.fn.transition = u.fn.animate;
        c.pointerEventsPolyfill({
            listenOn: ["click", "dblclick", "mousedown", "mouseup", "mousemove"]
        }),
        c.LocalStore = new GPLocalStore(d.player_id,d.player_settings.use_localstore),
        f.scaleUI(),
        f.addEventListeners();
        var l = {}
          , l = (us.extend(l, a),
        us.extend(l, i),
        c.ITowns = new TownsData(e,l),
        us.each(i, MM.addTownAgnosticCollection, MM),
        us.each(a, MM.addCollection, MM),
        us.each(r, MM.addCollection, MM),
        us.extend(a, r),
        e)
          , i = a;
        if (c.TM = new TimersManager,
        h.hasOwnProperty("on_data_manager_load_data") && "function" == typeof h.on_data_manager_load_data)
            try {
                h.on_data_manager_load_data()
            } catch (e) {
                Raven.captureException(e)
            }
        if (c.CM = new ComponentsManager,
        c.WM = new WindowsManager,
        GPWindowMgr.setModelsAndCollections(l, i),
        w(e, a),
        m(e, a),
        h && h.hasOwnProperty("on_document_ready") && "function" == typeof h.on_document_ready)
            try {
                h.on_document_ready()
            } catch (e) {
                Raven.captureException(e)
            }
    }
    function b(e) {
        if (e.target && "IMG" === e.target.tagName && "anonymous" === e.target.crossOrigin)
            i.handleImageCorsError(e)
    }
    d.isSmallScreen = c.isSmallScreen,
    d.isiOs = c.isiOs,
    d.isIeTouch = c.isIeTouch,
    d.isMsApp = c.isMsApp,
    d.isIeTouch = d.isIeTouch() ? d.isIeTouch : d.isMsApp,
    d.isHybridApp = function() {
        return d.is_hybrid_app
    }
    ,
    d.isMobileBrowser = function() {
        return d.isHybridApp() || d.isiOs()
    }
    ,
    f.init(),
    c.Bootstrap = {
        run: function(e) {
            if (h = e || {},
            d.img = function(e) {
                return !1 === e ? d.urlImg_null_false : d.urlImg
            }
            ,
            d.invitation_path = {},
            d.isiOs())
                o.setupLinkHandleriOs();
            if (d.isHybridApp())
                l.addEventListeners();
            Logger.init(),
            u(document).ready(y),
            document.body.addEventListener("error", b, !0)
        }
    }
}
)(jQuery, window, Game),
function() {
    "use strict";
    function e(e) {
        if (this.element = e.element,
        void 0 === this.element.getContext)
            G_vmlCanvasManager.initElement(this.element);
        this.current_value = 0,
        this.ctx = this.element.getContext("2d"),
        this.width = this.element.width,
        this.height = this.element.height,
        this.wdiv2 = this.width / 2,
        this.hdiv2 = this.height / 2,
        this.draw_settings = e.draw_settings,
        this.start_angle = this.draw_settings.start_angle,
        this.end_angle = this.draw_settings.end_angle,
        this.tick_interval = 16,
        this.max_value = e.max_value || 100,
        this.animation_info = {
            start_value: 0,
            end_value: 0,
            delta_value: null,
            start_timestamp: null,
            end_timestamp: null,
            duration: 0
        },
        e.parent.on("pb:change:value")
    }
    e.prototype.setCurrentValue = function(e, i) {
        if (i = i || {},
        this.current_value = e,
        !i.silent)
            this.draw(this.current_value)
    }
    ,
    e.prototype.setMax = function(e, i) {
        if (i = i || {},
        this.max_value = e,
        !i.silent)
            this.draw(this.max_value)
    }
    ,
    e.prototype.animate = function(e, i) {
        return this.animation_info.duration = i,
        this.animation_info.start_timestamp = +new Date,
        this.animation_info.end_timestamp = this.animation_info.start_timestamp + i,
        this.animation_info.start_value = this.current_value,
        this.animation_info.end_value = e,
        this.animation_info.delta_value = this.animation_info.end_value - this.animation_info.start_value,
        this.drawAndNextStep(),
        this
    }
    ,
    e.prototype.drawAndNextStep = function() {
        var e = (+new Date - this.animation_info.start_timestamp) / this.animation_info.duration
          , e = this.animation_info.start_value + e * this.animation_info.delta_value;
        if ((this.current_value = e) > this.animation_info.end_value)
            this.current_value = this.animation_info.end_value,
            this.draw(this.animation_info.end_value);
        else {
            if (e / this.animation_info.start_value < .005)
                this.clear();
            else
                this.draw(e);
            setTimeout(function() {
                this.drawAndNextStep()
            }
            .bind(this), this.tick_interval)
        }
        return this
    }
    ,
    e.prototype.clear = function() {
        this.ctx.clearRect(0, 0, this.width, this.height)
    }
    ,
    e.prototype.draw = function(e) {
        this.ctx.clearRect(0, 0, this.width, this.height);
        var i = this.ctx.createLinearGradient(this.width, 0, 0, 0)
          , e = e / this.max_value
          , i = (i.addColorStop(0, this.draw_settings.start_color),
        i.addColorStop(1, this.draw_settings.end_color),
        this.ctx.fillStyle = i,
        this.ctx.clearRect(0, 0, this.width, this.height),
        this.ctx.beginPath(),
        this.start_angle)
          , e = this.start_angle + e * (this.end_angle - this.start_angle);
        this.ctx.arc(this.wdiv2, this.hdiv2, Math.min(this.wdiv2, this.hdiv2), i, e, !1),
        this.ctx.arc(this.wdiv2, this.hdiv2, Math.min(this.wdiv2, this.hdiv2) - this.draw_settings.line_thick, e, i, !0),
        this.ctx.fill()
    }
    ,
    window.CircularProgress = e
}(),
define("data/events", function() {
    "use strict";
    var e = {
        all: "all",
        advent: {
            reward: {
                use: "advent:reward:use",
                stash: "advent:reward:stash",
                trash: "advent:reward:trash"
            },
            advisors_received: "advent:advisors_received",
            shard_collected: "advent:shard_collected"
        },
        alliance: {
            leave: "alliance:leave",
            remove: "alliance:remove",
            create: "alliance:create",
            join: "alliance:join",
            new_message: "alliance:new_message"
        },
        attack: {
            incoming: "attack:incoming",
            planner_reminder: "attack:planner_reminder"
        },
        bar: {
            powers: {
                render: "bar:powers:render"
            },
            units: {
                render: "bar:units:render",
                duration: {
                    render: "bar:units:duration:render"
                }
            }
        },
        building: {
            expand: "building:expand",
            demolish: "building:demolish",
            cancel: "building:cancel",
            city_overview: {
                initialized: "building:city_overview:initialized",
                destroyed: "building:city_overview:destroyed"
            },
            academy: {
                research: {
                    buy: "building:academy:research:buy",
                    cancel: "building:academy:research:cancel"
                }
            },
            farm: {
                request_militia: "building:farm:request_militia"
            }
        },
        button: {
            buy_gold: {
                click: "button:buy_gold:click"
            }
        },
        celebration: {
            start: "celebration:start",
            finish: "celebration:finish"
        },
        command: {
            send_unit: "command:send_unit",
            build_unit: "command:build_unit",
            cast_power: "command:cast_power",
            cancel: "command:cancel",
            support: {
                send_back: "command:support:send_back"
            }
        },
        community_goals: {
            goal_reached: "community_goals:goal_reached"
        },
        daily_login_bonus: {
            reward: {
                use: "daily_login_bonus:reward:use",
                stash: "daily_login_bonus:reward:stash",
                trash: "daily_login_bonus:reward:trash"
            }
        },
        document: {
            key_down: "document:key_down",
            key_up: "document:key_up",
            key: {
                enter: {
                    down: "document:key:enter:down",
                    up: "document:key:enter:up"
                },
                shift: {
                    down: "document:key:shift:down",
                    up: "document:key:shift:up"
                },
                esc: {
                    down: "document:key:esc:down",
                    up: "document:key:esc:up"
                },
                arrow_left: {
                    down: "document:key:arrow_left:down",
                    up: "document:key:arrow_left:up"
                },
                arrow_right: {
                    down: "document:key:arrow_right:down",
                    up: "document:key:arrow_right:up"
                },
                space: {
                    down: "document:key:space:down",
                    up: "document:key:space:up"
                }
            },
            window: {
                resize: "document:window:resize"
            }
        },
        favor: {
            change: "favor:change",
            full: {
                all_gods: "favor:full:all_gods"
            }
        },
        forum: {
            content_set: "forum:content_set"
        },
        game: {
            start: "game:start",
            night: "game:night",
            load: "game:load"
        },
        god: {
            changed_to: "god:changed_to",
            choose: "god:choose",
            change: "god:change"
        },
        hero: {
            wounded: "hero:wounded",
            healed: "hero:healed"
        },
        halloween: {
            reward: {
                use: "halloween:reward:use",
                stash: "halloween:reward:stash",
                trash: "halloween:reward:trash"
            }
        },
        turn_over_tokens: {
            shot: "turn_over_tokens:shot",
            ranking_evaluation: "turn_over_tokens:ranking_evaluation"
        },
        easter: {
            reward: {
                use: "easter:reward:use",
                stash: "easter:reward:stash",
                trash: "easter:reward:trash"
            },
            crafted: "easter:crafted",
            ranking_evaluation: "easter:ranking_evaluation"
        },
        campaign: {
            ranking_evaluation: "campaign:ranking_evaluation"
        },
        hercules2014: {
            reward: {
                use: "active_happening:reward:use",
                stash: "active_happening:reward:stash",
                trash: "active_happening:reward:trash"
            }
        },
        active_happening: {
            reward: {
                use: "active_happening:reward:use",
                stash: "active_happening:reward:stash",
                trash: "active_happening:reward:trash"
            },
            inventory: {
                use: "active_happening:inventory:use",
                stash: "active_happening:inventory:stash",
                trash: "active_happening:inventory:trash"
            },
            grand_prize: {
                use: "active_happening:grand_prize:use",
                stash: "active_happening:grand_prize:stash",
                trash: "active_happening:grand_prize:trash"
            }
        },
        happenings: {
            icon: {
                initialize: "happenings:icon:initialize"
            },
            window: {
                opened: "happenings:window:opened"
            }
        },
        itowns: {
            refetch: {
                start: "itowns:refetch:start",
                finish: "itowns:refetch:finish"
            },
            town_groups: {
                add: "itowns:town_groups:add",
                remove: "itowns:town_groups:remove",
                set_active_group: "itowns:town_groups:set_active_group"
            }
        },
        main_menu: {
            init: "main_menu:init",
            resize: "main_menu:resize"
        },
        map: {
            zoom_in: "map:zoom_in",
            zoom_out: "map:zoom_out",
            jump: "map:jump",
            town: {
                click: "map:town:click"
            },
            special_town: {
                click: "map:special_town:click"
            },
            free_town: {
                click: "map:free_town:click"
            },
            farm: {
                click: "map:farm:click"
            },
            invitation_spot: {
                click: "map:invitation_spot:click"
            },
            island: {
                click: "map:island:click"
            },
            context_menu: {
                click: "map:context_menu:click"
            },
            refresh: {
                all: "map:refresh:all",
                towns: "map:refresh:towns"
            }
        },
        minimap: {
            mouse_events: {
                mouse_up: "minimap:mouse_events:mouse_up"
            },
            refresh: "minimap:refresh",
            load_chunks: "minimap:load_chunks"
        },
        menu: {
            click: "menu:click"
        },
        notification: {
            push: "notification:push",
            del: "notification:del",
            del_all: "notification:del_all",
            building_finished: {
                arrive: "notification:building_finished:arrive"
            },
            incoming_attack: "notification:incoming_attack",
            message: {
                arrive: "notification:message:arrive"
            },
            report: {
                arrive: "notification:report:arrive"
            },
            system: {
                arrive: "notification:system:arrive"
            },
            checkstack: {
                spawned: "notification:checkstack:spawned"
            }
        },
        premium: {
            overviews_menu: {
                toggle_view: "premium:overviews_menu:toggle_view"
            },
            adviser: {
                activate: "premium:adviser:activate",
                expire: "premium:adviser:expire",
                expire_soon: "premium:adviser:expire_soon"
            },
            merchant: {
                immediate_call: "premium:merchant:immediate_call",
                run_out: "premium:merchant:run_out"
            },
            build_time_reduction: "premium:build_time_reduction",
            build_cost_reduction: "premium:build_cost_reduction",
            close_cash_shop: "premium:close_cash_shop"
        },
        progressable: {
            remove: "progressable:remove",
            add: "progressable:add"
        },
        quest: {
            add: "quest:add",
            close: "quest:close",
            change_state: "quest:change_state",
            reduce_build_time_quest_changed: "quest:reduce_build_time_quest_changed",
            tutorial_dead_zone_finished: "quest:tutorial_dead_zone_finished"
        },
        island_quest: {
            add: "island_quest:add",
            satisfied: "island_quest:satisfied"
        },
        sound: {
            init: "sound:init",
            enable: {
                group: "sound:enable:group"
            },
            volume: {
                change: "sound:volume:change",
                mute: "sound:volume:mute"
            }
        },
        town: {
            power: {
                added: "town:power:added",
                removed: "town:power:removed"
            },
            town_switch: "town:town_switch",
            units_beyond: {
                change: "town:units_beyond:change"
            },
            units: {
                change: "town:units:change",
                barracks: {
                    order: {
                        done: "town:units:barracks:order:done"
                    }
                },
                docks: {
                    order: {
                        done: "town:units:docks:order:done"
                    }
                }
            },
            resources: {
                update: "town:resources:update",
                limit_reached: "town:resources:limit_reached",
                limit_reached_all: "town:resources:limit_reached_all",
                limit_freed: "town:resources:limit_freed"
            },
            population: {
                limit_reached: "town:population:limit_reached",
                limit_freed: "town:population:limit_freed"
            },
            trade: {
                arrived: "town:trade:arrived"
            },
            favor: {
                full: "town:favor:full"
            },
            research: {
                done: "town:research:done"
            },
            building: {
                order: {
                    start: "town:building:order:start",
                    done: "town:building:order:done",
                    count_change: "town:building:order:count_change"
                }
            },
            commands: {
                update: "town:commands:update",
                bulk_update: "town:commands:bulk_update"
            },
            hide: {
                change: "town:hide:change"
            }
        },
        tutorial: {
            started: "tutorial:started",
            arrow: {
                next: {
                    click: "tutorial:arrow:next:click"
                },
                previous: {
                    click: "tutorial:arrow:previous:click"
                }
            }
        },
        unit: {
            order: {
                change: "unit:order:change"
            }
        },
        ui: {
            layout_units: {
                rendered: "ui:layout_units:rendered"
            },
            layout_gods_spells: {
                rendered: "ui:layout_gods_spells:rendered",
                state_changed: "ui:layout_gods_spells:state_changed"
            },
            layout_construction_queue: {
                construction_mode: {
                    activated: "ui:layout_construction_queue:construction_mode:activated",
                    deactivated: "ui:layout_construction_queue:construction_mode:deactivated"
                }
            },
            spells_menu: {
                request_open: "ui:spells_menu:request_open"
            },
            layout_mode: {
                city_overview: {
                    activate: "ui:layout_mode:city_overview:activate"
                },
                strategic_map: {
                    activate: "ui:layout_mode:strategic_map:activate"
                },
                island_view: {
                    activate: "ui:layout_mode:island_view:activate"
                }
            }
        },
        window: {
            open: "window:open",
            close: "window:close",
            tab: {
                rendered: "window:tab:rendered"
            },
            dialog: {
                rendered: "window:dialog:rendered"
            },
            maximize: "window:maximize",
            minimize: "window:minimize",
            reload: "window:reload",
            town: {
                hide: {
                    count_change: "window:town:hide:count_change"
                }
            },
            quest: {
                open: "window:quest:open",
                init_icon: "window:quest:init_icon"
            },
            building: {
                open: "window:building:open"
            },
            daily_bonus: {
                accept: "window:daily_bonus:accept"
            },
            townindex: {
                building: {
                    click: "window:townindex:building:click"
                }
            },
            inventory: {
                use: "window:inventory:use",
                trash: "window:inventory:trash",
                item_added: "window:inventory:item_added"
            },
            farm: {
                claim_load: "window:farm:claim_load",
                claim_unit: "window:farm:claim_unit",
                trade: "window:farm:trade",
                send_resources: "window:farm:send_resources"
            },
            alliance: {
                invite_friends: "window:alliance:invite_friends"
            },
            premium: {
                buy_gold: {
                    open: "window:premium:buy_gold:open"
                }
            },
            island_quest: {
                reward: {
                    use: "window:island_quest:reward:use",
                    stash: "window:island_quest:reward:stash",
                    trash: "window:island_quest:reward:trash"
                }
            },
            minimized_windows_area: {
                show: "window:minimized_windows_area:show",
                hide: "window:minimized_windows_area:hide"
            }
        },
        system: {
            maintenance_started: "system:maintenance_started",
            maintenance_ended: "system:maintenance_ended",
            midnight_signal: "system:midnight_signal"
        },
        spawn: {
            destroy_city_portal: "spawn:destroy_city_portal"
        },
        grid_event: {
            close_grand_prize_journey: "grid_event:close_grand_prize_journey"
        },
        attack_spot: {
            reward: {
                use: "attack_spot:reward:use",
                stash: "attack_spot:reward:stash",
                trash: "attack_spot:reward:trash"
            }
        },
        color_picker: {
            change_color: "color_picker:change_color"
        },
        strategic_map_filter: {
            close: {
                color_picker: "strategic_map_filter:close:color_picker"
            }
        },
        unit_picker: {
            town_switch_rerender: "unit_picker:town_switch_rerender"
        }
    };
    return window.GameEvents = e
}),
define("managers/maintenance", function() {
    "use strict";
    var i = require("data/events")
      , e = Math.floor(2e3 + 2e3 * Math.random())
      , o = null
      , r = !1;
    function a() {
        if (window.TM && !o)
            window.TM.unregister("maintenance_mode_timer");
        else if (o)
            window.clearInterval(o),
            o = null
    }
    function l() {
        if (window.TM)
            window.TM.unregister("maintenance_mode_timer"),
            window.TM.register("maintenance_mode_timer", e, function() {
                window.gpAjax.checkBackendDuringMaintenance()
            });
        else
            o = window.setInterval(function() {
                window.gpAjax.checkBackendDuringMaintenance()
            }, e)
    }
    return {
        startMaintenance: function(e) {
            if (r && !e)
                ;
            else {
                if (a(),
                r = !0,
                window.gpAjax)
                    l();
                if ($.Observer(i.system.maintenance_started).publish({}),
                Raven && Raven.isSetup())
                    Raven.setExtraContext({
                        maintenance: "started"
                    })
            }
        },
        endMaintenance: function() {
            if (!r)
                ;
            else if (a(),
            $.Observer(i.system.maintenance_ended).publish({}),
            Raven && Raven.isSetup())
                Raven.setExtraContext({
                    maintenance: "ended, but game not refreshed"
                })
        },
        isMaintenanceRunning: function() {
            return r
        }
    }
}),
function() {
    "use strict";
    var u = {
        getUnitCountClass: function(e) {
            return 1 <= e / 1e4 ? "five_digit_number" : 1 <= e / 1e3 ? "four_digit_number" : ""
        },
        getUnitClass: function(e) {
            return GameData.heroes[e] ? "hero_unit" : ""
        },
        getCleanCopy: function(e) {
            return JSON.parse(JSON.stringify(e))
        },
        switchTab: function(e, i, o, r, a, l) {
            e = GPWindowMgr.getOpenFirst(e);
            if (l = l || function() {}
            ,
            a = this.firstToUpperCase(a.toLowerCase()),
            !e)
                ;
            else
                e["requestContent" + a](i, o, r, l, !0)
        },
        openWindow: function(e, i, o, r, a, l, u, c) {
            var d = GPWindowMgr.getOpenFirst(e);
            if (!d)
                d = GPWindowMgr.Create(e, i, o);
            if (r && a && u)
                d["requestContent" + this.firstToUpperCase(u.toLowerCase())](r, a, l, c, !0);
            return d
        },
        firstToUpperCase: function(e) {
            return e.charAt(0).toUpperCase() + e.slice(1).toLowerCase()
        },
        calculateCapacity: function(e, i) {
            var o, r, a, l = GameData.units, u = 0, c = 0, d = i.berth || 0, i = l.big_transporter.capacity, h = l.small_transporter.capacity;
            for (r in e)
                if (e.hasOwnProperty(r))
                    if (a = e[r].getValue(),
                    o = l[r],
                    0 < a && !o.flying)
                        if (o.is_naval)
                            u += 0 < o.capacity ? (o.capacity + d) * a : 0;
                        else
                            c += o.population * a;
            return {
                total_capacity: u,
                total_population: c,
                slow_boats_needed: Math.ceil(c / (i + d)),
                fast_boats_needed: Math.ceil(c / (h + d))
            }
        },
        vardump: function(e, i, o) {
            if (!e)
                return e;
            if (!i)
                i = 0;
            switch (typeof e) {
            case "string":
                return '"' + e + '"';
            case "number":
                return e;
            case "boolean":
                return e ? "true" : "false";
            case "date":
                return "Date[" + new Date + "]";
            case "array":
                for (var r = "{\n", a = 0; a < e.length; a++)
                    r += "     ".repeat(i + 1) + a + " => " + (!o && 0 < i ? typeof e[a] : u.vardump(e[a], i + 1, !o)) + "\n";
                return r += "     ".repeat(i) + "}";
            default:
                if ("function" == typeof e)
                    return "function";
                if (e.xml || e.serialize)
                    return 0 === i ? "[ " + (e.xml || e.serialize()) + " ]" : "XML Element";
                if (!o && 3 < i)
                    return "object";
                for (var l in r = e.length ? "[\n" : "{\n",
                e)
                    if (e.hasOwnProperty(l))
                        try {
                            r += "     ".repeat(i + 1) + l + " => " + (!o && 3 < i ? typeof e[l] : u.vardump(e[l], i + 1, !o)) + "\n"
                        } catch (e) {
                            r += "     ".repeat(i + 1) + l + " => [ERROR]\n"
                        }
                return r += "     ".repeat(i) + (e.length ? "]" : "}")
            }
        },
        alert_r: function(e, i) {
            alert(u.vardump(e, null, !i))
        },
        searchForPosition: function(e, i, o) {
            for (var r = e.length, a = 0; a < r; a++)
                if (e[a][i] === o)
                    return a;
            return -1
        },
        fillLeadingZero: function(e) {
            return e < 10 ? "0" + e : e
        },
        printTimeInterval: function(e, i) {
            var o = this.fillLeadingZero
              , e = new Date(1e3 * Timestamp.shiftUnixTimestampByTimezoneOffset(e, "player_timezone"))
              , i = new Date(1e3 * Timestamp.shiftUnixTimestampByTimezoneOffset(i, "player_timezone"))
              , r = o(e.getUTCDate())
              , a = o(i.getUTCDate())
              , e = o(e.getUTCMonth() + 1)
              , o = o(i.getUTCMonth() + 1);
            return r + "." + (e === o ? "" : e) + "-" + a + "." + o
        },
        printDate: function(e) {
            var i = this.fillLeadingZero
              , e = new Date(1e3 * Timestamp.shiftUnixTimestampByTimezoneOffset(e, "player_timezone"));
            return i(e.getUTCDate()) + "." + i(e.getUTCMonth() + 1) + "."
        },
        alliance: function(e, i, o) {
            return '<a href="#' + e + '" onclick="Layout.allianceProfile.open(\'' + addslashes(i) + "'," + o + ')" class="gp_alliance_link">' + i + "</a>"
        },
        player: function(e, i, o) {
            var r = JSON.stringify({
                name: e,
                id: i
            })
              , a = "";
            if (!o)
                o = btoa(unescape(encodeURIComponent(r)));
            if (Game.player_id === i)
                a = " is_player";
            return '<a href="#' + o + '" class="gp_player_link' + a + '">' + e + "</a>"
        },
        submit_form: function(e, i, o, r) {
            if (r = r || {},
            void 0 !== o && "" !== o)
                r.action = o;
            return r.town_id = r.town_id || Game.townId,
            document.getElementById(e).setAttribute("action", buildLink(i, r)),
            $("#" + e).submit(),
            !1
        },
        submit_form_light: function(e) {
            return $("#" + e).submit(),
            !1
        }
    };
    window.hCommon = u
}(),
function() {
    "use strict";
    function r(e, i, o) {
        return e = o(e),
        i = o(i),
        this.compare(e, i)
    }
    function a(e, i, o) {
        return e = l(e, o),
        i = l(i, o),
        this.compare(e, i)
    }
    function l(e, i) {
        for (var o = i.length, r = 0; r < o; r++)
            e = e[i[r]];
        return e
    }
    function u(o, e, r, i) {
        return function(e, i) {
            if ("desc" === (i = i || "asc"))
                e.reverse();
            return e
        }(e.sort(function(e, i) {
            return o.call(this, e, i, r)
        }
        .bind(this)), i)
    }
    function e() {}
    e.prototype.compareObjectsByAttribute = function(e, i, o) {
        return u.call(this, a, e, i, o)
    }
    ,
    e.prototype.compareObjectsByFunction = function(e, i, o) {
        return u.call(this, r, e, i, o)
    }
    ,
    window.AbstractSorter = e
}(),
function() {
    "use strict";
    var e = window.AbstractSorter;
    function i() {}
    (i.prototype = new e).compare = function(e, i) {
        return parseFloat(e, 10) - parseFloat(i, 10)
    }
    ,
    window.NumberSorter = i
}(),
function() {
    "use strict";
    var e = window.AbstractSorter;
    function i() {}
    (i.prototype = new e).compare = function(e, i) {
        if (null === e)
            e = "";
        if (null === i)
            i = "";
        return e = e.toString().toLowerCase().replace(" ", ""),
        i = i.toString().toLowerCase().replace(" ", ""),
        e.localeCompare(i)
    }
    ,
    window.StringSorter = i
}(),
define("misc/logger", function() {
    "use strict";
    var l = [];
    function i(e, i, o) {
        var r, a = Array.prototype.slice.call(arguments, 2);
        if (-1 !== l.indexOf(i)) {
            if (1 === a.length && "function" == typeof a[0]) {
                if (a = a[0](),
                !Array.isArray(a))
                    a = [a]
            } else
                a = a.map(function(e) {
                    if ("function" == typeof e)
                        return e();
                    else
                        return e
                });
            if (void 0 !== a) {
                switch (i) {
                case "error":
                    r = "error";
                    break;
                case "warn":
                    r = "warn";
                    break;
                default:
                    r = e
                }
                console[r = "function" == typeof console[r] ? r : "log"].apply(console, a)
            }
        }
    }
    var o = {
        init: function() {
            if (Game.dev && 0 === l.length)
                l.push("error", "warn")
        },
        get: function(e) {
            if (void 0 === i.bind)
                return {
                    log: function() {},
                    group: function() {},
                    groupEnd: function() {}
                };
            else
                return {
                    log: i.bind.apply(i, Array.prototype.concat(null, "log", Array.prototype.slice.apply(arguments))),
                    group: i.bind.apply(i, Array.prototype.concat(null, "group", Array.prototype.slice.apply(arguments))),
                    groupEnd: i.bind(null, "groupEnd", e)
                }
        },
        on: function(e) {
            if (-1 === l.indexOf(e))
                l.push(e);
            return o
        },
        isOn: function(e) {
            return -1 !== l.indexOf(e)
        },
        off: function(e) {
            if (void 0 === e)
                l = [];
            else {
                e = l.indexOf(e);
                if (-1 !== e)
                    delete l[e]
            }
            return o
        }
    };
    return window.Logger = o
}),
define("misc/interface", function() {
    us.implements = function(i, e) {
        if (!e)
            if (Game.dev)
                throw console.trace(),
                "misc/interface: argument 2 of implements may not be falsy";
        us.each(e, function(e) {
            if (void 0 === i[e])
                if (Game.dev)
                    throw console.trace(),
                    "misc/interface: " + e + " not defined on " + i;
            if ("function" != typeof i[e])
                if (Game.dev)
                    throw console.trace(),
                    "misc/interface: " + e + " not not a function in " + i
        })
    }
}),
function() {
    "use strict";
    us.mixin({
        objMap: function(e, r, a) {
            return us.reduce(e, function(e, i, o) {
                return e[o] = r.call(a, i, o, e),
                e
            }, {}, a)
        },
        objFilter: function(e, r, a) {
            return us.reduce(e, function(e, i, o) {
                if (r.call(a, i, o, e))
                    e[o] = i;
                return e
            }, {}, a)
        },
        clamp: function(e, i, o) {
            return Math.min(o, Math.max(i, e))
        }
    })
}(),
function() {
    "use strict";
    window.eventTracking = function() {
        return this.logJsonEvent = function(e, i) {
            gpAjax.ajaxPost("event_tracking", "log_json_event", {
                definition_id: e,
                data: i
            }, !1, function() {})
        }
        ,
        this
    }
    .call({})
}(),
define("misc/treebase", function() {
    "use strict";
    function e() {}
    function i(e) {
        this._tree = e,
        this._ancestors = [],
        this._cursor = null
    }
    return e.prototype.clear = function() {
        this._root = null,
        this.size = 0
    }
    ,
    e.prototype.find = function(e) {
        for (var i = this._root; null !== i; ) {
            var o = this._comparator(e, i.data);
            if (0 === o)
                return i.data;
            else
                i = i.get_child(0 < o)
        }
        return null
    }
    ,
    e.prototype.findIter = function(e) {
        for (var i = this._root, o = this.iterator(); null !== i; ) {
            var r = this._comparator(e, i.data);
            if (0 === r)
                return o._cursor = i,
                o;
            else
                o._ancestors.push(i),
                i = i.get_child(0 < r)
        }
        return null
    }
    ,
    e.prototype.lowerBound = function(e) {
        for (var i = this._root, o = this.iterator(), r = this._comparator; null !== i; ) {
            var a = r(e, i.data);
            if (0 === a)
                return o._cursor = i,
                o;
            o._ancestors.push(i),
            i = i.get_child(0 < a)
        }
        for (var l = o._ancestors.length - 1; 0 <= l; --l)
            if (r(e, (i = o._ancestors[l]).data) < 0)
                return o._cursor = i,
                o._ancestors.length = l,
                o;
        return o._ancestors.length = 0,
        o
    }
    ,
    e.prototype.upperBound = function(e) {
        for (var i = this.lowerBound(e), o = this._comparator; 0 === o(i.data(), e); )
            i.next();
        return i
    }
    ,
    e.prototype.min = function() {
        var e = this._root;
        if (null === e)
            return null;
        for (; null !== e.left; )
            e = e.left;
        return e.data
    }
    ,
    e.prototype.max = function() {
        var e = this._root;
        if (null === e)
            return null;
        for (; null !== e.right; )
            e = e.right;
        return e.data
    }
    ,
    e.prototype.iterator = function() {
        return new i(this)
    }
    ,
    e.prototype.each = function(e) {
        for (var i, o = this.iterator(); null !== (i = o.next()); )
            e(i)
    }
    ,
    e.prototype.reach = function(e) {
        for (var i, o = this.iterator(); null !== (i = o.prev()); )
            e(i)
    }
    ,
    i.prototype.data = function() {
        return null !== this._cursor ? this._cursor.data : null
    }
    ,
    i.prototype.next = function() {
        if (null === this._cursor) {
            var e = this._tree._root;
            if (null !== e)
                this._minNode(e)
        } else if (null === this._cursor.right) {
            var i;
            do {
                if (i = this._cursor,
                this._ancestors.length)
                    this._cursor = this._ancestors.pop();
                else {
                    this._cursor = null;
                    break
                }
            } while (this._cursor.right === i)
        } else
            this._ancestors.push(this._cursor),
            this._minNode(this._cursor.right);
        return null !== this._cursor ? this._cursor.data : null
    }
    ,
    i.prototype.prev = function() {
        if (null === this._cursor) {
            var e = this._tree._root;
            if (null !== e)
                this._maxNode(e)
        } else if (null === this._cursor.left) {
            var i;
            do {
                if (i = this._cursor,
                this._ancestors.length)
                    this._cursor = this._ancestors.pop();
                else {
                    this._cursor = null;
                    break
                }
            } while (this._cursor.left === i)
        } else
            this._ancestors.push(this._cursor),
            this._maxNode(this._cursor.left);
        return null !== this._cursor ? this._cursor.data : null
    }
    ,
    i.prototype._minNode = function(e) {
        for (; null !== e.left; )
            this._ancestors.push(e),
            e = e.left;
        this._cursor = e
    }
    ,
    i.prototype._maxNode = function(e) {
        for (; null !== e.right; )
            this._ancestors.push(e),
            e = e.right;
        this._cursor = e
    }
    ,
    window.TreeBase = e
}),
define("misc/rbtree", function() {
    "use strict";
    var e = require("misc/treebase");
    function p(e) {
        this.data = e,
        this.left = null,
        this.right = null,
        this.red = !0
    }
    function i(e) {
        this._root = null,
        this._comparator = e,
        this.size = 0
    }
    function f(e) {
        return null !== e && e.red
    }
    function g(e, i) {
        var o = e.get_child(!i);
        return e.set_child(!i, o.get_child(i)),
        o.set_child(i, e),
        e.red = !0,
        o.red = !1,
        o
    }
    function m(e, i) {
        return e.set_child(!i, g(e.get_child(!i), !i)),
        g(e, i)
    }
    return p.prototype.get_child = function(e) {
        return e ? this.right : this.left
    }
    ,
    p.prototype.set_child = function(e, i) {
        if (e)
            this.right = i;
        else
            this.left = i
    }
    ,
    (i.prototype = new e).insert = function(e) {
        var i = !1;
        if (null === this._root)
            this._root = new p(e),
            i = !0,
            this.size++;
        else {
            var o = new p(void 0)
              , r = 0
              , a = 0
              , l = null
              , u = o
              , c = null
              , d = this._root;
            for (u.right = this._root; ; ) {
                if (null === d)
                    d = new p(e),
                    c.set_child(r, d),
                    i = !0,
                    this.size++;
                else if (f(d.left) && f(d.right))
                    d.red = !0,
                    d.left.red = !1,
                    d.right.red = !1;
                if (f(d) && f(c)) {
                    var h = u.right === l;
                    if (d === c.get_child(a))
                        u.set_child(h, g(l, !a));
                    else
                        u.set_child(h, m(l, !a))
                }
                h = this._comparator(d.data, e);
                if (0 === h)
                    break;
                if (a = r,
                null !== l)
                    u = l;
                l = c,
                d = (c = d).get_child(r = h < 0)
            }
            this._root = o.right
        }
        return this._root.red = !1,
        i
    }
    ,
    i.prototype.remove = function(e) {
        if (null === this._root)
            return !1;
        for (var i = new p(void 0), o = ((c = i).right = this._root,
        null), r = null, a = null, l = 1; null !== c.get_child(l); ) {
            var u = l
              , r = o
              , o = c
              , c = c.get_child(l)
              , d = this._comparator(e, c.data)
              , l = 0 < d;
            if (0 === d)
                a = c;
            if (!f(c) && !f(c.get_child(l)))
                if (f(c.get_child(!l))) {
                    d = g(c, l);
                    o.set_child(u, d),
                    o = d
                } else if (!f(c.get_child(!l))) {
                    d = o.get_child(!u);
                    if (null !== d)
                        if (!f(d.get_child(!u)) && !f(d.get_child(u)))
                            o.red = !1,
                            d.red = !0,
                            c.red = !0;
                        else {
                            var h = r.right === o;
                            if (f(d.get_child(u)))
                                r.set_child(h, m(o, u));
                            else if (f(d.get_child(!u)))
                                r.set_child(h, g(o, u));
                            d = r.get_child(h);
                            d.red = !0,
                            c.red = !0,
                            d.left.red = !1,
                            d.right.red = !1
                        }
                }
        }
        if (null !== a)
            a.data = c.data,
            o.set_child(o.right === c, c.get_child(null === c.left)),
            this.size--;
        if (this._root = i.right,
        null !== this._root)
            this._root.red = !1;
        return null !== a
    }
    ,
    window.RBTree = i
}),
define("wndhandlers/wndhandler_default", function() {
    "use strict";
    var i = require("misc/humanmessage");
    function o(e) {
        o.prototype.wnd = e,
        this.getDefaultWindowOptions = function() {
            return {
                height: 300,
                width: 460,
                resizable: !1,
                autoresize: !1,
                minimizable: !0,
                closable: !0,
                title: "Untitled Window"
            }
        }
        ,
        this.onInit = function(e, i) {
            return !0
        }
        ,
        this.getModel = function() {
            return this.wnd.getModel.apply(this.wnd, arguments)
        }
        ,
        this.getCollection = function() {
            return this.wnd.getCollection.apply(this.wnd, arguments)
        }
        ,
        this.getModels = function() {
            return this.wnd.getModels.apply(this.wnd, arguments)
        }
        ,
        this.getCollections = function() {
            return this.wnd.getCollections.apply(this.wnd, arguments)
        }
        ,
        this.onFocus = function() {}
        ,
        this.onSetContent = function(e) {
            return e
        }
        ,
        this.onRcvData = function(e) {}
        ,
        this.onRcvDataError = function(e) {
            i.error(e)
        }
        ,
        this.registerComponents = function() {}
        ,
        this.unregisterComponents = function() {
            CM.unregister(this.wnd.getContext())
        }
        ,
        this.onMessage = function() {
            var e = Array.prototype.slice.call(arguments)
              , i = e.shift();
            if ("function" != typeof this[i])
                throw "function does not exist:" + i;
            return this[i].apply(this, e)
        }
    }
    return o.prototype.onClose = function() {
        return this.stopListening(),
        this.unregisterComponents(),
        !0
    }
    ,
    us.extend(o.prototype, window.Backbone.Events),
    window.WndHandlerDefault = o,
    window.WndHandlerDefault
}),
function() {
    "use strict";
    var u = {
        getCallbackFromCallbackArg: function(o, r, a) {
            var e, i;
            if (r = r || function() {}
            ,
            a = a || function() {}
            ,
            "function" == typeof o)
                e = function(e) {
                    r(e),
                    o(e)
                }
                .bind(this);
            else if ("object" == typeof o) {
                if (o.success)
                    e = {
                        success: function(e, i) {
                            r(i),
                            o.success(i)
                        }
                        .bind(this)
                    };
                if (o.error)
                    if (i = function(e, i) {
                        a(i),
                        o.error(i)
                    }
                    .bind(this),
                    e)
                        e.error = i;
                    else
                        e = {
                            error: i
                        }
            }
            if (!e)
                if (Game.dev)
                    e = {
                        success: function(e, i) {
                            r(i)
                        }
                        .bind(this),
                        error: function(e, i) {
                            a(i)
                        }
                        .bind(this)
                    };
                else
                    e = function() {}
                    ;
            return e
        },
        execute: function(i, o, r, e) {
            var a = function(e) {
                Logger.get("MM").log("Execute: " + i + "." + o + "(", r, ") => succes", e)
            }
            .bind(this)
              , l = function(e) {
                Logger.get("MM").log("Execute: " + i + "." + o + "(", r, ") => ERROR", e)
            }
            .bind(this)
              , e = u.getCallbackFromCallbackArg.call(this, e, a, l)
              , a = u.getWrappedCallback(i, o, r, e);
            return gpAjax.ajaxPost("frontend_bridge", "execute", {
                model_url: i,
                action_name: o,
                captcha: null,
                arguments: r
            }, !1, a)
        },
        getWrappedCallback: function(o, r, a, l) {
            return {
                success: function(e, i) {
                    if (!0 === i.captcha_required)
                        CaptchaWindowFactory.openCaptchaWindow(function(e) {
                            gpAjax.ajaxPost("frontend_bridge", "execute", {
                                model_url: o,
                                action_name: r,
                                captcha: e,
                                arguments: a
                            }, !1, l)
                        });
                    else if ("object" == typeof l && l.success)
                        l.success(e, i);
                    else if ("function" == typeof l)
                        l(i)
                },
                error: function(e, i) {
                    if ("object" == typeof l && l.error)
                        l.error(e, i)
                }
            }
        }
    };
    window.GrepoApiHelper = u
}(),
function() {
    "use strict";
    var l = window.Backbone.Model
      , u = window.Backbone.Events;
    function i(e, i) {
        if (e && e[i])
            return us.isFunction(e[i]) ? e[i]() : e[i];
        else
            return null
    }
    var a = {}
      , e = l.extend({
        constructor: function(e, i) {
            if (this.update_emergence_time = 0,
            i && i.creation_arguments)
                this.creationArguments = i.creation_arguments,
                delete i.creation_arguments;
            if (l.prototype.constructor.call(this, e, i),
            this.timestamp_timers)
                for (var o, r = this.timestamp_timers.length, a = 0; a < r; a++)
                    o = this.timestamp_timers[a],
                    this.initializeTimestampTimer(o.attribute_name, o.reset_notifications)
        },
        execute: function(e, i, o) {
            return GrepoApiHelper.execute.call(this, this.url(), e, i, o)
        },
        destroy: function(e) {
            e = e ? _.clone(e) : {},
            this.stopListening(),
            this.trigger("destroy", this, this.collection, e)
        },
        set: function(e, i, o) {
            if (us.isObject(e) && i && i.update_emergence_time && this.update_emergence_time > i.update_emergence_time)
                ;
            else {
                if (i && i.update_emergence_time)
                    this.update_emergence_time = i.update_emergence_time;
                return l.prototype.set.apply(this, arguments)
            }
        },
        multi_events_data: [],
        isMultiEventRegistered: function(i, o) {
            return void 0 !== us.find(this.multi_events_data, function(e) {
                return e.obj === o && e.multi_event_name === i
            })
        },
        _removeMultiEventsData: function(e, i) {
            for (var o, r = this.multi_events_data.length, a = 0; a < r; a++)
                if ((o = this.multi_events_data[a]).obj === i && o.multi_event_name === e)
                    this.multi_events_data.splice(a, 1)
        },
        _addMultiEventsData: function(e, i) {
            this.multi_events_data.push({
                obj: i,
                multi_event_name: e
            }),
            TM.unregister("multi_listener:" + e + ":" + i.getSubContext()),
            TM.register("multi_listener:" + e + ":" + i.getSubContext(), 1e3, function(e, i) {
                this._removeMultiEventsData(e, i),
                this.trigger(e)
            }
            .bind(this, e, i), {
                max: 1
            })
        },
        listenToMultiEvents: function(e, i, o, r) {
            var a = i.length;
            if ("function" != typeof o.getSubContext)
                throw '"listenToMultiEvents" can be used only with controllers.';
            for (var l = function(e, i) {
                if (!this.isMultiEventRegistered(e, i))
                    this._addMultiEventsData(e, i)
            }, u = 0; u < a; u++)
                o.listenTo(this, i[u], l.bind(this, e, o));
            o.listenTo(this, e, r)
        },
        on: function() {
            var e, i, o, r, a, l = [];
            if (!this.onMethodCurrentlyRunning)
                for (e in this.externalTrigger)
                    if (this.externalTrigger.hasOwnProperty(e))
                        if (!this.hasListenerFor(e))
                            l.push(e);
            for (this.onMethodCurrentlyRunning = !0,
            a = u.on.apply(this, arguments),
            delete this.onMethodCurrentlyRunning,
            o = l.length,
            i = 0; i < o; ++i)
                if (this.hasListenerFor(r = l[i]))
                    if ("string" == typeof (r = this.externalTrigger[r]).bind)
                        this[r.bind].apply(this);
                    else
                        r.bind.apply(this);
            return a
        },
        off: function() {
            var e, i, o, r, a, l = [];
            if (!this.offMethodCurrentlyRunning)
                for (e in this.externalTrigger)
                    if (this.externalTrigger.hasOwnProperty(e))
                        if (this.hasListenerFor(e))
                            l.push(e);
            for (this.offMethodCurrentlyRunning = !0,
            a = u.off.apply(this, arguments),
            delete this.offMethodCurrentlyRunning,
            o = l.length,
            i = 0; i < o; ++i)
                if (!this.hasListenerFor(r = l[i]))
                    if ("string" == typeof (r = this.externalTrigger[r]).remove)
                        this[r.remove].apply(this);
                    else
                        r.remove.apply(this);
            return a
        },
        hasListenerFor: function(e) {
            var i, o, r = ["all"];
            if (this._events) {
                if (-1 !== e.indexOf("change:"))
                    r.push("change");
                for (Array.prototype.push.apply(r, e.split(" ")),
                o = r.length,
                i = 0; i < o; ++i)
                    if (this._events[r[i]])
                        return !0
            }
            return !1
        },
        url: function() {
            var e = i(this, "urlRoot") || i(this.collection, "url") || void 0;
            if (!e || this.isNew())
                return e;
            else
                return e + ("/" === e.charAt(e.length - 1) ? "" : "/") + encodeURIComponent(this.id)
        },
        unregisterFromModelManager: function() {
            MM.removeModel(this)
        },
        reFetch: function(i, e) {
            var o = {
                action_name: "read",
                model_url: this.urlRoot
            };
            if (e)
                o.arguments = e;
            gpAjax.ajaxGet("frontend_bridge", "execute", o, !1, function(e) {
                if (this.set(e.json || e),
                i)
                    i()
            }
            .bind(this))
        }
    });
    e.addTimestampTimer = function(e, i, o) {
        if ("object" != typeof e.timestamp_timers)
            e.timestamp_timers = [];
        if (e.timestamp_timers.push({
            attribute_name: i,
            reset_notifications: o
        }),
        "function" != typeof e._timestampTimerCallback)
            e._timestampTimerCallback = function(e) {
                var i = e.event_name
                  , o = e.timer_name;
                if (this.trigger(i, this),
                TM.unregister(o),
                e.reset_notifications)
                    NotificationLoader.resetNotificationRequestTimeout(100)
            }
            ;
        if ("function" != typeof e._manageTimestampTimer)
            e._manageTimestampTimer = function(e) {
                var i = this.get(e.attribute_name)
                  , o = 1e3 * Math.max(0, (i || 0) - Timestamp.now())
                  , r = e.timer_name;
                if (clearTimeout(a[r]),
                "number" == typeof i)
                    a[r] = setTimeout(this._timestampTimerCallback.bind(this, e), o)
            }
            ;
        if ("function" != typeof e.initializeTimestampTimer)
            e.initializeTimestampTimer = function(e, i) {
                var o = "timestamp:" + e
                  , r = {
                    attribute_name: e,
                    event_name: o,
                    timer_name: this.cid + ":" + o,
                    reset_notifications: i
                };
                this.on("change:" + e, function() {
                    this._manageTimestampTimer(r)
                }, this),
                this._manageTimestampTimer(r)
            }
    }
    ,
    e.addAttributeReader = function(o, e) {
        var i = Array.prototype.slice.call(arguments, 1);
        $(i).each(function(e, i) {
            o["get" + i.camelCase()] = function() {
                return this.get(i)
            }
        })
    }
    ,
    window.GrepolisModel = e
}(),
function() {
    "use strict";
    var o = window.Backbone.Collection
      , l = require("helpers/internal_markets")
      , e = o.extend({
        constructor: function(e, i) {
            if (this.update_emergence_time = 0,
            i && i.creation_arguments)
                this.creationArguments = i.creation_arguments,
                delete i.creation_arguments;
            if (o.prototype.constructor.call(this, e, i),
            i && i.model_class)
                this.model_class = i.model_class,
                this.url_root = i.url_root
        },
        url: function() {
            if (this.url_root)
                return this.url_root + "s";
            else
                return this.model_class + "s"
        },
        add: function(e, i) {
            if ((i = i || {}).update_emergence_time) {
                if (this.update_emergence_time > i.update_emergence_time)
                    return;
                this.update_emergence_time = i.update_emergence_time
            }
            o.prototype.add.apply(this, arguments)
        },
        remove: function(e, i) {
            if ((i = i || {}).update_emergence_time) {
                if (this.update_emergence_time > i.update_emergence_time)
                    return;
                this.update_emergence_time = i.update_emergence_time
            }
            o.prototype.remove.apply(this, arguments)
        },
        repopulate: function(o) {
            if (this.model_class) {
                this.reset();
                var e = MM.getModelsForClass(this.model_class);
                us.each(e, function(e, i) {
                    this.add(e, o)
                }
                .bind(this))
            }
        },
        reFetch: function(i, o) {
            var r = this.model_class
              , a = this.url()
              , e = {};
            return e[a] = [],
            r = "Unit" === r ? "Units" : r,
            gpAjax.ajaxGet("frontend_bridge", "refetch", {
                collections: e
            }, !1, function(e) {
                if (!e.collections[a]) {
                    if (Game.dev || l.isInternalMarket(Game.market_id))
                        throw "Collection with the name " + a + " is missing. (Maybe feature flag is not set.)"
                } else {
                    e = e.collections[a].data;
                    if (us.each(e, function(e) {
                        MM.checkAndPublishRawModel(r, e.d, o)
                    }),
                    i)
                        i()
                }
            }
            .bind(this))
        },
        execute: function(e, i, o) {
            return GrepoApiHelper.execute.call(this, this.url(), e, i, o)
        },
        unregisterFromModelManager: function() {
            MM.removeCollection(this)
        },
        getFirstModel: function() {
            if (0 < this.models.length)
                return this.models[0];
            else
                return null
        },
        onAdd: function(e, i) {
            e.listenTo(this, "add", i)
        },
        onChange: function(e, i) {
            e.listenTo(this, "change", i)
        },
        onRemove: function(e, i) {
            e.listenTo(this, "remove", i)
        },
        onReset: function(e, i) {
            e.listenTo(this, "reset", i)
        }
    });
    window.GrepolisCollection = e
}(),
function() {
    "use strict";
    var u = window.Backbone.Collection;
    window.FragmentCollectionPrototype = function(e) {
        this.parent_constructor = e,
        this.constructor = function(e, i) {
            if (!i || !i.segmentation_value && !i.segmentation_keys)
                throw "There has to be 'segmentation_value' or 'segmentation_keys' options";
            this.segmentation_value = i.segmentation_value,
            this.segmentation_keys = i.segmentation_keys,
            this.parent_constructor.call(this, e, i)
        }
        ,
        this.add = function(e, i) {
            if (e instanceof u)
                e.each(function(e) {
                    this.add(e, i)
                }
                .bind(this));
            else if (us.isArray(e))
                us.each(e, function(e) {
                    this.add(e, i)
                }
                .bind(this));
            else if (e)
                for (var o, r = this.segmentation_keys.length, a = e, l = 0; l < r; ++l)
                    if (o = this.segmentation_keys[l],
                    ("function" == typeof a.get ? a.get(o) : a[o]) === this.segmentation_value)
                        this.parent_constructor.prototype.add.call(this, a, i)
        }
        ,
        this.changeSegmentationValue = function(e) {
            this.segmentation_value = e
        }
    }
}(),
function() {
    "use strict";
    var e = window.Backbone.Events
      , o = window.Backbone.Collection
      , r = window.GrepolisCollection
      , i = window.Backbone.Model
      , a = window.FragmentCollectionPrototype
      , c = require("enums/commands")
      , d = require("helpers/commands");
    function l(e, i) {
        if (arguments.length) {
            if (i && i.segmentation_key)
                this.segmentation_keys = [i.segmentation_key];
            else if (i && i.segmentation_keys && i.segmentation_keys instanceof Array)
                this.segmentation_keys = i.segmentation_keys;
            else
                throw "A TownAgnosticCollection always needs a segmentation_key[s] option";
            if (this.fragments = {},
            this.fragment_constructor = this._extractFragmentConstructor(i),
            this.workingCopy = this._createFragmentInstance(parseInt(Game.townId, 10), !0),
            this.workingCopy.on("change", this._triggerChange, this),
            this.workingCopy.on("add", this.trigger.bind(this, "add", this.workingCopy)),
            this.workingCopy.on("remove", this.trigger.bind(this, "remove", this.workingCopy)),
            i.creation_arguments)
                this.creationArguments = i.creation_arguments;
            if (i.model_class)
                this.model_class = i.model_class;
            this.add(e, i)
        }
        this.interested_in_fragment_events = [],
        $.Observer(GameEvents.town.town_switch).subscribe(this, this._onTownSwitch.bind(this))
    }
    l.prototype.unregisterFromModelManager = function() {
        MM.removeCollection(this)
    }
    ,
    l.prototype.getCurrentFragment = function() {
        return this.workingCopy
    }
    ,
    l.prototype.getFragment = function(e) {
        var i = this.fragments[e];
        if (!i)
            i = this._createFragment(e);
        return i
    }
    ,
    l.prototype._createFragmentInstance = function(e, i) {
        return new this.fragment_constructor([],{
            segmentation_keys: this.segmentation_keys,
            segmentation_value: e,
            created_as_current_collection: i
        })
    }
    ,
    l.prototype._createFragment = function(e, i) {
        i = this._createFragmentInstance(e, i);
        return i.on("change", this._triggerChange, this),
        i.on("add", this.trigger.bind(this, "add", i)),
        i.on("remove", this.trigger.bind(this, "remove", i)),
        this.fragments[e] = i
    }
    ,
    l.prototype._onTownSwitch = function() {
        var e = parseInt(Game.townId, 10)
          , i = this.getFragment(e).models;
        if (this.workingCopy.changeSegmentationValue(e),
        this.workingCopy.reset(),
        0 < i.length)
            this.workingCopy.add(i, {
                silent: !0
            }),
            this.workingCopy.trigger("add", i[0], this.workingCopy, {});
        if ("function" == typeof this.workingCopy.onChangeAutomaticFetchHandler)
            this.workingCopy.onChangeAutomaticFetchHandler()
    }
    ,
    l.prototype._arrayFromVaryingTypes = function(e) {
        var i;
        if (e instanceof o)
            i = e.toArray();
        else if (us.isArray(e))
            i = e;
        else
            i = [e];
        return i
    }
    ,
    l.prototype.add = function(e, i) {
        this._addModels(this._arrayFromVaryingTypes(e), i)
    }
    ,
    l.prototype.remove = function(e, i) {
        this._removeModels(this._arrayFromVaryingTypes(e), i)
    }
    ,
    l.prototype._addModels = function(e, l) {
        var u;
        us.each(e, function(e) {
            if (!e)
                Logger.get("town_agnostic_collection").log("addModel", e);
            else {
                for (var i, o = this.segmentation_keys.length, r = 0; r < o; ++r)
                    if (i = this.segmentation_keys[r],
                    u = "function" == typeof e.get ? e.get(i) : e[i],
                    e.urlRoot === c.UNITS && !d.isPlayersTown(u))
                        ;
                    else {
                        u = this.getFragment(u);
                        var a = 0 === this.interested_in_fragment_events.length;
                        u.add(e, us.extend({}, l, {
                            silent: a
                        }))
                    }
                e.on("change:" + i, this.updateSegment, this)
            }
        }
        .bind(this))
    }
    ,
    l.prototype._removeModels = function(e, l) {
        var u;
        us.each(e, function(e) {
            if (!e)
                Logger.get("town_agnostic_collection").log("removeModel", e);
            else {
                for (var i, o = this.segmentation_keys.length, r = 0; r < o; ++r) {
                    i = this.segmentation_keys[r],
                    u = "function" == typeof e.get ? e.get(i) : e[i],
                    u = this.fragments[u];
                    var a = 0 === this.interested_in_fragment_events.length;
                    if (u)
                        u.remove(e, us.extend({}, l, {
                            silent: a
                        }))
                }
                e.off("change:" + i, this.updateSegment, this)
            }
        }
        .bind(this))
    }
    ,
    l.prototype.get = function(e) {
        if (null === e)
            ;
        else if (e instanceof i)
            return this._getModel(e);
        else
            return this._getByCid(e)
    }
    ,
    l.prototype.updateSegment = function(r) {
        for (var e, i, o, a, l, u = this.segmentation_keys.length, c = function(e, i, o) {
            if (i === o)
                ;
            else if (-1 === this.workingCopy.segmentation_keys.indexOf(e))
                ;
            else if (this.workingCopy.segmentation_value === i || this.workingCopy.segmentation_value === o)
                this.workingCopy.remove(r),
                this.workingCopy.add(r)
        }
        .bind(this), d = 0; d < u; ++d) {
            if (l = this.segmentation_keys[d],
            e = r.previous(l),
            i = r.get(l),
            o = this.fragments[e],
            a = this.fragments[i],
            o)
                o.remove(r);
            if (i) {
                if (!a)
                    a = this._createFragment(i);
                a.add(r)
            }
            c(l, e, i)
        }
    }
    ,
    l.prototype._triggerChange = function(e, i) {
        var o, r, a = e.changedAttributes();
        for (r in a)
            if (a.hasOwnProperty(r))
                o = a[r],
                this.trigger("change:" + r, e, o, i);
        this.trigger("change", e)
    }
    ,
    l.prototype._extractFragmentConstructor = function(e) {
        var i;
        if (e && e.fragment_constructor)
            i = e.fragment_constructor,
            delete e.fragment_constructor;
        else
            i = r;
        return i.extend(new a(i))
    }
    ,
    l.prototype._getModel = function(e) {
        for (var i, o = this.segmentation_keys.length, r = 0; r < o; ++r)
            if (i = this.segmentation_keys[r],
            i = "function" == typeof e.get ? e.get(i) : e[i],
            i = this.fragments[i])
                if (i = i.get(e))
                    return i
    }
    ,
    l.prototype._getByCid = function(e) {
        if (e) {
            var i, o = this.fragments;
            for (i in o)
                if (o.hasOwnProperty(i)) {
                    var r = o[i].get(e);
                    if (r)
                        return r
                }
        }
    }
    ,
    l.prototype.repopulate = function(o) {
        if (this.model_class) {
            var e = MM.getModelsForClass(this.model_class);
            us.each(e, function(e, i) {
                if (!e)
                    Logger.get("town_agnostic_collection").log("repopulate", e);
                else
                    this.add(e, o)
            }
            .bind(this))
        }
        this._onTownSwitch()
    }
    ,
    l.prototype.refreshWorkingCopy = function() {
        this._onTownSwitch()
    }
    ,
    l.prototype.registerFragmentEventSubscriber = function(e) {
        this.interested_in_fragment_events.push(e)
    }
    ,
    l.prototype.unregisterFragmentEventSubscriber = function(e) {
        if (-1 < this.interested_in_fragment_events.indexOf(e))
            this.interested_in_fragment_events.splice(this.interested_in_fragment_events.indexOf(e), 1)
    }
    ,
    us.extend(l.prototype, e),
    window.TownAgnosticCollection = l
}(),
function() {
    "use strict";
    var e = Backbone.View.extend({});
    window.GrepolisView = e
}(),
function() {
    "use strict";
    var a = require("misc/timestamp");
    function e(e, i, o, r) {
        this.propertyName = e,
        this.model = i,
        this.minInterval = r && r.minInterval,
        this.callbacks = o,
        this.uid = "delta_" + i.url() + "_" + e,
        this.lastTriggeredVirtualPropertyChangeTimestamp = 0,
        this.lastTriggeredVirtualPropertyValue = this.getPropertyBaseValue(),
        this.setExternalTriggerIfNotSet(),
        this.calculateAndTriggerVirtualPropertyImmediateBound = this.calculateAndTriggerVirtualProperty.bind(this, !0)
    }
    e.prototype.setExternalTriggerIfNotSet = function() {
        var e = this.propertyName.camelCase() + "DeltaProperty";
        if ("function" != typeof this.model["bind" + e])
            this.model["bind" + e] = this.bindModelsExternalTrigger.bind(this),
            this.model["remove" + e] = this.removeModelsExternalTrigger.bind(this);
        if (!this.model.externalTrigger)
            this.model.externalTrigger = {};
        if (this.model.externalTrigger["change" + e])
            if (this.model.externalTrigger["change" + e].bind !== "bind" + e || this.model.externalTrigger["change" + e].remove !== "remove" + e)
                throw "The models externalTrigger for the virtual property " + e + " is already set to something else!";
        this.model.externalTrigger["change" + e] = {
            bind: "bind" + e,
            remove: "remove" + e
        }
    }
    ,
    e.prototype.bindModelsExternalTrigger = function() {
        this.callCallback("onStart", null, this),
        this.addTimeout()
    }
    ,
    e.prototype.removeModelsExternalTrigger = function() {
        this.clearTimeout(),
        this.callCallback("onStop", null, this)
    }
    ,
    e.prototype.calculateAndTriggerVirtualProperty = function(e) {
        var i, o = this.calculateCurrentValue(), r = o.currentValue, a = e || this.hasImmediateChange(r), o = 1e3 * this.getNextChangeUnlimitedIn(o), l = $.now();
        if (this.minInterval)
            if (this.lastTriggeredVirtualPropertyChangeTimestamp && !e)
                i = l - this.lastTriggeredVirtualPropertyChangeTimestamp,
                i = parseInt(Math.max(this.minInterval - i, o), 10);
            else
                i = parseInt(Math.max(this.minInterval, o), 10);
        else
            i = parseInt(o, 10);
        if (!a)
            if (e)
                this.lastTriggeredVirtualPropertyChangeTimestamp = l;
            else
                this.lastTriggeredVirtualPropertyChangeTimestamp = void 0;
        if (this.triggerVirtualPropertyChange(r, {
            silent: !a
        }),
        this.checkTimeout(this.uid))
            if (e)
                if (isNumber(i))
                    return i;
                else
                    this.clearTimeout();
            else
                this.clearTimeout(),
                this.addTimeout(i);
        else if (isNumber(i))
            this.addTimeout(i);
        else
            this.clearTimeout()
    }
    ,
    e.prototype.calculateCurrentValue = function() {
        var e = this.getRate()
          , i = this.getPropertyBaseValue()
          , o = this.getLastPropertyBaseValueTimestamp()
          , r = i + e * (a.server() - o);
        return {
            rate: e,
            propertyBaseValue: i,
            lastPropertyBaseValueUpdate: o,
            unprocessedCurrentValue: r,
            currentValue: this.postProcessValue(r)
        }
    }
    ,
    e.prototype.currentValue = function() {
        return this.calculateCurrentValue().currentValue
    }
    ,
    e.prototype.postProcessValue = function(e) {
        return this.callCallback("valuePostProcessor", e, e)
    }
    ,
    e.prototype.getRate = function() {
        if (this.getLastPropertyBaseValueTimestamp() > a.server())
            return 0;
        else
            return this.callCallback("rateMethod")
    }
    ,
    e.prototype.getPropertyBaseValue = function() {
        return this.callCallback("basePropertyMethod", 0)
    }
    ,
    e.prototype.getLastPropertyBaseValueTimestamp = function() {
        return this.callCallback("lastPropertyBaseValueTimestampMethod")
    }
    ,
    e.prototype.hasImmediateChange = function(e) {
        return this.callCallback("hasImmediateChangeMethod", !1, this.lastTriggeredVirtualPropertyValue, e)
    }
    ,
    e.prototype.getNextChangeUnlimitedIn = function(e) {
        return this.callCallback("nextChangeInMethod", "error", e)
    }
    ,
    e.prototype.callCallback = function(e, i) {
        var e = this.callbacks[e]
          , o = Array.prototype.slice.call(arguments, 2);
        if ("string" == typeof e)
            return this.model[e].apply(this.model, o);
        else if ("function" == typeof e)
            return e.apply(this.model, o);
        else
            return i
    }
    ,
    e.prototype.triggerVirtualPropertyChange = function(e, i) {
        this.lastTriggeredVirtualPropertyValue = e,
        this.model.set(this.propertyName, e, i)
    }
    ,
    e.prototype.checkTimeout = function(e) {
        return TM.hasResourceTimerId(e)
    }
    ,
    e.prototype.addTimeout = function(e) {
        TM.addToResourceTimer(this.uid, this.calculateAndTriggerVirtualPropertyImmediateBound)
    }
    ,
    e.prototype.clearTimeout = function() {
        TM.removeFromResourceTimer(this.uid)
    }
    ,
    window.DeltaProperty = e
}(),
define("strategy/base_construction_queue", function() {
    "use strict";
    function e(e) {
        if (void 0 !== e)
            this.data = e,
            this.collections = e.collections || {},
            this.models = e.models || {},
            this.l10n = e.l10n || {}
    }
    return e.prototype.getl10n = function() {
        return GameControllers.BaseController.prototype.getl10n.apply(this, arguments)
    }
    ,
    e.prototype.getCollection = function() {
        return GameControllers.BaseController.prototype.getCollection.apply(this, arguments)
    }
    ,
    e.prototype.getOrderById = function(e) {
        return this.getOrdersCollection().getOrderById(e)
    }
    ,
    e.prototype.getModel = function() {
        return GameControllers.BaseController.prototype.getModel.apply(this, arguments)
    }
    ,
    e.prototype.getIconType = function() {
        throw "Please implement getIconType method for the strategy which inherits from BaseConstructionQueue"
    }
    ,
    e.prototype.getQueueType = function() {
        throw "Please implement getQueueType method for the strategy which inherits from BaseConstructionQueue"
    }
    ,
    e.prototype.getTemplateName = function() {
        throw "Please implement getTemplateName method for the strategy which inherits from BaseConstructionQueue"
    }
    ,
    e.prototype.getViewClass = function() {
        throw "Please implement getViewClass method for the strategy which inherits from BaseConstructionQueue"
    }
    ,
    e.prototype.getControllerClass = function() {
        throw "Please implement getControllerClass method for the strategy which inherits from BaseConstructionQueue"
    }
    ,
    e.prototype.onPremiumActionCall = function() {
        throw "Please implement onPremiumActionCall method for the strategy which inherits from BaseConstructionQueue"
    }
    ,
    e.prototype.getBuildTimeReductionButtonTooltip = function() {
        throw "Please implement getBuildTimeReductionButtonTooltip method for the strategy which inherits from BaseConstructionQueue"
    }
    ,
    e.prototype.getCancelOrderTooltip = function() {
        throw "Please implement getCancelOrderTooltip method for the strategy which inherits from BaseConstructionQueue"
    }
    ,
    e.prototype.onOrderCancel = function() {
        throw "Please implement onOrderCancel method for the strategy which inherits from BaseConstructionQueue"
    }
    ,
    e.prototype.getCompletionTimeTooltip = function() {
        throw "Please implement getCompletionTimeTooltip method for the strategy which inherits from BaseConstructionQueue"
    }
    ,
    e.prototype.getItemName = function() {
        throw "Please implement getItemName method for the strategy which inherits from BaseConstructionQueue"
    }
    ,
    e.prototype.doInitializeTimer = function() {
        throw "Please implement doInitializeTimer method for the strategy which inherits from BaseConstructionQueue"
    }
    ,
    e.prototype.doInitializeProgressbar = function() {
        throw "Please implement doInitializeProgressbar method for the strategy which inherits from BaseConstructionQueue"
    }
    ,
    e.prototype.doInitializePremiumButton = function() {
        throw "Please implement doInitializePremiumButton method for the strategy which inherits from BaseConstructionQueue"
    }
    ,
    e.prototype.getPremiumFeaturePrice = function() {
        throw "Please implement getPremiumFeaturePrice method for the strategy which inherits from BaseConstructionQueue"
    }
    ,
    e.prototype.getOrdersCollection = function() {
        throw "Please implement getOrdersCollection method for the strategy which inherits from BaseConstructionQueue"
    }
    ,
    e.prototype.getOrders = function() {
        throw "Please implement getOrders method for the strategy which inherits from BaseConstructionQueue"
    }
    ,
    e.prototype.getCurrentTownModel = function() {
        return GameControllers.ConstructionQueueBaseController.prototype.getCurrentTownModel.apply(this, arguments)
    }
    ,
    e.prototype.__getHalveBuildingTimeNotEnoughGoldWindowData = function(e, i, o) {
        return {
            type: e.getType(),
            order_id: e.getId(),
            completed_at: e.getToBeCompletedAt(),
            completed_at_prev: this._getCompletedAtOfPreviousOrder(e, i),
            building_type: o || null
        }
    }
    ,
    e.prototype._getCompletedAtOfPreviousOrder = function(e, i) {
        for (var o = 0, r = 0; r < i.length; r++)
            if (i[r].getId() < e.getId())
                o = i[r].getToBeCompletedAt();
        return o
    }
    ,
    e
}),
define("strategy/researches_queue_default", function() {
    "use strict";
    var e = require("strategy/base_construction_queue");
    function i() {
        e.prototype.constructor.apply(this, arguments)
    }
    return i.inherits(e),
    i.prototype.getTemplateName = function() {
        return "queue"
    }
    ,
    i.prototype.getIconType = function() {
        return "research_icon research40x40"
    }
    ,
    i.prototype.getQueueType = function() {
        return "type_research_queue type_time_reduction"
    }
    ,
    i.prototype.getProgressbarTemplateName = function() {
        return "tpl_pb_time_without_numbers"
    }
    ,
    i.prototype.getViewClass = function() {
        return GameViews.ResearchesQueueView
    }
    ,
    i.prototype.getControllerClass = function() {
        return GameControllers.ResearchesQueueController
    }
    ,
    i.prototype.doInitializeTimer = function(e) {
        return 0 === e
    }
    ,
    i.prototype.doInitializeProgressbar = function(e) {
        return 0 === e
    }
    ,
    i.prototype.doInitializePremiumButton = function() {
        return !0
    }
    ,
    i.prototype.onPremiumActionCall = function(e, i, o, r, a) {
        o = this.__getHalveBuildingTimeNotEnoughGoldWindowData(i, o);
        BuyForGoldWindowFactory.openReductResearchBuildTimeForGoldWindow(e, o, function() {
            i.halveResearchTime(a)
        })
    }
    ,
    i.prototype.getBuildTimeReductionButtonTooltip = function(e, i) {
        var i = this.getl10n("construction_queue").tooltips.time_reduct.research(i)
          , o = this.getModel("player_ledger").getGold();
        return TooltipFactory.getPremiumFeatureInfo("gold", i, o)
    }
    ,
    i.prototype.getCancelOrderTooltip = function(e) {
        return this.getl10n("construction_queue").tooltips.cancel_order.research + "<br />" + TooltipFactory.getRefundTooltip(e.getCancelRefund())
    }
    ,
    i.prototype.onOrderCancel = function(e) {
        ConfirmationWindowFactory.openConfirmationResearchOrderCancel(function() {
            e.cancel(),
            $.Observer(GameEvents.building.academy.research.cancel).publish({
                research_id: e.getType()
            })
        }, null, {
            demolish: e.hasTearDown()
        })
    }
    ,
    i.prototype.getCompletionTimeTooltip = function(e) {
        return this.getl10n("construction_queue").tooltips.completion.research(e.getCompletedAtHuman())
    }
    ,
    i.prototype.getItemName = function(e) {
        return GameData.researches[e].name
    }
    ,
    i.prototype.getPremiumActionButtonSettings = function() {
        return {}
    }
    ,
    i.prototype.getPremiumFeaturePrice = function(e) {
        return this.getOrdersCollection().getPremiumFeaturePrice(e)
    }
    ,
    i.prototype.getOrdersCollection = function() {
        return GameControllers.ResearchesQueueController.prototype.getOrdersCollection.apply(this, arguments)
    }
    ,
    i.prototype.getOrders = function() {
        return GameControllers.ResearchesQueueController.prototype.getOrders.apply(this, arguments)
    }
    ,
    i
}),
define("strategy/researches_queue_instant_buy", function() {
    "use strict";
    var e = require("strategy/base_construction_queue");
    function i() {
        e.prototype.constructor.apply(this, arguments)
    }
    return i.inherits(e),
    i.prototype.getTemplateName = function() {
        return "queue_instant_buy"
    }
    ,
    i.prototype.getIconType = function() {
        return "research_icon research40x40"
    }
    ,
    i.prototype.getQueueType = function() {
        return "type_research_queue type_instant_buy"
    }
    ,
    i.prototype.getProgressbarTemplateName = function() {
        return "tpl_pb_single"
    }
    ,
    i.prototype.getViewClass = function() {
        return GameViews.ConstructionQueueInstantBuyBaseView(GameViews.ResearchesQueueView)
    }
    ,
    i.prototype.getControllerClass = function() {
        return GameControllers.ConstructionQueueInstantBuyBaseController(GameControllers.ResearchesQueueInstantBuyController)
    }
    ,
    i.prototype.doInitializeTimer = function(e) {
        return 0 === e
    }
    ,
    i.prototype.doInitializeProgressbar = function(e) {
        return 0 === e
    }
    ,
    i.prototype.doInitializePremiumButton = function(e) {
        return 0 === e
    }
    ,
    i.prototype.onPremiumActionCall = function(e, i, o, r, a) {
        BuyForGoldWindowFactory.openResearchesInstantBuyForGoldWindow(e, r, function() {
            i.buyInstant(a)
        })
    }
    ,
    i.prototype.getBuildTimeReductionButtonTooltip = function() {
        return ""
    }
    ,
    i.prototype.getCancelOrderTooltip = function(e) {
        return this.getl10n("construction_queue").tooltips.cancel_order.research + "<br />" + TooltipFactory.getRefundTooltip(e.getCancelRefund())
    }
    ,
    i.prototype.onOrderCancel = function(e) {
        ConfirmationWindowFactory.openConfirmationResearchOrderCancel(function() {
            e.cancel(),
            $.Observer(GameEvents.building.academy.research.cancel).publish({
                research_id: e.getType()
            })
        }, null, {
            demolish: e.hasTearDown()
        })
    }
    ,
    i.prototype.getCompletionTimeTooltip = function(e) {
        return this.getl10n("construction_queue").tooltips.completion.research(e.getCompletedAtHuman())
    }
    ,
    i.prototype.getItemName = function(e) {
        return GameData.researches[e].name
    }
    ,
    i.prototype.getPremiumActionButtonSettings = function(e) {
        var i = this.getPremiumFeaturePrice(e)
          , o = this.getl10n("construction_queue")
          , e = 0 === e.getTimeLeft();
        if (0 === i)
            return {
                caption: o.free,
                icon: !1,
                css_classes: "instant_buy type_free",
                disabled: e
            };
        else
            return {
                caption: i,
                icon: !0,
                icon_type: "gold",
                disabled: e
            }
    }
    ,
    i.prototype.getPremiumFeaturePrice = function(e) {
        return this.getOrdersCollection().getPremiumFeaturePrice(e)
    }
    ,
    i.prototype.getOrdersCollection = function() {
        return GameControllers.ResearchesQueueController.prototype.getOrdersCollection.apply(this, arguments)
    }
    ,
    i.prototype.getOrders = function() {
        return GameControllers.ResearchesQueueController.prototype.getOrders.apply(this, arguments)
    }
    ,
    i
}),
define("strategy/buildings_queue_default", function() {
    "use strict";
    var e = require("strategy/base_construction_queue");
    function i() {
        e.prototype.constructor.apply(this, arguments)
    }
    return i.inherits(e),
    i.prototype.getTemplateName = function() {
        return "queue"
    }
    ,
    i.prototype.getIconType = function() {
        return "building_icon40x40"
    }
    ,
    i.prototype.getQueueType = function() {
        return "type_building_queue type_time_reduction"
    }
    ,
    i.prototype.getProgressbarTemplateName = function() {
        return "tpl_pb_time_without_numbers"
    }
    ,
    i.prototype.getViewClass = function() {
        return GameViews.LayoutConstructionQueue
    }
    ,
    i.prototype.getControllerClass = function() {
        return GameControllers.LayoutConstructionQueueController
    }
    ,
    i.prototype.doInitializeTimer = function(e) {
        return 0 === e
    }
    ,
    i.prototype.doInitializeProgressbar = function(e) {
        return 0 === e
    }
    ,
    i.prototype.doInitializePremiumButton = function(e) {
        return !0
    }
    ,
    i.prototype.onPremiumActionCall = function(e, i, o, r, a) {
        o = this.__getHalveBuildingTimeNotEnoughGoldWindowData(i, o);
        BuyForGoldWindowFactory.openReductBuildingBuildTimeForGoldWindow(e, o, function() {
            i.halveBuildTime(a),
            e.enable()
        })
    }
    ,
    i.prototype.getBuildTimeReductionButtonTooltip = function(e, i) {
        i = this.getl10n("construction_queue").tooltips.time_reduct.building(i, e.hasTearDown()),
        e = this.getModel("player_ledger").getGold();
        return TooltipFactory.getPremiumFeatureInfo("gold", i, e)
    }
    ,
    i.prototype.getCancelOrderTooltip = function(e) {
        return this.getl10n("construction_queue").tooltips.cancel_order.building(e.hasTearDown()) + "<br />" + TooltipFactory.getRefundTooltip(e.getCancelRefund())
    }
    ,
    i.prototype.onOrderCancel = function(e) {
        ConfirmationWindowFactory.openConfirmationBuildingOrderCancel(function() {
            e.cancel()
        }, null, {
            demolish: e.hasTearDown()
        })
    }
    ,
    i.prototype.getCompletionTimeTooltip = function(e) {
        return this.getl10n("construction_queue").tooltips.completion.building(e.getCompletedAtHuman())
    }
    ,
    i.prototype.getItemName = function(e) {
        return GameData.buildings[e].name
    }
    ,
    i.prototype.getPremiumActionButtonSettings = function() {
        return {}
    }
    ,
    i.prototype.getPremiumFeaturePrice = function(e) {
        return this.getOrdersCollection().getPremiumFeaturePrice(e)
    }
    ,
    i.prototype.getOrdersCollection = function() {
        return GameControllers.LayoutConstructionQueueController.prototype.getOrdersCollection.apply(this, arguments)
    }
    ,
    i.prototype.getOrders = function() {
        return GameControllers.LayoutConstructionQueueController.prototype.getOrders.apply(this, arguments)
    }
    ,
    i
}),
define("strategy/buildings_queue_instant_buy", function() {
    "use strict";
    var e = require("strategy/base_construction_queue");
    function i() {
        e.prototype.constructor.apply(this, arguments)
    }
    return i.inherits(e),
    i.prototype.getTemplateName = function() {
        return "queue_instant_buy"
    }
    ,
    i.prototype.getIconType = function() {
        return "building_icon40x40"
    }
    ,
    i.prototype.getQueueType = function() {
        return "type_building_queue type_instant_buy"
    }
    ,
    i.prototype.getProgressbarTemplateName = function() {
        return "tpl_pb_single"
    }
    ,
    i.prototype.getViewClass = function() {
        return GameViews.ConstructionQueueInstantBuyBaseView(GameViews.LayoutConstructionQueue)
    }
    ,
    i.prototype.getControllerClass = function() {
        return GameControllers.ConstructionQueueInstantBuyBaseController(GameControllers.LayoutConstructionQueueInstantBuyController)
    }
    ,
    i.prototype.doInitializeTimer = function(e) {
        return 0 === e
    }
    ,
    i.prototype.doInitializeProgressbar = function(e) {
        return 0 === e
    }
    ,
    i.prototype.doInitializePremiumButton = function(e) {
        return 0 === e
    }
    ,
    i.prototype.onPremiumActionCall = function(e, i, o, r, a) {
        BuyForGoldWindowFactory.openBuildingsInstantBuyForGoldWindow(e, r, i, function() {
            i.buyInstant(a)
        })
    }
    ,
    i.prototype.getBuildTimeReductionButtonTooltip = function() {
        return ""
    }
    ,
    i.prototype.getCancelOrderTooltip = function(e) {
        return this.getl10n("construction_queue").tooltips.cancel_order.building(e.hasTearDown()) + "<br />" + TooltipFactory.getRefundTooltip(e.getCancelRefund())
    }
    ,
    i.prototype.onOrderCancel = function(e) {
        ConfirmationWindowFactory.openConfirmationBuildingOrderCancel(function() {
            e.cancel()
        }, null, {
            demolish: e.hasTearDown()
        })
    }
    ,
    i.prototype.getCompletionTimeTooltip = function(e) {
        return this.getl10n("construction_queue").tooltips.completion.research(e.getCompletedAtHuman())
    }
    ,
    i.prototype.getItemName = function(e) {
        return GameData.buildings[e].name
    }
    ,
    i.prototype.getPremiumActionButtonSettings = function(e) {
        var i = this.getPremiumFeaturePrice(e)
          , o = this.getl10n().construction_queue
          , e = !this._areRequirementsFulfilled(e) || 0 === e.getTimeLeft();
        if (0 === i)
            return {
                caption: o.free,
                icon: !1,
                css_classes: "instant_buy type_free",
                disabled: e
            };
        else
            return {
                caption: i,
                icon: !0,
                icon_type: "gold",
                disabled: e
            }
    }
    ,
    i.prototype._areRequirementsFulfilled = function(e) {
        return 0 === this._getBuildingMissingRequirements(e).length
    }
    ,
    i.prototype._getBuildingMissingRequirements = function(e) {
        return GameDataInstantBuy.getBuildingMissingRequirements(this.getOrdersCollection(), this._getCurrentTownModel(), e)
    }
    ,
    i.prototype._getCurrentTownModel = function() {
        return this.getCollection("towns").getCurrentTown()
    }
    ,
    i.prototype.getPremiumFeaturePrice = function(e) {
        return this.getOrdersCollection().getPremiumFeaturePrice(e)
    }
    ,
    i.prototype.getOrdersCollection = function() {
        return GameControllers.LayoutConstructionQueueController.prototype.getOrdersCollection.apply(this, arguments)
    }
    ,
    i.prototype.getOrders = function() {
        return GameControllers.LayoutConstructionQueueController.prototype.getOrders.apply(this, arguments)
    }
    ,
    i
}),
define("strategy/units_queue_default", function() {
    "use strict";
    var e = require("strategy/base_construction_queue");
    function i() {
        e.prototype.constructor.apply(this, arguments)
    }
    return i.inherits(e),
    i.prototype.getBuildingType = function() {
        return this.data.building_type
    }
    ,
    i.prototype.getTownId = function() {
        return this.data.town_id
    }
    ,
    i.prototype.getTemplateName = function() {
        return "queue"
    }
    ,
    i.prototype.getIconType = function() {
        return "unit_icon40x40"
    }
    ,
    i.prototype.getQueueType = function() {
        return "type_unit_queue type_time_reduction"
    }
    ,
    i.prototype.getProgressbarTemplateName = function() {
        return "tpl_pb_time_without_numbers"
    }
    ,
    i.prototype.getViewClass = function() {
        return GameViews.UnitsQueueView
    }
    ,
    i.prototype.getControllerClass = function() {
        return GameControllers.UnitsQueueController
    }
    ,
    i.prototype.doInitializeTimer = function(e) {
        return 0 === e
    }
    ,
    i.prototype.doInitializeProgressbar = function() {
        return !1
    }
    ,
    i.prototype.doInitializePremiumButton = function() {
        return !0
    }
    ,
    i.prototype.onPremiumActionCall = function(e, i, o, r, a) {
        o = this.__getHalveBuildingTimeNotEnoughGoldWindowData(i, o, i.getProductionBuildingType());
        BuyForGoldWindowFactory.openReductUnitBuildTimeForGoldWindow(e, o, function() {
            i.buildTimeReduct(a)
        })
    }
    ,
    i.prototype.getBuildTimeReductionButtonTooltip = function(e, i) {
        var i = this.getl10n("construction_queue").tooltips.time_reduct.unit(i)
          , o = this.getModel("player_ledger").getGold();
        return TooltipFactory.getPremiumFeatureInfo("gold", i, o)
    }
    ,
    i.prototype.getCancelOrderTooltip = function(e) {
        return this.getl10n("construction_queue").tooltips.cancel_order.unit + "<br />" + TooltipFactory.getRefundTooltip(e.getCancelRefund())
    }
    ,
    i.prototype.onOrderCancel = function(e) {
        ConfirmationWindowFactory.openConfirmationUnitOrderCancel(function() {
            e.cancelOrder()
        })
    }
    ,
    i.prototype.getCompletionTimeTooltip = function(e) {
        return this.getl10n("construction_queue").tooltips.completion.unit(e.getCompletedAtHuman())
    }
    ,
    i.prototype.getItemName = function(e) {
        return GameData.units[e].name
    }
    ,
    i.prototype.getPremiumActionButtonSettings = function() {
        return {}
    }
    ,
    i.prototype.getPremiumFeaturePrice = function(e) {
        return this.getOrdersCollection().getPremiumFeaturePrice(e, this.getBuildingType())
    }
    ,
    i.prototype.getOrdersCollection = function() {
        return GameControllers.UnitsQueueController.prototype.getOrdersCollection.apply(this, arguments)
    }
    ,
    i.prototype.getOrders = function() {
        return GameControllers.UnitsQueueController.prototype.getOrders.apply(this, arguments)
    }
    ,
    i
}),
define("strategy/units_queue_instant_buy", function() {
    "use strict";
    var e = require("strategy/base_construction_queue");
    function i() {
        e.prototype.constructor.apply(this, arguments)
    }
    return i.inherits(e),
    i.prototype.getBuildingType = function() {
        return this.data.building_type
    }
    ,
    i.prototype.getTownId = function() {
        return this.data.town_id
    }
    ,
    i.prototype.getTemplateName = function() {
        return "queue_instant_buy"
    }
    ,
    i.prototype.getIconType = function() {
        return "unit_icon40x40"
    }
    ,
    i.prototype.getQueueType = function() {
        return "type_unit_queue type_instant_buy"
    }
    ,
    i.prototype.getProgressbarTemplateName = function() {
        return "tpl_pb_single"
    }
    ,
    i.prototype.getViewClass = function() {
        return GameViews.ConstructionQueueInstantBuyBaseView(GameViews.UnitsQueueView)
    }
    ,
    i.prototype.getControllerClass = function() {
        return GameControllers.ConstructionQueueInstantBuyBaseController(GameControllers.UnitsQueueInstantBuyController)
    }
    ,
    i.prototype.doInitializeTimer = function(e) {
        return 0 === e
    }
    ,
    i.prototype.doInitializeProgressbar = function(e) {
        return 0 === e
    }
    ,
    i.prototype.doInitializePremiumButton = function(e) {
        return 0 === e
    }
    ,
    i.prototype.onPremiumActionCall = function(e, i, o, r, a) {
        BuyForGoldWindowFactory.openUnitsInstantBuyForGoldWindow(e, r, function() {
            i.buyInstant(a)
        })
    }
    ,
    i.prototype.getBuildTimeReductionButtonTooltip = function() {
        return ""
    }
    ,
    i.prototype.getCancelOrderTooltip = function(e) {
        return this.getl10n("construction_queue").tooltips.cancel_order.unit + "<br />" + TooltipFactory.getRefundTooltip(e.getCancelRefund())
    }
    ,
    i.prototype.onOrderCancel = function(e) {
        ConfirmationWindowFactory.openConfirmationUnitOrderCancel(function() {
            e.cancelOrder()
        })
    }
    ,
    i.prototype.getCompletionTimeTooltip = function(e) {
        return this.getl10n("construction_queue").tooltips.completion.unit(e.getCompletedAtHuman())
    }
    ,
    i.prototype.getItemName = function(e) {
        return GameData.units[e].name
    }
    ,
    i.prototype._isInstantBuyBlocked = function() {
        return this.getCollection("feature_blocks").isInstantBuyBlocked(this.getTownId())
    }
    ,
    i.prototype.getPremiumActionButtonSettings = function(e) {
        return {
            caption: this.getPremiumFeaturePrice(e),
            icon: !0,
            icon_type: "gold",
            disabled: 0 === e.getTimeLeft() || this._isInstantBuyBlocked()
        }
    }
    ,
    i.prototype.getPremiumFeaturePrice = function(e) {
        return this.getOrdersCollection().getPremiumFeaturePrice(e, this.getBuildingType())
    }
    ,
    i.prototype.getOrdersCollection = function() {
        return GameControllers.UnitsQueueController.prototype.getOrdersCollection.apply(this, arguments)
    }
    ,
    i.prototype.getOrders = function() {
        return GameControllers.UnitsQueueController.prototype.getOrders.apply(this, arguments)
    }
    ,
    i
}),
define("strategy/cast_spell_base", function() {
    "use strict";
    function e(e) {
        if (void 0 !== e)
            this.data = e,
            this.collections = e.collections || {},
            this.models = e.models || {},
            this.l10n = e.l10n || {}
    }
    return e.prototype.getl10n = function() {
        return GameControllers.BaseController.prototype.getl10n.apply(this, arguments)
    }
    ,
    e.prototype.getCollection = function() {
        return GameControllers.BaseController.prototype.getCollection.apply(this, arguments)
    }
    ,
    e.prototype.getModel = function() {
        return GameControllers.BaseController.prototype.getModel.apply(this, arguments)
    }
    ,
    e.prototype.renderGodsFavor = function() {
        var r = this.controller.getCurrentFavorForGods()
          , a = this;
        this.$el.find(".js-god-box").each(function(e, i) {
            var i = $(i)
              , o = i.data("god_id");
            i.find(".js-favor").html(r[o]),
            a.updateButtonsStates(o)
        })
    }
    ,
    e
}),
define("strategy/cast_spell_other_town", function() {
    "use strict";
    var e = require("strategy/cast_spell_base");
    function i() {
        e.prototype.constructor.apply(this, arguments)
    }
    return i.inherits(e),
    i.prototype.getTemplateName = function() {
        return "queue"
    }
    ,
    i
}),
define("strategy/cast_spell_own_town", function() {
    "use strict";
    var e = require("strategy/cast_spell_base");
    function i() {
        e.prototype.constructor.apply(this, arguments)
    }
    return i.inherits(e),
    i.prototype.removeActiveStatus = function(e, i) {
        var o = e.$parent.find(".gods_spells_menu .middle .content .god_containers").find(".js-power-icon." + i);
        if (e.getComponent("powers_button_" + i, "powers_buttons"))
            e.unregisterComponent("animation_" + i, "powers_buttons_animations"),
            o.removeClass("active_animation")
    }
    ,
    i
}),
function() {
    "use strict";
    window.GameMixins.IntantBuyController = {
        registerUpdatePremiumButtonsCaptionsTimer: function() {
            this._registerUpdatePremiumButtonsCaptionsTimer(this.rerenderPage.bind(this))
        },
        _registerUpdatePremiumButtonsCaptionsTimer: function(e) {
            var i = this._getIntervalForNextCheck()
              , o = "update_premiumc_buttons_captions_" + this.getInstantBuyType() + "_" + this.cid;
            if (-1 !== i)
                this.registerTimerOnce(o, i, e);
            else
                this.unregisterTimer(o)
        },
        _getIntervalForNextCheck: function() {
            for (var e = this.getInstantBuyType(), i = us.keys(GameDataInstantBuy.getPriceTableForType(e)), o = this.getOrders(), r = 1 / 0, a = 0, l = o.length; a < l; a++)
                for (var u = o[a].getTimeLeft(), c = 0, d = i.length; c < d; c++) {
                    var h = u - i[c];
                    if (0 < h && h < r)
                        r = h
                }
            return r === 1 / 0 ? -1 : 1e3 * r
        }
    }
}(),
function() {
    "use strict";
    var o = "Daemon_Overdue_Refetch"
      , r = function() {
        NotificationLoader.resetNotificationRequestTimeout(100)
    };
    window.GrepolisCollectionAutomaticFetch = {
        current_poll_timeout: 1e3,
        initializeNotificationRequestHandler: function(e, i) {
            this._next_automatic_fetch_timer_name = null,
            this.onChangeAutomaticFetchHandler = function() {
                var e = this.first();
                if (null === this._next_automatic_fetch_timer_name)
                    this._next_automatic_fetch_timer_name = TM.generateUniqueId("next_automatic_fetch"),
                    this._next_automatic_fetch_timer_name_1 = this._next_automatic_fetch_timer_name + "_1",
                    this._next_automatic_fetch_timer_name_5 = this._next_automatic_fetch_timer_name + "_5";
                if (this.stopDaemonOverdueHandler(),
                TM.unregister(this._next_automatic_fetch_timer_name),
                TM.unregister(this._next_automatic_fetch_timer_name_1),
                TM.unregister(this._next_automatic_fetch_timer_name_5),
                e) {
                    e = 1e3 * i(this);
                    if (e <= 0)
                        this.startDaemonOverdueHandler();
                    else if (0 < e)
                        TM.once(this._next_automatic_fetch_timer_name, Math.max(1e3, e), r),
                        TM.once(this._next_automatic_fetch_timer_name_1, Math.max(1e3, e) + 1e3, r),
                        TM.once(this._next_automatic_fetch_timer_name_5, Math.max(1e3, e) + 5e3, r)
                }
            }
            ,
            this.on(e.join(" "), this.onChangeAutomaticFetchHandler, this)
        },
        stopDaemonOverdueHandler: function() {
            TM.unregister(o),
            this.current_poll_timeout = 1e3
        },
        startDaemonOverdueHandler: function() {
            TM.unregister(o);
            var e = function() {
                TM.once(o, this.current_poll_timeout, i)
            }
            .bind(this)
              , i = function() {
                r(),
                this.current_poll_timeout = Math.min(1.5 * this.current_poll_timeout, 3e4),
                e()
            }
            .bind(this);
            e()
        },
        setFetchBackendData: function(e) {
            r = e
        }
    }
}(),
define("data/world_wonders", function() {
    "use strict";
    var e = {
        getMaxExpansionStage: function() {
            return Game.constants.wonder.max_expansion_stage
        },
        getMythUnitsModificationForMausoleum: function() {
            return Game.constants.wonder.myth_units_modification_for_mausoleum
        },
        getResourceProductionModificationForHangingGardens: function() {
            return Game.constants.wonder.resource_production_modification_for_hanging_gardens
        },
        getStorageModificationForPyramid: function() {
            return Game.constants.wonder.storage_modification_for_pyramid
        },
        hasAgeOfWonderStarted: function() {
            return Timestamp.now() >= Game.age_of_wonder_started_at && 0 < Game.age_of_wonder_started_at
        }
    };
    return window.GameDataWorldWonders = e
}),
define("data/heroes", function() {
    "use strict";
    var l = {
        getMeta: function() {
            return GameData.heroes_meta
        },
        getSlotCost: function() {
            return this.getMeta().premium_slot_cost
        },
        getHero: function(e) {
            return GameData.heroes[e]
        },
        isHero: function(e) {
            return GameData.heroes.hasOwnProperty(e)
        },
        getHeroModel: function(e) {
            return MM.getCollections().PlayerHero[0].getHero(e)
        },
        getHeroType: function(e) {
            return GameData.heroes[e].category
        },
        areHeroesEnabled: function() {
            return !0 === Game.features.heroes_enabled
        },
        setHeroWelcomeHint: function(e) {
            Game.player_hint_settings.heroes_welcome_hint = e
        },
        hasHeroesWelcomeScreenBeenSeen: function() {
            return !Game.player_hint_settings.heroes_welcome_hint
        },
        getHeroesMaxCount: function() {
            return us.keys(GameData.heroes).length
        },
        getExclusiveHeroCount: function() {
            var e, i = 0, o = GameData.heroes;
            for (e in o)
                if (o.hasOwnProperty(e) && o[e].exclusive)
                    i++;
            return i
        },
        getHeroesCountWithoutExclusive: function() {
            return this.getHeroesMaxCount() - this.getExclusiveHeroCount()
        },
        getHalveCureTimeCost: function() {
            return this.getMeta().premium_halve_cure_cost
        },
        getMaxHeroesPerTown: function() {
            return this.getMeta().max_heroes_per_town
        },
        getMaxLevel: function() {
            return Game.constants.heroes_meta.max_level
        },
        isAnyTrainableHero: function() {
            var e = new window.GameCollections.PlayerHeroes;
            return e.repopulate(),
            e.isAnyTrainableHero()
        },
        getCoinsExchangeOfferDenominator: function() {
            return this.getMeta().coins_exchange_offer_denominator
        },
        getCoinsExchangeOfferNumerator: function() {
            return this.getMeta().coins_exchange_offer_numerator
        },
        getSettingsForHeroExperienceProgressbar: function(e, i) {
            var o = DM.getl10n("heroes", "overview");
            if (e.hasMaxLevel())
                return {
                    value: 1,
                    max: 1,
                    caption: o.max,
                    show_value: !1
                };
            else
                return {
                    value: e.getExperiencePoints(),
                    max: i.getExperienceLimit(e.getLevel() + 1)
                }
        },
        getSettingsForLevelingUpHeroButton: function(e) {
            var i, o = DM.getl10n("heroes", "overview"), r = l.getMaxLevel(), a = e.getLevel();
            if (a === r)
                i = o.btn_level_hero_max;
            else if (e.attacksTown())
                i = o.btn_level_hero_in_attack;
            else
                i = o.btn_level_hero;
            return {
                disabled: a === r || e.attacksTown(),
                state: a === r || e.attacksTown(),
                tooltips: [{
                    title: i
                }]
            }
        },
        getSettingsForHeroInjuredProgressbar: function(e) {
            return {
                caption: DM.getl10n("heroes", "common").healthy,
                clear_timer_if_zero: !0,
                show_caption_if_zero: !0,
                value: e.getHealingTimeLeft(),
                max: e.getHealingTime(),
                liveprogress: !0,
                type: "time",
                countdown: !0,
                template: "tpl_pb_single_nomax"
            }
        },
        getPriceForHeroesCall: function() {
            return this.getMeta().premium_rotate_offer_cost_gold
        },
        getHeroesObjForHeroPicker: function() {
            var o = [{
                info: DM.getl10n("place", "simulator").unassign,
                value: ""
            }];
            if (GameData.heroes)
                $.each(GameData.heroes, function(e, i) {
                    e = {
                        value: e,
                        level: i.name,
                        hero_level: 1
                    };
                    o.push(e)
                });
            return o
        }
    };
    return window.GameDataHeroes = l
}),
define("data/units", function() {
    "use strict";
    var e = ["sword", "slinger", "archer", "hoplite", "rider", "chariot", "catapult", "minotaur", "manticore", "zyklop", "harpy", "medusa", "centaur", "pegasus", "cerberus", "fury", "griffin", "calydonian_boar", "satyr", "spartoi", "ladon", "godsent", "big_transporter", "bireme", "attack_ship", "demolition_ship", "small_transporter", "trireme", "colonize_ship", "siren", "sea_monster", "militia"]
      , p = require("enums/ground_units")
      , i = {
        isBuildTimeReductionEnabled: function() {
            return Game.unit_build_time_reduction
        },
        getUnitTypeOrder: function() {
            return e
        },
        getUnitOrderBuildTimeReductionCost: function() {
            return Game.constants.premium.unit_order_build_time_reduction_cost
        },
        getUnitsRuntimeSetupTime: function() {
            return Game.constants.units.runtime_setup_time
        },
        getMaxBuild: function(e) {
            var i, o, r, a, l = Game.townId, u = ITowns.getTown(l), c = u.resources(), d = GameData.units, h = u.god(), p = c.favor, f = {};
            for (i in e)
                if (e.hasOwnProperty(i)) {
                    if (!(r = d[i]))
                        throw "GameDataUnits.getMaxBuild(): incorrect unit_id";
                    if ("militia" !== r.id) {
                        if (a = GeneralModifications.getUnitBuildResourcesModification(l, r),
                        o = [],
                        0 < r.resources.wood)
                            o.push(parseInt(c.wood / (r.resources.wood * a), 10));
                        if (0 < r.resources.stone)
                            o.push(parseInt(c.stone / (r.resources.stone * a), 10));
                        if (0 < r.resources.iron)
                            o.push(parseInt(c.iron / (r.resources.iron * a), 10));
                        if (0 < r.population)
                            o.push(parseInt(c.population / r.population, 10));
                        if (r.favor)
                            if (h && (r.god_id === h || "all" === r.god_id))
                                o[o.length] = p / r.favor;
                        a = Math.floor(Array.prototype.min(o)),
                        f[i] = Math.max(0, a === 1 / 0 || this.hasDependencies(i) ? 0 : a)
                    }
                }
            return f
        },
        getMaxBuildForSingleUnit: function(e) {
            var i = {};
            return i[e] = "something",
            this.getMaxBuild(i)[e]
        },
        getDependencies: function(e) {
            var i, o, r, a = ITowns.getTown(Game.townId), l = a.getBuildings(), u = a.getResearches(), a = GameData.units[e], c = GameData.researches, d = GameData.buildings, h = !1, p = a.building_dependencies, f = a.research_dependencies, g = f.length, m = [], w = [];
            if (p)
                for (i in p)
                    if (p.hasOwnProperty(i) && !l.hasBuildingWithLevel(i, p[i]))
                        m.push({
                            id: i,
                            name: d[i].name,
                            level: p[i]
                        }),
                        h = !0;
            for (o = 0; o < g; o++)
                if (r = f[o],
                !u.hasResearch(r))
                    w.push({
                        id: r,
                        name: c[r].name
                    }),
                    h = !0;
            return h ? {
                buildings: m,
                researches: w
            } : {}
        },
        hasDependencies: function(e) {
            return !us.isEmpty(this.getDependencies(e))
        },
        hasNavalUnits: function(e) {
            for (var i = this.navalUnitIds(), o = i.length, r = 0; r < o; r++)
                if (e[i[r]])
                    return !0;
            return !1
        },
        hasGroundUnits: function(e) {
            for (var i = this.groundUnitIds(), o = i.length, r = 0; r < o; r++)
                if (e[i[r]])
                    return !0;
            return !1
        },
        hasTransportUnits: function(i) {
            return Object.keys(i).some(function(e) {
                if (void 0 === GameData.units[e])
                    return 0;
                else
                    return GameData.units[e].capacity && 0 < i[e]
            })
        },
        getEnabledUnits: function() {
            var e, i = GameData.units, o = GameData.gods, r = {};
            for (e in i)
                if (i.hasOwnProperty(e)) {
                    var a = i[e];
                    if (null == a.god_id || "all" === a.god_id || o[a.god_id])
                        r[e] = a
                }
            return r
        },
        allUnitIds: function() {
            var e, i = [], o = GameData.units;
            for (e in o)
                if (o.hasOwnProperty(e))
                    i.push(e);
            return i
        },
        navalUnitIds: function() {
            var e, i = [], o = GameData.units;
            for (e in o)
                if (o.hasOwnProperty(e) && o[e].is_naval)
                    i.push(e);
            return i
        },
        groundUnitIds: function() {
            var e, i = [], o = GameData.units;
            for (e in o)
                if (o.hasOwnProperty(e) && !o[e].is_naval)
                    i.push(e);
            return i
        },
        flyingUnitIds: function() {
            var e, i = [], o = GameData.units;
            for (e in o)
                if (o.hasOwnProperty(e) && o[e].flying)
                    i.push(e);
            return i
        },
        isFlyingUnit: function(e) {
            return -1 !== this.flyingUnitIds().indexOf(e)
        },
        hasFlyingUnitsOnly: function(e) {
            return !Object.keys(e).find(function(e) {
                return !(this.isFlyingUnit(e) || GameData.units[e].is_naval)
            }
            .bind(this))
        },
        isEmpty: function(e) {
            var i, o = GameData.units;
            for (i in o)
                if (o.hasOwnProperty(i) && e[i])
                    return !1;
            return !0
        },
        calculateCapacity: function(e, i, o) {
            var r, a = GameData.units, e = ITowns.getTown(e), l = 0;
            if (e && e.getResearches().hasBerth() || o)
                l = GameDataResearches.getBonusBerth();
            var u, c, d = 0, h = 0, e = a.big_transporter.capacity, o = a.small_transporter.capacity;
            for (u in i)
                if (i.hasOwnProperty(u))
                    if (c = i[u],
                    r = a[u],
                    0 < c && !r.flying)
                        if (r.is_naval)
                            d += 0 < r.capacity ? (r.capacity + l) * c : 0;
                        else if (u === p.SPARTOI)
                            h += c;
                        else
                            h += r.population * c;
            return {
                total_capacity: d,
                needed_capacity: h,
                slow_boats_needed: Math.ceil(h / (e + l)),
                fast_boats_needed: Math.ceil(h / (o + l))
            }
        },
        getTotalBooty: function(o) {
            return Object.keys(o).reduce(function(e, i) {
                return e + (GameData.units[i].booty ? GameData.units[i].booty * o[i] : 0)
            }, 0)
        },
        getTranslatedUnitNameSingular: function(e) {
            return GameData.units[e].name
        },
        getTranslatedUnitNamePlural: function(e) {
            return GameData.units[e].name_plural
        },
        getUnitSpeed: function(e) {
            return (GameData.units[e] || GameData.heroes[e]).speed
        },
        getUnit: function(e) {
            return GameData.units[e]
        },
        getCombinedIconCssClasses: function(e) {
            var e = this.getUnit(e)
              , i = require("enums/unit_function")
              , o = [];
            if (e.unit_function === i.OFFENSIVE_DEFENSIVE)
                o.push(i.OFFENSIVE, i.DEFENSIVE);
            else
                o.push(e.unit_function);
            return (o = o.concat(e.special_abilities)).push(e.category),
            o
        }
    };
    return window.GameDataUnits = i
}),
function() {
    "use strict";
    window.PreloadedData.Sounds = {
        load: function(e) {
            var i;
            GameData.add({
                Sounds: (i = e,
                {
                    background: {
                        theme_1_1: {
                            path: "100001_BGmusic01_Version_02",
                            category: "background",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        theme_1_2: {
                            path: "100002_BGmusic02_Version_01",
                            category: "background",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        theme_1_3: {
                            path: "100003_BGmusic03_Version_01",
                            category: "background",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        theme_1_4: {
                            path: "100004_BGmusic04_Version_01",
                            category: "background",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        theme_1_5: {
                            path: "100005_BGmusic05_Version_01",
                            category: "background",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        theme_1_6: {
                            path: "100006_BGmusic06_Version_01",
                            category: "background",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        theme_1_7: {
                            path: "100007_BGmusic07_Version_01",
                            category: "background",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        theme_1_8: {
                            path: "100008_BGmusic08_Version_01",
                            category: "background",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        theme_1_9: {
                            path: "100009_BGmusic09_Version_01",
                            category: "background",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        theme_1_10: {
                            path: "100010_BGmusic10_Version_01",
                            category: "background",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        theme_1_11: {
                            path: "100011_BGmusic11_Version_01",
                            category: "background",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        theme_1_12: {
                            path: "100012_BGmusic12_Version_01",
                            category: "background",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        theme_1_13: {
                            path: "100013_BGmusic13_Version_01",
                            category: "background",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        theme_1_14: {
                            path: "100014_BGmusic14_Version_01",
                            category: "background",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        theme_1_15: {
                            path: "100015_BGmusic15_Version_01",
                            category: "background",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        theme_1_16: {
                            path: "100016_BGmusic16_Version_01",
                            category: "background",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_zeus_1: {
                            path: "101001_Zeus01_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_zeus_2: {
                            path: "101002_Zeus02_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_zeus_3: {
                            path: "101003_Zeus03_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_zeus_4: {
                            path: "101004_Zeus04_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_poseidon_1: {
                            path: "101006_Poseidon01_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_poseidon_2: {
                            path: "101007_Poseidon02_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_poseidon_3: {
                            path: "101007_Poseidon03_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_poseidon_4: {
                            path: "101007_Poseidon04_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_hera_1: {
                            path: "101011_Hera01_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_hera_2: {
                            path: "101012_Hera02_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_hera_3: {
                            path: "101013_Hera03_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_hera_4: {
                            path: "101014_Hera04_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_athene_1: {
                            path: "101016_Athene01_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_athene_2: {
                            path: "101017_Athene02_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_athene_3: {
                            path: "101018_Athene03_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_athene_4: {
                            path: "101019_Athene04_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_hades_1: {
                            path: "101021_Hades01_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_hades_2: {
                            path: "101022_Hades02_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_hades_3: {
                            path: "101023_Hades03_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_hades_4: {
                            path: "101024_Hades04_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_artemis_1: {
                            path: "101026_Artemis01_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_artemis_2: {
                            path: "101027_Artemis02_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_artemis_3: {
                            path: "101028_Artemis03_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_artemis_4: {
                            path: "101029_Artemis04_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_mehrere_1: {
                            path: "101031_mehrere_Goetter01_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_mehrere_2: {
                            path: "101032_mehrere_Goetter02_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_mehrere_3: {
                            path: "101033_mehrere_Goetter03_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        },
                        god_mehrere_4: {
                            path: "101034_mehrere_Goetter04_Version_01",
                            category: "gods",
                            options: {
                                volume: .5,
                                callbacks: {
                                    ended: function() {
                                        i.playBackground()
                                    }
                                }
                            }
                        }
                    },
                    button: {
                        buy_gold: {
                            click: {
                                path: "005009_Gold_kaufen_Version_01",
                                category: "click",
                                preload: !0,
                                options: {
                                    volume: .85,
                                    max_players: 1
                                }
                            }
                        }
                    },
                    click: {
                        path: "001001_Klick_Version_01",
                        category: "click",
                        preload: !0,
                        options: {
                            volume: .15
                        }
                    },
                    attack: {
                        incoming: {
                            path: "000001_Angriff_Version_01",
                            category: "effects",
                            preload: !0,
                            play_on_load: !0,
                            options: {
                                max_players: 1
                            }
                        }
                    },
                    command: {
                        build_unit: {
                            sword: {
                                path: "010001_Schwertkaempfer_ausbilden_Version_01",
                                category: "effects"
                            },
                            slinger: {
                                path: "010002_Schleuderer_ausbilden_Version_02",
                                category: "effects"
                            },
                            archer: {
                                path: "010003_Bogenschuetze_ausbilden_Version_02",
                                category: "effects"
                            },
                            hoplite: {
                                path: "010004_Hoplit_ausbilden_Version_02",
                                category: "effects"
                            },
                            rider: {
                                path: "010005_Reiter_ausbilden_Version_02",
                                category: "effects"
                            },
                            chariot: {
                                path: "010006_Streitwagen_ausbilden_Version_02",
                                category: "effects"
                            },
                            catapult: {
                                path: "010007_Katapult_ausbilden_Version_02",
                                category: "effects"
                            },
                            big_transporter: {
                                path: "011001_Transportschiff_bauen_Version_01",
                                category: "effects"
                            },
                            bireme: {
                                path: "011002_Bireme_bauen_Version_01",
                                category: "effects"
                            },
                            attack_ship: {
                                path: "011003_Feuerschiff_bauen_Version_01",
                                category: "effects"
                            },
                            demolition_ship: {
                                path: "011004_Brander_bauen_Version_01",
                                category: "effects"
                            },
                            small_transporter: {
                                path: "011005_Schnelles_Transportschiff_bauen_Version_01",
                                category: "effects"
                            },
                            trireme: {
                                path: "011006_Tireme_bauen_Version_01",
                                category: "effects"
                            },
                            colonize_ship: {
                                path: "011007_Kolonieschiff_bauen_Version_01",
                                category: "effects"
                            },
                            minotaur: {
                                path: "013001_Minotaurus_Version_01",
                                category: "effects"
                            },
                            manticore: {
                                path: "013002_Mantikor_Version_01",
                                category: "effects"
                            },
                            zyklop: {
                                path: "013003_Zyklop_Version_01",
                                category: "effects"
                            },
                            sea_monster: {
                                path: "013004_Hydra_Version_02",
                                category: "effects"
                            },
                            harpy: {
                                path: "013005_Harpie_Version_01",
                                category: "effects"
                            },
                            medusa: {
                                path: "013006_Medusa_Version_01",
                                category: "effects"
                            },
                            centaur: {
                                path: "013007_Zentaure_Version_01",
                                category: "effects"
                            },
                            pegasus: {
                                path: "013008_Pegasus_Version_01",
                                category: "effects"
                            },
                            cerberus: {
                                path: "013009_Zerberus_Version_01",
                                category: "effects"
                            },
                            fury: {
                                path: "013010_Eriniys_Version_01",
                                category: "effects"
                            },
                            griffin: {
                                path: "013011_Greif_Version_01",
                                category: "effects"
                            },
                            calydonian_boar: {
                                path: "013012_Kalydonischer_Eber_Version_01",
                                category: "effects"
                            },
                            godsent: {
                                path: "021001_Rekrutierung_Gottgesandter_Version_01",
                                category: "effects"
                            },
                            siren: {
                                path: "aphrodite/Unit_Recruit_Siren",
                                category: "effects"
                            },
                            satyr: {
                                path: "aphrodite/Unit_Recruit_Satyr",
                                category: "effects"
                            },
                            spartoi: {
                                path: "ares/Unit_Recruit_Spartoi",
                                category: "effects"
                            },
                            ladon: {
                                path: "ares/Unit_Recruit_Ladon",
                                category: "effects"
                            }
                        },
                        cast_power: {
                            divine_sign: {
                                path: "015001_Zeus_Goettliches_Zeichen_Version_02",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            bolt: {
                                path: "015002_Zeus_Blitz_Version_01",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            fair_wind: {
                                path: "015003_Zeus_Guenstiger_Wind_Version_01",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            transformation: {
                                path: "015004_Zeus_Zeus_Zorn_Version_02",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            kingly_gift: {
                                path: "015005_Poseidon_Geschenk_der_See_Version_01",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            call_of_the_ocean: {
                                path: "015006_Poseidon_Ruf_des_Meeres_Version_01",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            earthquake: {
                                path: "015007_Poseidon_Erdbeben_Version_01",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            sea_storm: {
                                path: "015008_Poseidon_Seesturm_Version_02",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            wedding: {
                                path: "015009_Hera_Hochzeit_Version_02",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            happiness: {
                                path: "015010_Hera_Zufriedenheit_Version_01",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            fertility_improvement: {
                                path: "015011_Hera_Geburtenzuwachs_Version_02",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            desire: {
                                path: "015012_Hera_Sehnsucht_Version_02",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            patroness: {
                                path: "015013_Athene_Schutzgoettin_Version_01",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            wisdom: {
                                path: "015014_Athene_Weisheit_Version_02",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            town_protection: {
                                path: "015015_Athene_Schutz_der_Stadt_Version_02",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            strength_of_heroes: {
                                path: "015016_Athene_Heldenkraft_Version_01",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            pest: {
                                path: "015017_Hades_Pest_Version_01",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            resurrection: {
                                path: "015018_Hades_Rueckkehr_aus_der_Unterwelt_Version_01",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            underworld_treasures: {
                                path: "015019_Hades_Schaetze_der_Unterwelt_Version_01",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            cap_of_invisibility: {
                                path: "015020_Hades_Helm_der_Unsichtbarkeit_Version_01",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            natures_gift: {
                                path: "015021_Artemis_Geschenk_der_Natur_Version_01",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            effort_of_the_huntress: {
                                path: "015022_Artemis_Bestreben_der_Jaegerin_Version_01",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            illusion: {
                                path: "015023_Artemis_Illusion_Version_01",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            cleanse: {
                                path: "015024_Artemis_Laauterung_Version_01",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            narcissism: {
                                path: "aphrodite/Spell_Cast_Narcissism",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            pygmalion: {
                                path: "aphrodite/Spell_Cast_Pygmalion",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            hymn_to_aphrodite: {
                                path: "aphrodite/Spell_Cast_Hymn_To_Aphrodite",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            charitable_festival: {
                                path: "aphrodite/Spell_Cast_Charitable_Festival",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            ares_army: {
                                path: "ares/Spell_Cast_Ares_Army",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            bloodlust: {
                                path: "ares/Spell_Cast_Bloodlust",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            ares_sacrifice: {
                                path: "ares/Spell_Cast_Ares_Sacrifice",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            },
                            spartan_training: {
                                path: "ares/Spell_Cast_Spartan_Training",
                                category: "effects",
                                options: {
                                    max_players: 1
                                }
                            }
                        },
                        cancel: {
                            troops: {
                                path: "020003_Rekrutierung_abbrechen_(Truppen)_Version_01",
                                category: "effects"
                            },
                            ships: {
                                path: "020004_Rekrutierung_abbrechen_(Schiffe)_Version_01",
                                category: "effects"
                            }
                        },
                        send_unit: {
                            troops: {
                                path: "009001_Angreifen_fremde_Stadt_kleine_Armee_Version_01",
                                category: "effects"
                            },
                            ships: {
                                path: "009004_Angreifen_mit_kleiner_Flotte_Version_01",
                                category: "effects"
                            }
                        }
                    },
                    god: {
                        change: {
                            zeus: {
                                path: "006045_Gottesauswahl_Tempel_Zeus_Version_01",
                                category: "effects"
                            },
                            poseidon: {
                                path: "006046_Gottesauswahl_Tempel_Poseidon_Version_01",
                                category: "effects"
                            },
                            hera: {
                                path: "006047_Gottesauswahl_Tempel_Hera_Version_01",
                                category: "effects"
                            },
                            athena: {
                                path: "006048_Gottesauswahl_Tempel_Athena_Version_01",
                                category: "effects"
                            },
                            hades: {
                                path: "006049_Gottesauswahl_Tempel_Hades_Version_01",
                                category: "effects"
                            },
                            artemis: {
                                path: "006050_Gottesauswahl_Tempel_Artemis_Version_01",
                                category: "effects"
                            },
                            aphrodite: {
                                path: "aphrodite/God_Change_Aphrodite",
                                category: "effects"
                            },
                            ares: {
                                path: "ares/God_Change_Ares",
                                category: "effects"
                            }
                        }
                    },
                    map: {
                        jump: {
                            path: "003001_Zu_Koordinaten_springen_Version_03",
                            category: "click",
                            preload: !0,
                            options: {
                                volume: .85
                            }
                        },
                        zoom_in: {
                            path: "003012_Reinzoomen_Version_01",
                            category: "click",
                            preload: !0,
                            options: {
                                volume: .85
                            }
                        },
                        zoom_out: {
                            path: "003013_Rauszoomen_Version_01",
                            category: "click",
                            preload: !0,
                            options: {
                                volume: .85
                            }
                        },
                        town: {
                            click: {
                                own: {
                                    path: "007001_Eigene_Stadt_Stufe_1_Version_01",
                                    category: "click",
                                    preload: !0,
                                    options: {
                                        volume: .85
                                    }
                                },
                                alliance: {
                                    path: "007006_Fremde_Stadt_Eigene_Allianz_Stufe_1_Version_01",
                                    category: "click",
                                    preload: !0,
                                    options: {
                                        volume: .85
                                    }
                                },
                                enemy: {
                                    path: "007011_Fremde_Stadt_feindliche_Allianz_Stufe_1_Version_01",
                                    category: "click",
                                    preload: !0,
                                    options: {
                                        volume: .85
                                    }
                                },
                                ghost_city: {
                                    path: "007022_Ruinen_Version_01",
                                    category: "click",
                                    preload: !0,
                                    options: {
                                        volume: .85
                                    }
                                }
                            }
                        },
                        context_menu: {
                            click: {
                                spells: {
                                    path: "007020_Zauber_Version_02",
                                    category: "click",
                                    options: {
                                        volume: .85
                                    }
                                },
                                overview: {
                                    path: "007021_Stadtinfo_Version_01",
                                    category: "click",
                                    preload: !0,
                                    options: {
                                        volume: .85
                                    }
                                },
                                espionage: {
                                    path: "020001_Spionage_fremde_Stadt_Version_01",
                                    category: "click",
                                    options: {
                                        volume: .85
                                    }
                                }
                            }
                        }
                    },
                    menu: {
                        messages: {
                            click: {
                                path: "003002_Nachrichten_und_Berichte_Version_01",
                                category: "effects",
                                preload: !0
                            }
                        },
                        alliance: {
                            click: {
                                path: "003003_Allianz_Version_02",
                                category: "effects",
                                preload: !0
                            }
                        },
                        alliance_forum: {
                            click: {
                                path: "003004_Allianz_Forum_Version_01",
                                category: "effects",
                                preload: !0
                            }
                        },
                        settings: {
                            click: {
                                path: "003005_Einstellungen_Version_01",
                                category: "effects",
                                preload: !0
                            }
                        },
                        profile: {
                            click: {
                                path: "003006_Profil_Version_01",
                                category: "effects",
                                preload: !0
                            }
                        },
                        ranking: {
                            click: {
                                path: "003007_Rangliste_Version_01",
                                category: "effects",
                                preload: !0
                            }
                        },
                        help: {
            